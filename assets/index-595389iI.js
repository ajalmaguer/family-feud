function $m(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qm={exports:{}},aa={},Gm={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),m0=Symbol.for("react.portal"),g0=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),w0=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),S0=Symbol.for("react.suspense"),C0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),ph=Symbol.iterator;function k0(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var Km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qm=Object.assign,Ym={};function $i(e,t,n){this.props=e,this.context=t,this.refs=Ym,this.updater=n||Km}$i.prototype.isReactComponent={};$i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xm(){}Xm.prototype=$i.prototype;function _d(e,t,n){this.props=e,this.context=t,this.refs=Ym,this.updater=n||Km}var vd=_d.prototype=new Xm;vd.constructor=_d;qm(vd,$i.prototype);vd.isPureReactComponent=!0;var mh=Array.isArray,Jm=Object.prototype.hasOwnProperty,wd={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function eg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Jm.call(t,r)&&!Zm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vo,type:e,key:s,ref:o,props:i,_owner:wd.current}}function T0(e,t){return{$$typeof:vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===vo}function I0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gh=/\/+/g;function Ya(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I0(""+e.key):t.toString(36)}function nl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vo:case m0:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ya(o,0):r,mh(i)?(n="",e!=null&&(n=e.replace(gh,"$&/")+"/"),nl(i,t,n,"",function(u){return u})):i!=null&&(Ed(i)&&(i=T0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gh,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",mh(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Ya(s,l);o+=nl(s,t,n,a,i)}else if(a=k0(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Ya(s,l++),o+=nl(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(e,t,n){if(e==null)return e;var r=[],i=0;return nl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function R0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},rl={transition:null},N0={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:rl,ReactCurrentOwner:wd};le.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!Ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=$i;le.Fragment=g0;le.Profiler=_0;le.PureComponent=_d;le.StrictMode=y0;le.Suspense=S0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=wd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Jm.call(t,a)&&!Zm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vo,type:e.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:w0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v0,_context:e},e.Consumer=e};le.createElement=eg;le.createFactory=function(e){var t=eg.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:E0,render:e}};le.isValidElement=Ed;le.lazy=function(e){return{$$typeof:x0,_payload:{_status:-1,_result:e},_init:R0}};le.memo=function(e,t){return{$$typeof:C0,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=rl.transition;rl.transition={};try{e()}finally{rl.transition=t}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(e,t){return wt.current.useCallback(e,t)};le.useContext=function(e){return wt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};le.useEffect=function(e,t){return wt.current.useEffect(e,t)};le.useId=function(){return wt.current.useId()};le.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return wt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};le.useRef=function(e){return wt.current.useRef(e)};le.useState=function(e){return wt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return wt.current.useTransition()};le.version="18.2.0";Gm.exports=le;var P=Gm.exports;const pe=Hm(P),P0=$m({__proto__:null,default:pe},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=P,A0=Symbol.for("react.element"),L0=Symbol.for("react.fragment"),M0=Object.prototype.hasOwnProperty,O0=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F0={key:!0,ref:!0,__self:!0,__source:!0};function tg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)M0.call(t,r)&&!F0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:A0,type:e,key:s,ref:o,props:i,_owner:O0.current}}aa.Fragment=L0;aa.jsx=tg;aa.jsxs=tg;Qm.exports=aa;var b=Qm.exports,qu={},ng={exports:{}},bt={},rg={exports:{}},ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,$){var q=F.length;F.push($);e:for(;0<q;){var ge=q-1>>>1,he=F[ge];if(0<i(he,$))F[ge]=$,F[q]=he,q=ge;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var $=F[0],q=F.pop();if(q!==$){F[0]=q;e:for(var ge=0,he=F.length,pt=he>>>1;ge<pt;){var qe=2*(ge+1)-1,En=F[qe],jt=qe+1,Vn=F[jt];if(0>i(En,q))jt<he&&0>i(Vn,En)?(F[ge]=Vn,F[jt]=q,ge=jt):(F[ge]=En,F[qe]=q,ge=qe);else if(jt<he&&0>i(Vn,q))F[ge]=Vn,F[jt]=q,ge=jt;else break e}}return $}function i(F,$){var q=F.sortIndex-$.sortIndex;return q!==0?q:F.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,c=3,v=!1,g=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=F)r(u),$.sortIndex=$.expirationTime,t(a,$);else break;$=n(u)}}function p(F){if(E=!1,y(F),!g)if(n(a)!==null)g=!0,He(S);else{var $=n(u);$!==null&&Ue(p,$.startTime-F)}}function S(F,$){g=!1,E&&(E=!1,m(D),D=-1),v=!0;var q=c;try{for(y($),f=n(a);f!==null&&(!(f.expirationTime>$)||F&&!ae());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,c=f.priorityLevel;var he=ge(f.expirationTime<=$);$=e.unstable_now(),typeof he=="function"?f.callback=he:f===n(a)&&r(a),y($)}else r(a);f=n(a)}if(f!==null)var pt=!0;else{var qe=n(u);qe!==null&&Ue(p,qe.startTime-$),pt=!1}return pt}finally{f=null,c=q,v=!1}}var T=!1,x=null,D=-1,W=5,B=-1;function ae(){return!(e.unstable_now()-B<W)}function G(){if(x!==null){var F=e.unstable_now();B=F;var $=!0;try{$=x(!0,F)}finally{$?J():(T=!1,x=null)}}else T=!1}var J;if(typeof h=="function")J=function(){h(G)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ee=ue.port2;ue.port1.onmessage=G,J=function(){ee.postMessage(null)}}else J=function(){N(G,0)};function He(F){x=F,T||(T=!0,J())}function Ue(F,$){D=N(function(){F(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,He(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(c){case 1:case 2:case 3:var $=3;break;default:$=c}var q=c;c=$;try{return F()}finally{c=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=c;c=F;try{return $()}finally{c=q}},e.unstable_scheduleCallback=function(F,$,q){var ge=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ge+q:ge):q=ge,F){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=q+he,F={id:d++,callback:$,priorityLevel:F,startTime:q,expirationTime:he,sortIndex:-1},q>ge?(F.sortIndex=q,t(u,F),n(a)===null&&F===n(u)&&(E?(m(D),D=-1):E=!0,Ue(p,q-ge))):(F.sortIndex=he,t(a,F),g||v||(g=!0,He(S))),F},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(F){var $=c;return function(){var q=c;c=$;try{return F.apply(this,arguments)}finally{c=q}}}})(ig);rg.exports=ig;var b0=rg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=P,Ft=b0;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var og=new Set,Ws={};function Hr(e,t){Di(e,t),Di(e+"Capture",t)}function Di(e,t){for(Ws[e]=t,e=0;e<t.length;e++)og.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=Object.prototype.hasOwnProperty,U0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yh={},_h={};function j0(e){return Yu.call(_h,e)?!0:Yu.call(yh,e)?!1:U0.test(e)?_h[e]=!0:(yh[e]=!0,!1)}function z0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V0(e,t,n,r){if(t===null||typeof t>"u"||z0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Et(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sd=/[\-:]([a-z])/g;function Cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sd,Cd);lt[t]=new Et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sd,Cd);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sd,Cd);lt[t]=new Et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Et(e,1,!1,e.toLowerCase(),null,!0,!0)});function xd(e,t,n,r){var i=lt.hasOwnProperty(t)?lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V0(t,n,i,r)&&(n=null),r||i===null?j0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jn=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uo=Symbol.for("react.element"),ri=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),Ju=Symbol.for("react.suspense"),Zu=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),ug=Symbol.for("react.offscreen"),vh=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=vh&&e[vh]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Xa;function Cs(e){if(Xa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xa=t&&t[1]||""}return`
`+Xa+e}var Ja=!1;function Za(e,t){if(!e||Ja)return"";Ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ja=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function B0(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=Za(e.type,!1),e;case 11:return e=Za(e.type.render,!1),e;case 1:return e=Za(e.type,!0),e;default:return""}}function ec(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ri:return"Portal";case Xu:return"Profiler";case kd:return"StrictMode";case Ju:return"Suspense";case Zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ag:return(e.displayName||"Context")+".Consumer";case lg:return(e._context.displayName||"Context")+".Provider";case Td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Id:return t=e.displayName||null,t!==null?t:ec(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return ec(e(t))}catch{}}return null}function W0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ec(t);case 8:return t===kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $0(e){var t=cg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jo(e){e._valueTracker||(e._valueTracker=$0(e))}function dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tc(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fg(e,t){t=t.checked,t!=null&&xd(e,"checked",t,!1)}function nc(e,t){fg(e,t);var n=dr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rc(e,t.type,n):t.hasOwnProperty("defaultValue")&&rc(e,t.type,dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Eh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rc(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xs=Array.isArray;function _i(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ic(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(xs(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dr(n)}}function hg(e,t){var n=dr(t.value),r=dr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ch(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zo,mg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zo=zo||document.createElement("div"),zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H0=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){H0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function gg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function yg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Q0=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oc(e,t){if(t){if(Q0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function lc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function Rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uc=null,vi=null,wi=null;function xh(e){if(e=So(e)){if(typeof uc!="function")throw Error(A(280));var t=e.stateNode;t&&(t=ha(t),uc(e.stateNode,e.type,t))}}function _g(e){vi?wi?wi.push(e):wi=[e]:vi=e}function vg(){if(vi){var e=vi,t=wi;if(wi=vi=null,xh(e),t)for(e=0;e<t.length;e++)xh(t[e])}}function wg(e,t){return e(t)}function Eg(){}var eu=!1;function Sg(e,t,n){if(eu)return e(t,n);eu=!0;try{return wg(e,t,n)}finally{eu=!1,(vi!==null||wi!==null)&&(Eg(),vg())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=ha(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var cc=!1;if(Mn)try{var os={};Object.defineProperty(os,"passive",{get:function(){cc=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{cc=!1}function G0(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Rs=!1,gl=null,yl=!1,dc=null,K0={onError:function(e){Rs=!0,gl=e}};function q0(e,t,n,r,i,s,o,l,a){Rs=!1,gl=null,G0.apply(K0,arguments)}function Y0(e,t,n,r,i,s,o,l,a){if(q0.apply(this,arguments),Rs){if(Rs){var u=gl;Rs=!1,gl=null}else throw Error(A(198));yl||(yl=!0,dc=u)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(Qr(e)!==e)throw Error(A(188))}function X0(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kh(i),e;if(s===r)return kh(i),t;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function xg(e){return e=X0(e),e!==null?kg(e):null}function kg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kg(e);if(t!==null)return t;e=e.sibling}return null}var Tg=Ft.unstable_scheduleCallback,Th=Ft.unstable_cancelCallback,J0=Ft.unstable_shouldYield,Z0=Ft.unstable_requestPaint,Be=Ft.unstable_now,ew=Ft.unstable_getCurrentPriorityLevel,Nd=Ft.unstable_ImmediatePriority,Ig=Ft.unstable_UserBlockingPriority,_l=Ft.unstable_NormalPriority,tw=Ft.unstable_LowPriority,Rg=Ft.unstable_IdlePriority,ua=null,yn=null;function nw(e){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ua,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:sw,rw=Math.log,iw=Math.LN2;function sw(e){return e>>>=0,e===0?32:31-(rw(e)/iw|0)|0}var Vo=64,Bo=4194304;function ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ks(l):(s&=o,s!==0&&(r=ks(s)))}else o=n&~i,o!==0?r=ks(o):s!==0&&(r=ks(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),i=1<<n,r|=e[n],t&=~i;return r}function ow(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-on(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=ow(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function fc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ng(){var e=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),e}function tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function aw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-on(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ye=0;function Pg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dg,Dd,Ag,Lg,Mg,hc=!1,Wo=[],er=null,tr=null,nr=null,Qs=new Map,Gs=new Map,Kn=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function ls(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=So(t),t!==null&&Dd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function cw(e,t,n,r,i){switch(t){case"focusin":return er=ls(er,e,t,n,r,i),!0;case"dragenter":return tr=ls(tr,e,t,n,r,i),!0;case"mouseover":return nr=ls(nr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qs.set(s,ls(Qs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gs.set(s,ls(Gs.get(s)||null,e,t,n,r,i)),!0}return!1}function Og(e){var t=kr(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Cg(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){Ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ac=r,n.target.dispatchEvent(r),ac=null}else return t=So(n),t!==null&&Dd(t),e.blockedOn=n,!1;t.shift()}return!0}function Rh(e,t,n){il(e)&&n.delete(t)}function dw(){hc=!1,er!==null&&il(er)&&(er=null),tr!==null&&il(tr)&&(tr=null),nr!==null&&il(nr)&&(nr=null),Qs.forEach(Rh),Gs.forEach(Rh)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,hc||(hc=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,dw)))}function Ks(e){function t(i){return as(i,e)}if(0<Wo.length){as(Wo[0],e);for(var n=1;n<Wo.length;n++){var r=Wo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(er!==null&&as(er,e),tr!==null&&as(tr,e),nr!==null&&as(nr,e),Qs.forEach(t),Gs.forEach(t),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Og(n),n.blockedOn===null&&Kn.shift()}var Ei=jn.ReactCurrentBatchConfig,wl=!0;function fw(e,t,n,r){var i=ye,s=Ei.transition;Ei.transition=null;try{ye=1,Ad(e,t,n,r)}finally{ye=i,Ei.transition=s}}function hw(e,t,n,r){var i=ye,s=Ei.transition;Ei.transition=null;try{ye=4,Ad(e,t,n,r)}finally{ye=i,Ei.transition=s}}function Ad(e,t,n,r){if(wl){var i=pc(e,t,n,r);if(i===null)du(e,t,r,El,n),Ih(e,r);else if(cw(i,e,t,n,r))r.stopPropagation();else if(Ih(e,r),t&4&&-1<uw.indexOf(e)){for(;i!==null;){var s=So(i);if(s!==null&&Dg(s),s=pc(e,t,n,r),s===null&&du(e,t,r,El,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else du(e,t,r,null,n)}}var El=null;function pc(e,t,n,r){if(El=null,e=Rd(r),e=kr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return El=e,null}function Fg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ew()){case Nd:return 1;case Ig:return 4;case _l:case tw:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var Yn=null,Ld=null,sl=null;function bg(){if(sl)return sl;var e,t=Ld,n=t.length,r,i="value"in Yn?Yn.value:Yn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return sl=i.slice(e,1<r?1-r:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $o(){return!0}function Nh(){return!1}function Ut(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$o:Nh,this.isPropagationStopped=Nh,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Md=Ut(Hi),Eo=Le({},Hi,{view:0,detail:0}),pw=Ut(Eo),nu,ru,us,ca=Le({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(nu=e.screenX-us.screenX,ru=e.screenY-us.screenY):ru=nu=0,us=e),nu)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),Ph=Ut(ca),mw=Le({},ca,{dataTransfer:0}),gw=Ut(mw),yw=Le({},Eo,{relatedTarget:0}),iu=Ut(yw),_w=Le({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),vw=Ut(_w),ww=Le({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ew=Ut(ww),Sw=Le({},Hi,{data:0}),Dh=Ut(Sw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kw[e])?!!t[e]:!1}function Od(){return Tw}var Iw=Le({},Eo,{key:function(e){if(e.key){var t=Cw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rw=Ut(Iw),Nw=Le({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=Ut(Nw),Pw=Le({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),Dw=Ut(Pw),Aw=Le({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lw=Ut(Aw),Mw=Le({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=Ut(Mw),Fw=[9,13,27,32],Fd=Mn&&"CompositionEvent"in window,Ns=null;Mn&&"documentMode"in document&&(Ns=document.documentMode);var bw=Mn&&"TextEvent"in window&&!Ns,Ug=Mn&&(!Fd||Ns&&8<Ns&&11>=Ns),Lh=" ",Mh=!1;function jg(e,t){switch(e){case"keyup":return Fw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function Uw(e,t){switch(e){case"compositionend":return zg(t);case"keypress":return t.which!==32?null:(Mh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Mh?null:e;default:return null}}function jw(e,t){if(si)return e==="compositionend"||!Fd&&jg(e,t)?(e=bg(),sl=Ld=Yn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ug&&t.locale!=="ko"?null:t.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zw[e.type]:t==="textarea"}function Vg(e,t,n,r){_g(r),t=Sl(t,"onChange"),0<t.length&&(n=new Md("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ps=null,qs=null;function Vw(e){Jg(e,0)}function da(e){var t=ai(e);if(dg(t))return e}function Bw(e,t){if(e==="change")return t}var Bg=!1;if(Mn){var su;if(Mn){var ou="oninput"in document;if(!ou){var Fh=document.createElement("div");Fh.setAttribute("oninput","return;"),ou=typeof Fh.oninput=="function"}su=ou}else su=!1;Bg=su&&(!document.documentMode||9<document.documentMode)}function bh(){Ps&&(Ps.detachEvent("onpropertychange",Wg),qs=Ps=null)}function Wg(e){if(e.propertyName==="value"&&da(qs)){var t=[];Vg(t,qs,e,Rd(e)),Sg(Vw,t)}}function Ww(e,t,n){e==="focusin"?(bh(),Ps=t,qs=n,Ps.attachEvent("onpropertychange",Wg)):e==="focusout"&&bh()}function $w(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(qs)}function Hw(e,t){if(e==="click")return da(t)}function Qw(e,t){if(e==="input"||e==="change")return da(t)}function Gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:Gw;function Ys(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yu.call(t,i)||!un(e[i],t[i]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var n=Uh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uh(n)}}function $g(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$g(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hg(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kw(e){var t=Hg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$g(n.ownerDocument.documentElement,n)){if(r!==null&&bd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jh(n,s);var o=jh(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qw=Mn&&"documentMode"in document&&11>=document.documentMode,oi=null,mc=null,Ds=null,gc=!1;function zh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gc||oi==null||oi!==ml(r)||(r=oi,"selectionStart"in r&&bd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&Ys(Ds,r)||(Ds=r,r=Sl(mc,"onSelect"),0<r.length&&(t=new Md("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function Ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var li={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},lu={},Qg={};Mn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function fa(e){if(lu[e])return lu[e];if(!li[e])return e;var t=li[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qg)return lu[e]=t[n];return e}var Gg=fa("animationend"),Kg=fa("animationiteration"),qg=fa("animationstart"),Yg=fa("transitionend"),Xg=new Map,Vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){Xg.set(e,t),Hr(t,[e])}for(var au=0;au<Vh.length;au++){var uu=Vh[au],Yw=uu.toLowerCase(),Xw=uu[0].toUpperCase()+uu.slice(1);gr(Yw,"on"+Xw)}gr(Gg,"onAnimationEnd");gr(Kg,"onAnimationIteration");gr(qg,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Yg,"onTransitionEnd");Di("onMouseEnter",["mouseout","mouseover"]);Di("onMouseLeave",["mouseout","mouseover"]);Di("onPointerEnter",["pointerout","pointerover"]);Di("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Bh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Y0(r,t,void 0,e),e.currentTarget=null}function Jg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Bh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Bh(i,l,u),s=a}}}if(yl)throw e=dc,yl=!1,dc=null,e}function ke(e,t){var n=t[Ec];n===void 0&&(n=t[Ec]=new Set);var r=e+"__bubble";n.has(r)||(Zg(t,e,2,!1),n.add(r))}function cu(e,t,n){var r=0;t&&(r|=4),Zg(n,e,r,t)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Qo]){e[Qo]=!0,og.forEach(function(n){n!=="selectionchange"&&(Jw.has(n)||cu(n,!1,e),cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qo]||(t[Qo]=!0,cu("selectionchange",!1,t))}}function Zg(e,t,n,r){switch(Fg(t)){case 1:var i=fw;break;case 4:i=hw;break;default:i=Ad}n=i.bind(null,t,n,e),i=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function du(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=kr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Sg(function(){var u=s,d=Rd(n),f=[];e:{var c=Xg.get(e);if(c!==void 0){var v=Md,g=e;switch(e){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":v=Rw;break;case"focusin":g="focus",v=iu;break;case"focusout":g="blur",v=iu;break;case"beforeblur":case"afterblur":v=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dw;break;case Gg:case Kg:case qg:v=vw;break;case Yg:v=Lw;break;case"scroll":v=pw;break;case"wheel":v=Ow;break;case"copy":case"cut":case"paste":v=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ah}var E=(t&4)!==0,N=!E&&e==="scroll",m=E?c!==null?c+"Capture":null:c;E=[];for(var h=u,y;h!==null;){y=h;var p=y.stateNode;if(y.tag===5&&p!==null&&(y=p,m!==null&&(p=Hs(h,m),p!=null&&E.push(Js(h,p,y)))),N)break;h=h.return}0<E.length&&(c=new v(c,g,null,n,d),f.push({event:c,listeners:E}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",c&&n!==ac&&(g=n.relatedTarget||n.fromElement)&&(kr(g)||g[On]))break e;if((v||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?kr(g):null,g!==null&&(N=Qr(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(E=Ph,p="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=Ah,p="onPointerLeave",m="onPointerEnter",h="pointer"),N=v==null?c:ai(v),y=g==null?c:ai(g),c=new E(p,h+"leave",v,n,d),c.target=N,c.relatedTarget=y,p=null,kr(d)===u&&(E=new E(m,h+"enter",g,n,d),E.target=y,E.relatedTarget=N,p=E),N=p,v&&g)t:{for(E=v,m=g,h=0,y=E;y;y=ei(y))h++;for(y=0,p=m;p;p=ei(p))y++;for(;0<h-y;)E=ei(E),h--;for(;0<y-h;)m=ei(m),y--;for(;h--;){if(E===m||m!==null&&E===m.alternate)break t;E=ei(E),m=ei(m)}E=null}else E=null;v!==null&&Wh(f,c,v,E,!1),g!==null&&N!==null&&Wh(f,N,g,E,!0)}}e:{if(c=u?ai(u):window,v=c.nodeName&&c.nodeName.toLowerCase(),v==="select"||v==="input"&&c.type==="file")var S=Bw;else if(Oh(c))if(Bg)S=Qw;else{S=$w;var T=Ww}else(v=c.nodeName)&&v.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=Hw);if(S&&(S=S(e,u))){Vg(f,S,n,d);break e}T&&T(e,c,u),e==="focusout"&&(T=c._wrapperState)&&T.controlled&&c.type==="number"&&rc(c,"number",c.value)}switch(T=u?ai(u):window,e){case"focusin":(Oh(T)||T.contentEditable==="true")&&(oi=T,mc=u,Ds=null);break;case"focusout":Ds=mc=oi=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,zh(f,n,d);break;case"selectionchange":if(qw)break;case"keydown":case"keyup":zh(f,n,d)}var x;if(Fd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else si?jg(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Ug&&n.locale!=="ko"&&(si||D!=="onCompositionStart"?D==="onCompositionEnd"&&si&&(x=bg()):(Yn=d,Ld="value"in Yn?Yn.value:Yn.textContent,si=!0)),T=Sl(u,D),0<T.length&&(D=new Dh(D,e,null,n,d),f.push({event:D,listeners:T}),x?D.data=x:(x=zg(n),x!==null&&(D.data=x)))),(x=bw?Uw(e,n):jw(e,n))&&(u=Sl(u,"onBeforeInput"),0<u.length&&(d=new Dh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=x))}Jg(f,t)})}function Js(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hs(e,n),s!=null&&r.unshift(Js(e,s,i)),s=Hs(e,t),s!=null&&r.push(Js(e,s,i))),e=e.return}return r}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Hs(n,s),a!=null&&o.unshift(Js(n,a,l))):i||(a=Hs(n,s),a!=null&&o.push(Js(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Zw=/\r\n?/g,eE=/\u0000|\uFFFD/g;function $h(e){return(typeof e=="string"?e:""+e).replace(Zw,`
`).replace(eE,"")}function Go(e,t,n){if(t=$h(t),$h(e)!==t&&n)throw Error(A(425))}function Cl(){}var yc=null,_c=null;function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wc=typeof setTimeout=="function"?setTimeout:void 0,tE=typeof clearTimeout=="function"?clearTimeout:void 0,Hh=typeof Promise=="function"?Promise:void 0,nE=typeof queueMicrotask=="function"?queueMicrotask:typeof Hh<"u"?function(e){return Hh.resolve(null).then(e).catch(rE)}:wc;function rE(e){setTimeout(function(){throw e})}function fu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ks(t)}function rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),mn="__reactFiber$"+Qi,Zs="__reactProps$"+Qi,On="__reactContainer$"+Qi,Ec="__reactEvents$"+Qi,iE="__reactListeners$"+Qi,sE="__reactHandles$"+Qi;function kr(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qh(e);e!==null;){if(n=e[mn])return n;e=Qh(e)}return t}e=n,n=e.parentNode}return null}function So(e){return e=e[mn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function ha(e){return e[Zs]||null}var Sc=[],ui=-1;function yr(e){return{current:e}}function Re(e){0>ui||(e.current=Sc[ui],Sc[ui]=null,ui--)}function xe(e,t){ui++,Sc[ui]=e.current,e.current=t}var fr={},ht=yr(fr),It=yr(!1),Mr=fr;function Ai(e,t){var n=e.type.contextTypes;if(!n)return fr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function xl(){Re(It),Re(ht)}function Gh(e,t,n){if(ht.current!==fr)throw Error(A(168));xe(ht,t),xe(It,n)}function ey(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(A(108,W0(e)||"Unknown",i));return Le({},n,r)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fr,Mr=ht.current,xe(ht,e),xe(It,It.current),!0}function Kh(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=ey(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,Re(It),Re(ht),xe(ht,e)):Re(It),xe(It,n)}var Tn=null,pa=!1,hu=!1;function ty(e){Tn===null?Tn=[e]:Tn.push(e)}function oE(e){pa=!0,ty(e)}function _r(){if(!hu&&Tn!==null){hu=!0;var e=0,t=ye;try{var n=Tn;for(ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tn=null,pa=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(e+1)),Tg(Nd,_r),i}finally{ye=t,hu=!1}}return null}var ci=[],di=0,Tl=null,Il=0,Bt=[],Wt=0,Or=null,Rn=1,Nn="";function Er(e,t){ci[di++]=Il,ci[di++]=Tl,Tl=e,Il=t}function ny(e,t,n){Bt[Wt++]=Rn,Bt[Wt++]=Nn,Bt[Wt++]=Or,Or=e;var r=Rn;e=Nn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rn=1<<32-on(t)+i|n<<i|r,Nn=s+e}else Rn=1<<s|n<<i|r,Nn=e}function Ud(e){e.return!==null&&(Er(e,1),ny(e,1,0))}function jd(e){for(;e===Tl;)Tl=ci[--di],ci[di]=null,Il=ci[--di],ci[di]=null;for(;e===Or;)Or=Bt[--Wt],Bt[Wt]=null,Nn=Bt[--Wt],Bt[Wt]=null,Rn=Bt[--Wt],Bt[Wt]=null}var Ot=null,Mt=null,Ne=!1,nn=null;function ry(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:Rn,overflow:Nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ot=e,Mt=null,!0):!1;default:return!1}}function Cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xc(e){if(Ne){var t=Mt;if(t){var n=t;if(!qh(e,t)){if(Cc(e))throw Error(A(418));t=rr(n.nextSibling);var r=Ot;t&&qh(e,t)?ry(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Ot=e)}}else{if(Cc(e))throw Error(A(418));e.flags=e.flags&-4097|2,Ne=!1,Ot=e}}}function Yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function Ko(e){if(e!==Ot)return!1;if(!Ne)return Yh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vc(e.type,e.memoizedProps)),t&&(t=Mt)){if(Cc(e))throw iy(),Error(A(418));for(;t;)ry(e,t),t=rr(t.nextSibling)}if(Yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=rr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Ot?rr(e.stateNode.nextSibling):null;return!0}function iy(){for(var e=Mt;e;)e=rr(e.nextSibling)}function Li(){Mt=Ot=null,Ne=!1}function zd(e){nn===null?nn=[e]:nn.push(e)}var lE=jn.ReactCurrentBatchConfig;function Zt(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Rl=yr(null),Nl=null,fi=null,Vd=null;function Bd(){Vd=fi=Nl=null}function Wd(e){var t=Rl.current;Re(Rl),e._currentValue=t}function kc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Si(e,t){Nl=e,Vd=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Vd!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(Nl===null)throw Error(A(308));fi=e,Nl.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var Tr=null;function $d(e){Tr===null?Tr=[e]:Tr.push(e)}function sy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,$d(t)):(n.next=i.next,i.next=n),t.interleaved=n,Fn(e,r)}function Fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Fn(e,n)}return i=r.interleaved,i===null?(t.next=t,$d(r)):(t.next=i.next,i.next=t),r.interleaved=t,Fn(e,n)}function ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}function Xh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var i=e.updateQueue;Gn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,d=u=a=null,l=s;do{var c=l.lane,v=l.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,E=l;switch(c=t,v=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){f=g.call(v,f,c);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,c=typeof g=="function"?g.call(v,f,c):g,c==null)break e;f=Le({},f,c);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else v={eventTime:v,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=f):d=d.next=v,o|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);br|=o,e.lanes=o,e.memoizedState=f}}function Jh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var ly=new sg.Component().refs;function Tc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_t(),i=or(e),s=Dn(r,i);s.payload=t,n!=null&&(s.callback=n),t=ir(e,s,i),t!==null&&(ln(t,e,i,r),ll(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_t(),i=or(e),s=Dn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ir(e,s,i),t!==null&&(ln(t,e,i,r),ll(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),r=or(e),i=Dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=ir(e,i,r),t!==null&&(ln(t,e,r,n),ll(t,e,r))}};function Zh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(i,s):!0}function ay(e,t,n){var r=!1,i=fr,s=t.contextType;return typeof s=="object"&&s!==null?s=qt(s):(i=Rt(t)?Mr:ht.current,r=t.contextTypes,s=(r=r!=null)?Ai(e,i):fr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function Ic(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ly,Hd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=qt(s):(s=Rt(t)?Mr:ht.current,i.context=Ai(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),Pl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===ly&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tp(e){var t=e._init;return t(e._payload)}function uy(e){function t(m,h){if(e){var y=m.deletions;y===null?(m.deletions=[h],m.flags|=16):y.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=lr(m,h),m.index=0,m.sibling=null,m}function s(m,h,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<h?(m.flags|=2,h):y):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,y,p){return h===null||h.tag!==6?(h=wu(y,m.mode,p),h.return=m,h):(h=i(h,y),h.return=m,h)}function a(m,h,y,p){var S=y.type;return S===ii?d(m,h,y.props.children,p,y.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qn&&tp(S)===h.type)?(p=i(h,y.props),p.ref=cs(m,h,y),p.return=m,p):(p=hl(y.type,y.key,y.props,null,m.mode,p),p.ref=cs(m,h,y),p.return=m,p)}function u(m,h,y,p){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Eu(y,m.mode,p),h.return=m,h):(h=i(h,y.children||[]),h.return=m,h)}function d(m,h,y,p,S){return h===null||h.tag!==7?(h=Ar(y,m.mode,p,S),h.return=m,h):(h=i(h,y),h.return=m,h)}function f(m,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=wu(""+h,m.mode,y),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Uo:return y=hl(h.type,h.key,h.props,null,m.mode,y),y.ref=cs(m,null,h),y.return=m,y;case ri:return h=Eu(h,m.mode,y),h.return=m,h;case Qn:var p=h._init;return f(m,p(h._payload),y)}if(xs(h)||ss(h))return h=Ar(h,m.mode,y,null),h.return=m,h;qo(m,h)}return null}function c(m,h,y,p){var S=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,h,""+y,p);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:return y.key===S?a(m,h,y,p):null;case ri:return y.key===S?u(m,h,y,p):null;case Qn:return S=y._init,c(m,h,S(y._payload),p)}if(xs(y)||ss(y))return S!==null?null:d(m,h,y,p,null);qo(m,y)}return null}function v(m,h,y,p,S){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(y)||null,l(h,m,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Uo:return m=m.get(p.key===null?y:p.key)||null,a(h,m,p,S);case ri:return m=m.get(p.key===null?y:p.key)||null,u(h,m,p,S);case Qn:var T=p._init;return v(m,h,y,T(p._payload),S)}if(xs(p)||ss(p))return m=m.get(y)||null,d(h,m,p,S,null);qo(h,p)}return null}function g(m,h,y,p){for(var S=null,T=null,x=h,D=h=0,W=null;x!==null&&D<y.length;D++){x.index>D?(W=x,x=null):W=x.sibling;var B=c(m,x,y[D],p);if(B===null){x===null&&(x=W);break}e&&x&&B.alternate===null&&t(m,x),h=s(B,h,D),T===null?S=B:T.sibling=B,T=B,x=W}if(D===y.length)return n(m,x),Ne&&Er(m,D),S;if(x===null){for(;D<y.length;D++)x=f(m,y[D],p),x!==null&&(h=s(x,h,D),T===null?S=x:T.sibling=x,T=x);return Ne&&Er(m,D),S}for(x=r(m,x);D<y.length;D++)W=v(x,m,D,y[D],p),W!==null&&(e&&W.alternate!==null&&x.delete(W.key===null?D:W.key),h=s(W,h,D),T===null?S=W:T.sibling=W,T=W);return e&&x.forEach(function(ae){return t(m,ae)}),Ne&&Er(m,D),S}function E(m,h,y,p){var S=ss(y);if(typeof S!="function")throw Error(A(150));if(y=S.call(y),y==null)throw Error(A(151));for(var T=S=null,x=h,D=h=0,W=null,B=y.next();x!==null&&!B.done;D++,B=y.next()){x.index>D?(W=x,x=null):W=x.sibling;var ae=c(m,x,B.value,p);if(ae===null){x===null&&(x=W);break}e&&x&&ae.alternate===null&&t(m,x),h=s(ae,h,D),T===null?S=ae:T.sibling=ae,T=ae,x=W}if(B.done)return n(m,x),Ne&&Er(m,D),S;if(x===null){for(;!B.done;D++,B=y.next())B=f(m,B.value,p),B!==null&&(h=s(B,h,D),T===null?S=B:T.sibling=B,T=B);return Ne&&Er(m,D),S}for(x=r(m,x);!B.done;D++,B=y.next())B=v(x,m,D,B.value,p),B!==null&&(e&&B.alternate!==null&&x.delete(B.key===null?D:B.key),h=s(B,h,D),T===null?S=B:T.sibling=B,T=B);return e&&x.forEach(function(G){return t(m,G)}),Ne&&Er(m,D),S}function N(m,h,y,p){if(typeof y=="object"&&y!==null&&y.type===ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Uo:e:{for(var S=y.key,T=h;T!==null;){if(T.key===S){if(S=y.type,S===ii){if(T.tag===7){n(m,T.sibling),h=i(T,y.props.children),h.return=m,m=h;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qn&&tp(S)===T.type){n(m,T.sibling),h=i(T,y.props),h.ref=cs(m,T,y),h.return=m,m=h;break e}n(m,T);break}else t(m,T);T=T.sibling}y.type===ii?(h=Ar(y.props.children,m.mode,p,y.key),h.return=m,m=h):(p=hl(y.type,y.key,y.props,null,m.mode,p),p.ref=cs(m,h,y),p.return=m,m=p)}return o(m);case ri:e:{for(T=y.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(m,h.sibling),h=i(h,y.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Eu(y,m.mode,p),h.return=m,m=h}return o(m);case Qn:return T=y._init,N(m,h,T(y._payload),p)}if(xs(y))return g(m,h,y,p);if(ss(y))return E(m,h,y,p);qo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,y),h.return=m,m=h):(n(m,h),h=wu(y,m.mode,p),h.return=m,m=h),o(m)):n(m,h)}return N}var Mi=uy(!0),cy=uy(!1),Co={},_n=yr(Co),eo=yr(Co),to=yr(Co);function Ir(e){if(e===Co)throw Error(A(174));return e}function Qd(e,t){switch(xe(to,t),xe(eo,e),xe(_n,Co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sc(t,e)}Re(_n),xe(_n,t)}function Oi(){Re(_n),Re(eo),Re(to)}function dy(e){Ir(to.current);var t=Ir(_n.current),n=sc(t,e.type);t!==n&&(xe(eo,e),xe(_n,n))}function Gd(e){eo.current===e&&(Re(_n),Re(eo))}var De=yr(0);function Dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pu=[];function Kd(){for(var e=0;e<pu.length;e++)pu[e]._workInProgressVersionPrimary=null;pu.length=0}var al=jn.ReactCurrentDispatcher,mu=jn.ReactCurrentBatchConfig,Fr=0,Ae=null,Qe=null,Je=null,Al=!1,As=!1,no=0,aE=0;function ct(){throw Error(A(321))}function qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Yd(e,t,n,r,i,s){if(Fr=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?fE:hE,e=n(r,i),As){s=0;do{if(As=!1,no=0,25<=s)throw Error(A(301));s+=1,Je=Qe=null,t.updateQueue=null,al.current=pE,e=n(r,i)}while(As)}if(al.current=Ll,t=Qe!==null&&Qe.next!==null,Fr=0,Je=Qe=Ae=null,Al=!1,t)throw Error(A(300));return e}function Xd(){var e=no!==0;return no=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ae.memoizedState=Je=e:Je=Je.next=e,Je}function Yt(){if(Qe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Je===null?Ae.memoizedState:Je.next;if(t!==null)Je=t,Qe=e;else{if(e===null)throw Error(A(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Je===null?Ae.memoizedState=Je=e:Je=Je.next=e}return Je}function ro(e,t){return typeof t=="function"?t(e):t}function gu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((Fr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,Ae.lanes|=d,br|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,un(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,br|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yu(e){var t=Yt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);un(s,t.memoizedState)||(xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fy(){}function hy(e,t){var n=Ae,r=Yt(),i=t(),s=!un(r.memoizedState,i);if(s&&(r.memoizedState=i,xt=!0),r=r.queue,Jd(gy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,io(9,my.bind(null,n,r,i,t),void 0,null),nt===null)throw Error(A(349));Fr&30||py(n,t,i)}return i}function py(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function my(e,t,n,r){t.value=n,t.getSnapshot=r,yy(t)&&_y(e)}function gy(e,t,n){return n(function(){yy(t)&&_y(e)})}function yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function _y(e){var t=Fn(e,1);t!==null&&ln(t,e,1,-1)}function np(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=dE.bind(null,Ae,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vy(){return Yt().memoizedState}function ul(e,t,n,r){var i=pn();Ae.flags|=e,i.memoizedState=io(1|t,n,void 0,r===void 0?null:r)}function ga(e,t,n,r){var i=Yt();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&qd(r,o.deps)){i.memoizedState=io(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=io(1|t,n,s,r)}function rp(e,t){return ul(8390656,8,e,t)}function Jd(e,t){return ga(2048,8,e,t)}function wy(e,t){return ga(4,2,e,t)}function Ey(e,t){return ga(4,4,e,t)}function Sy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cy(e,t,n){return n=n!=null?n.concat([e]):null,ga(4,4,Sy.bind(null,t,e),n)}function Zd(){}function xy(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ky(e,t){var n=Yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ty(e,t,n){return Fr&21?(un(n,t)||(n=Ng(),Ae.lanes|=n,br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function uE(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var r=mu.transition;mu.transition={};try{e(!1),t()}finally{ye=n,mu.transition=r}}function Iy(){return Yt().memoizedState}function cE(e,t,n){var r=or(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ry(e))Ny(t,n);else if(n=sy(e,t,n,r),n!==null){var i=_t();ln(n,e,r,i),Py(n,t,r)}}function dE(e,t,n){var r=or(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ry(e))Ny(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,un(l,o)){var a=t.interleaved;a===null?(i.next=i,$d(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=sy(e,t,i,r),n!==null&&(i=_t(),ln(n,e,r,i),Py(n,t,r))}}function Ry(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Ny(e,t){As=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Py(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}var Ll={readContext:qt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},fE={readContext:qt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ul(4194308,4,Sy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){return ul(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cE.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:Zd,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=uE.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=pn();if(Ne){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),nt===null)throw Error(A(349));Fr&30||py(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rp(gy.bind(null,r,s,e),[e]),r.flags|=2048,io(9,my.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=pn(),t=nt.identifierPrefix;if(Ne){var n=Nn,r=Rn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=aE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hE={readContext:qt,useCallback:xy,useContext:qt,useEffect:Jd,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Ey,useMemo:ky,useReducer:gu,useRef:vy,useState:function(){return gu(ro)},useDebugValue:Zd,useDeferredValue:function(e){var t=Yt();return Ty(t,Qe.memoizedState,e)},useTransition:function(){var e=gu(ro)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:fy,useSyncExternalStore:hy,useId:Iy,unstable_isNewReconciler:!1},pE={readContext:qt,useCallback:xy,useContext:qt,useEffect:Jd,useImperativeHandle:Cy,useInsertionEffect:wy,useLayoutEffect:Ey,useMemo:ky,useReducer:yu,useRef:vy,useState:function(){return yu(ro)},useDebugValue:Zd,useDeferredValue:function(e){var t=Yt();return Qe===null?t.memoizedState=e:Ty(t,Qe.memoizedState,e)},useTransition:function(){var e=yu(ro)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:fy,useSyncExternalStore:hy,useId:Iy,unstable_isNewReconciler:!1};function Fi(e,t){try{var n="",r=t;do n+=B0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function _u(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mE=typeof WeakMap=="function"?WeakMap:Map;function Dy(e,t,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,Uc=r),Rc(e,t)},n}function Ay(e,t,n){n=Dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rc(e,t),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=NE.bind(null,e,t,n),t.then(e,e))}function sp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function op(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dn(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e)}var gE=jn.ReactCurrentOwner,xt=!1;function gt(e,t,n,r){t.child=e===null?cy(t,null,n,r):Mi(t,e.child,n,r)}function lp(e,t,n,r,i){n=n.render;var s=t.ref;return Si(t,i),r=Yd(e,t,n,r,s,i),n=Xd(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(Ne&&n&&Ud(t),t.flags|=1,gt(e,t,r,i),t.child)}function ap(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!af(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ly(e,t,s,r,i)):(e=hl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(o,r)&&e.ref===t.ref)return bn(e,t,i)}return t.flags|=1,e=lr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ys(s,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,bn(e,t,i)}return Nc(e,t,n,r,i)}function My(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(pi,At),At|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(pi,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(pi,At),At|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xe(pi,At),At|=r;return gt(e,t,i,n),t.child}function Oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nc(e,t,n,r,i){var s=Rt(n)?Mr:ht.current;return s=Ai(t,s),Si(t,i),n=Yd(e,t,n,r,s,i),r=Xd(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bn(e,t,i)):(Ne&&r&&Ud(t),t.flags|=1,gt(e,t,n,i),t.child)}function up(e,t,n,r,i){if(Rt(n)){var s=!0;kl(t)}else s=!1;if(Si(t,i),t.stateNode===null)cl(e,t),ay(t,n,r),Ic(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Rt(n)?Mr:ht.current,u=Ai(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ep(t,o,r,u),Gn=!1;var c=t.memoizedState;o.state=c,Pl(t,r,o,i),a=t.memoizedState,l!==r||c!==a||It.current||Gn?(typeof d=="function"&&(Tc(t,n,d,r),a=t.memoizedState),(l=Gn||Zh(t,n,l,r,c,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,oy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zt(t.type,l),o.props=u,f=t.pendingProps,c=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=qt(a):(a=Rt(n)?Mr:ht.current,a=Ai(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||c!==a)&&ep(t,o,r,a),Gn=!1,c=t.memoizedState,o.state=c,Pl(t,r,o,i);var g=t.memoizedState;l!==f||c!==g||It.current||Gn?(typeof v=="function"&&(Tc(t,n,v,r),g=t.memoizedState),(u=Gn||Zh(t,n,u,r,c,g,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Pc(e,t,n,r,s,i)}function Pc(e,t,n,r,i,s){Oy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Kh(t,n,!1),bn(e,t,s);r=t.stateNode,gE.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Mi(t,e.child,null,s),t.child=Mi(t,null,l,s)):gt(e,t,l,s),t.memoizedState=r.state,i&&Kh(t,n,!0),t.child}function Fy(e){var t=e.stateNode;t.pendingContext?Gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gh(e,t.context,!1),Qd(e,t.containerInfo)}function cp(e,t,n,r,i){return Li(),zd(i),t.flags|=256,gt(e,t,n,r),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function Ac(e){return{baseLanes:e,cachePool:null,transitions:null}}function by(e,t,n){var r=t.pendingProps,i=De.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xe(De,i&1),e===null)return xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=va(o,r,0,null),e=Ar(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ac(n),t.memoizedState=Dc,e):ef(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return yE(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=lr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=lr(l,s):(s=Ar(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ac(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Dc,r}return s=e.child,e=s.sibling,r=lr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ef(e,t){return t=va({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yo(e,t,n,r){return r!==null&&zd(r),Mi(t,e.child,null,n),e=ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yE(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=_u(Error(A(422))),Yo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=va({mode:"visible",children:r.children},i,0,null),s=Ar(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Mi(t,e.child,null,o),t.child.memoizedState=Ac(o),t.memoizedState=Dc,s);if(!(t.mode&1))return Yo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(A(419)),r=_u(s,r,void 0),Yo(e,t,o,r)}if(l=(o&e.childLanes)!==0,xt||l){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fn(e,i),ln(r,e,i,-1))}return lf(),r=_u(Error(A(421))),Yo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PE.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Mt=rr(i.nextSibling),Ot=t,Ne=!0,nn=null,e!==null&&(Bt[Wt++]=Rn,Bt[Wt++]=Nn,Bt[Wt++]=Or,Rn=e.id,Nn=e.overflow,Or=t),t=ef(t,r.children),t.flags|=4096,t)}function dp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kc(e.return,t,n)}function vu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dp(e,n,t);else if(e.tag===19)dp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),vu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}vu(t,!0,n,null,s);break;case"together":vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=lr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=lr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _E(e,t,n){switch(t.tag){case 3:Fy(t),Li();break;case 5:dy(t);break;case 1:Rt(t.type)&&kl(t);break;case 4:Qd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xe(Rl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?by(e,t,n):(xe(De,De.current&1),e=bn(e,t,n),e!==null?e.sibling:null);xe(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,My(e,t,n)}return bn(e,t,n)}var jy,Lc,zy,Vy;jy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lc=function(){};zy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ir(_n.current);var s=null;switch(n){case"input":i=tc(e,i),r=tc(e,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=ic(e,i),r=ic(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}oc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ke("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Vy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ds(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vE(e,t,n){var r=t.pendingProps;switch(jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Rt(t.type)&&xl(),dt(t),null;case 3:return r=t.stateNode,Oi(),Re(It),Re(ht),Kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ko(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(Vc(nn),nn=null))),Lc(e,t),dt(t),null;case 5:Gd(t);var i=Ir(to.current);if(n=t.type,e!==null&&t.stateNode!=null)zy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return dt(t),null}if(e=Ir(_n.current),Ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[mn]=t,r[Zs]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Ts.length;i++)ke(Ts[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":wh(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Sh(r,s),ke("invalid",r)}oc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Go(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Go(r.textContent,l,e),i=["children",""+l]):Ws.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":jo(r),Eh(r,s,!0);break;case"textarea":jo(r),Ch(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mn]=t,e[Zs]=r,jy(e,t,!1,!1),t.stateNode=e;e:{switch(o=lc(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ts.length;i++)ke(Ts[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":wh(e,r),i=tc(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Sh(e,r),i=ic(e,r),ke("invalid",e);break;default:i=r}oc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?yg(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&mg(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&$s(e,a):typeof a=="number"&&$s(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ws.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ke("scroll",e):a!=null&&xd(e,s,a,o))}switch(n){case"input":jo(e),Eh(e,r,!1);break;case"textarea":jo(e),Ch(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?_i(e,!!r.multiple,s,!1):r.defaultValue!=null&&_i(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)Vy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=Ir(to.current),Ir(_n.current),Ko(t)){if(r=t.stateNode,n=t.memoizedProps,r[mn]=t,(s=r.nodeValue!==n)&&(e=Ot,e!==null))switch(e.tag){case 3:Go(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Go(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=t,t.stateNode=r}return dt(t),null;case 13:if(Re(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Mt!==null&&t.mode&1&&!(t.flags&128))iy(),Li(),t.flags|=98560,s=!1;else if(s=Ko(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(A(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[mn]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),s=!1}else nn!==null&&(Vc(nn),nn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Ge===0&&(Ge=3):lf())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Oi(),Lc(e,t),e===null&&Xs(t.stateNode.containerInfo),dt(t),null;case 10:return Wd(t.type._context),dt(t),null;case 17:return Rt(t.type)&&xl(),dt(t),null;case 19:if(Re(De),s=t.memoizedState,s===null)return dt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ds(s,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dl(e),o!==null){for(t.flags|=128,ds(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>bi&&(t.flags|=128,r=!0,ds(s,!1),t.lanes=4194304)}else{if(!r)if(e=Dl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ds(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return dt(t),null}else 2*Be()-s.renderingStartTime>bi&&n!==1073741824&&(t.flags|=128,r=!0,ds(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=De.current,xe(De,r?n&1|2:n&1),t):(dt(t),null);case 22:case 23:return of(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function wE(e,t){switch(jd(t),t.tag){case 1:return Rt(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oi(),Re(It),Re(ht),Kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(Re(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(De),null;case 4:return Oi(),null;case 10:return Wd(t.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Xo=!1,ft=!1,EE=typeof WeakSet=="function"?WeakSet:Set,V=null;function hi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function Mc(e,t,n){try{n()}catch(r){Me(e,t,r)}}var fp=!1;function SE(e,t){if(yc=wl,e=Hg(),bd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,c=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)c=f,f=v;for(;;){if(f===e)break t;if(c===n&&++u===i&&(l=o),c===s&&++d===r&&(a=o),(v=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_c={focusedElem:e,selectionRange:n},wl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,N=g.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?E:Zt(t.type,E),N);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(p){Me(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=fp,fp=!1,g}function Ls(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mc(t,n,s)}i=i.next}while(i!==r)}}function ya(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Oc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function By(e){var t=e.alternate;t!==null&&(e.alternate=null,By(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Zs],delete t[Ec],delete t[iE],delete t[sE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wy(e){return e.tag===5||e.tag===3||e.tag===4}function hp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(Fc(e,t,n),e=e.sibling;e!==null;)Fc(e,t,n),e=e.sibling}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}var it=null,en=!1;function Wn(e,t,n){for(n=n.child;n!==null;)$y(e,t,n),n=n.sibling}function $y(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ua,n)}catch{}switch(n.tag){case 5:ft||hi(n,t);case 6:var r=it,i=en;it=null,Wn(e,t,n),it=r,en=i,it!==null&&(en?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(en?(e=it,n=n.stateNode,e.nodeType===8?fu(e.parentNode,n):e.nodeType===1&&fu(e,n),Ks(e)):fu(it,n.stateNode));break;case 4:r=it,i=en,it=n.stateNode.containerInfo,en=!0,Wn(e,t,n),it=r,en=i;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mc(n,t,o),i=i.next}while(i!==r)}Wn(e,t,n);break;case 1:if(!ft&&(hi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}Wn(e,t,n);break;case 21:Wn(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,Wn(e,t,n),ft=r):Wn(e,t,n);break;default:Wn(e,t,n)}}function pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EE),t.forEach(function(r){var i=DE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,en=!1;break e;case 3:it=l.stateNode.containerInfo,en=!0;break e;case 4:it=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(it===null)throw Error(A(160));$y(s,o,i),it=null,en=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hy(t,e),t=t.sibling}function Hy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),hn(e),r&4){try{Ls(3,e,e.return),ya(3,e)}catch(E){Me(e,e.return,E)}try{Ls(5,e,e.return)}catch(E){Me(e,e.return,E)}}break;case 1:Jt(t,e),hn(e),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Jt(t,e),hn(e),r&512&&n!==null&&hi(n,n.return),e.flags&32){var i=e.stateNode;try{$s(i,"")}catch(E){Me(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&fg(i,s),lc(l,o);var u=lc(l,s);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?yg(i,f):d==="dangerouslySetInnerHTML"?mg(i,f):d==="children"?$s(i,f):xd(i,d,f,u)}switch(l){case"input":nc(i,s);break;case"textarea":hg(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?_i(i,!!s.multiple,v,!1):c!==!!s.multiple&&(s.defaultValue!=null?_i(i,!!s.multiple,s.defaultValue,!0):_i(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zs]=s}catch(E){Me(e,e.return,E)}}break;case 6:if(Jt(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(A(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){Me(e,e.return,E)}}break;case 3:if(Jt(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(E){Me(e,e.return,E)}break;case 4:Jt(t,e),hn(e);break;case 13:Jt(t,e),hn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rf=Be())),r&4&&pp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(u=ft)||d,Jt(t,e),ft=u):Jt(t,e),hn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(c=V,v=c.child,c.tag){case 0:case 11:case 14:case 15:Ls(4,c,c.return);break;case 1:hi(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(E){Me(r,n,E)}}break;case 5:hi(c,c.return);break;case 22:if(c.memoizedState!==null){gp(f);continue}}v!==null?(v.return=c,V=v):gp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=gg("display",o))}catch(E){Me(e,e.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){Me(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(t,e),hn(e),r&4&&pp(e);break;case 21:break;default:Jt(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wy(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($s(i,""),r.flags&=-33);var s=hp(e);bc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hp(e);Fc(e,l,o);break;default:throw Error(A(161))}}catch(a){Me(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CE(e,t,n){V=e,Qy(e)}function Qy(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ft;l=Xo;var u=ft;if(Xo=o,(ft=a)&&!u)for(V=i;V!==null;)o=V,a=o.child,o.tag===22&&o.memoizedState!==null?yp(i):a!==null?(a.return=o,V=a):yp(i);for(;s!==null;)V=s,Qy(s),s=s.sibling;V=i,Xo=l,ft=u}mp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):mp(e)}}function mp(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||ya(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ks(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ft||t.flags&512&&Oc(t)}catch(c){Me(t,t.return,c)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function gp(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function yp(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ya(4,t)}catch(a){Me(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Me(t,i,a)}}var s=t.return;try{Oc(t)}catch(a){Me(t,s,a)}break;case 5:var o=t.return;try{Oc(t)}catch(a){Me(t,o,a)}}}catch(a){Me(t,t.return,a)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var xE=Math.ceil,Ml=jn.ReactCurrentDispatcher,tf=jn.ReactCurrentOwner,Kt=jn.ReactCurrentBatchConfig,fe=0,nt=null,$e=null,ot=0,At=0,pi=yr(0),Ge=0,so=null,br=0,_a=0,nf=0,Ms=null,Ct=null,rf=0,bi=1/0,kn=null,Ol=!1,Uc=null,sr=null,Jo=!1,Xn=null,Fl=0,Os=0,jc=null,dl=-1,fl=0;function _t(){return fe&6?Be():dl!==-1?dl:dl=Be()}function or(e){return e.mode&1?fe&2&&ot!==0?ot&-ot:lE.transition!==null?(fl===0&&(fl=Ng()),fl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Fg(e.type)),e):1}function ln(e,t,n,r){if(50<Os)throw Os=0,jc=null,Error(A(185));wo(e,n,r),(!(fe&2)||e!==nt)&&(e===nt&&(!(fe&2)&&(_a|=n),Ge===4&&qn(e,ot)),Nt(e,r),n===1&&fe===0&&!(t.mode&1)&&(bi=Be()+500,pa&&_r()))}function Nt(e,t){var n=e.callbackNode;lw(e,t);var r=vl(e,e===nt?ot:0);if(r===0)n!==null&&Th(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Th(n),t===1)e.tag===0?oE(_p.bind(null,e)):ty(_p.bind(null,e)),nE(function(){!(fe&6)&&_r()}),n=null;else{switch(Pg(r)){case 1:n=Nd;break;case 4:n=Ig;break;case 16:n=_l;break;case 536870912:n=Rg;break;default:n=_l}n=e_(n,Gy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gy(e,t){if(dl=-1,fl=0,fe&6)throw Error(A(327));var n=e.callbackNode;if(Ci()&&e.callbackNode!==n)return null;var r=vl(e,e===nt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bl(e,r);else{t=r;var i=fe;fe|=2;var s=qy();(nt!==e||ot!==t)&&(kn=null,bi=Be()+500,Dr(e,t));do try{IE();break}catch(l){Ky(e,l)}while(!0);Bd(),Ml.current=s,fe=i,$e!==null?t=0:(nt=null,ot=0,t=Ge)}if(t!==0){if(t===2&&(i=fc(e),i!==0&&(r=i,t=zc(e,i))),t===1)throw n=so,Dr(e,0),qn(e,r),Nt(e,Be()),n;if(t===6)qn(e,r);else{if(i=e.current.alternate,!(r&30)&&!kE(i)&&(t=bl(e,r),t===2&&(s=fc(e),s!==0&&(r=s,t=zc(e,s))),t===1))throw n=so,Dr(e,0),qn(e,r),Nt(e,Be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Sr(e,Ct,kn);break;case 3:if(qn(e,r),(r&130023424)===r&&(t=rf+500-Be(),10<t)){if(vl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wc(Sr.bind(null,e,Ct,kn),t);break}Sr(e,Ct,kn);break;case 4:if(qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xE(r/1960))-r,10<r){e.timeoutHandle=wc(Sr.bind(null,e,Ct,kn),r);break}Sr(e,Ct,kn);break;case 5:Sr(e,Ct,kn);break;default:throw Error(A(329))}}}return Nt(e,Be()),e.callbackNode===n?Gy.bind(null,e):null}function zc(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=bl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&Vc(t)),e}function Vc(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function kE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~nf,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function _p(e){if(fe&6)throw Error(A(327));Ci();var t=vl(e,0);if(!(t&1))return Nt(e,Be()),null;var n=bl(e,t);if(e.tag!==0&&n===2){var r=fc(e);r!==0&&(t=r,n=zc(e,r))}if(n===1)throw n=so,Dr(e,0),qn(e,t),Nt(e,Be()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Ct,kn),Nt(e,Be()),null}function sf(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(bi=Be()+500,pa&&_r())}}function Ur(e){Xn!==null&&Xn.tag===0&&!(fe&6)&&Ci();var t=fe;fe|=1;var n=Kt.transition,r=ye;try{if(Kt.transition=null,ye=1,e)return e()}finally{ye=r,Kt.transition=n,fe=t,!(fe&6)&&_r()}}function of(){At=pi.current,Re(pi)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tE(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Oi(),Re(It),Re(ht),Kd();break;case 5:Gd(r);break;case 4:Oi();break;case 13:Re(De);break;case 19:Re(De);break;case 10:Wd(r.type._context);break;case 22:case 23:of()}n=n.return}if(nt=e,$e=e=lr(e.current,null),ot=At=t,Ge=0,so=null,nf=_a=br=0,Ct=Ms=null,Tr!==null){for(t=0;t<Tr.length;t++)if(n=Tr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Tr=null}return e}function Ky(e,t){do{var n=$e;try{if(Bd(),al.current=Ll,Al){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Al=!1}if(Fr=0,Je=Qe=Ae=null,As=!1,no=0,tf.current=null,n===null||n.return===null){Ge=1,so=t,$e=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=ot,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=sp(o);if(v!==null){v.flags&=-257,op(v,o,l,s,t),v.mode&1&&ip(s,u,t),t=v,a=u;var g=t.updateQueue;if(g===null){var E=new Set;E.add(a),t.updateQueue=E}else g.add(a);break e}else{if(!(t&1)){ip(s,u,t),lf();break e}a=Error(A(426))}}else if(Ne&&l.mode&1){var N=sp(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),op(N,o,l,s,t),zd(Fi(a,l));break e}}s=a=Fi(a,l),Ge!==4&&(Ge=2),Ms===null?Ms=[s]:Ms.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Dy(s,a,t);Xh(s,m);break e;case 1:l=a;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sr===null||!sr.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var p=Ay(s,l,t);Xh(s,p);break e}}s=s.return}while(s!==null)}Xy(n)}catch(S){t=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function qy(){var e=Ml.current;return Ml.current=Ll,e===null?Ll:e}function lf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),nt===null||!(br&268435455)&&!(_a&268435455)||qn(nt,ot)}function bl(e,t){var n=fe;fe|=2;var r=qy();(nt!==e||ot!==t)&&(kn=null,Dr(e,t));do try{TE();break}catch(i){Ky(e,i)}while(!0);if(Bd(),fe=n,Ml.current=r,$e!==null)throw Error(A(261));return nt=null,ot=0,Ge}function TE(){for(;$e!==null;)Yy($e)}function IE(){for(;$e!==null&&!J0();)Yy($e)}function Yy(e){var t=Zy(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?Xy(e):$e=t,tf.current=null}function Xy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wE(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,$e=null;return}}else if(n=vE(n,t,At),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ge===0&&(Ge=5)}function Sr(e,t,n){var r=ye,i=Kt.transition;try{Kt.transition=null,ye=1,RE(e,t,n,r)}finally{Kt.transition=i,ye=r}return null}function RE(e,t,n,r){do Ci();while(Xn!==null);if(fe&6)throw Error(A(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(aw(e,s),e===nt&&($e=nt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jo||(Jo=!0,e_(_l,function(){return Ci(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kt.transition,Kt.transition=null;var o=ye;ye=1;var l=fe;fe|=4,tf.current=null,SE(e,n),Hy(n,e),Kw(_c),wl=!!yc,_c=yc=null,e.current=n,CE(n),Z0(),fe=l,ye=o,Kt.transition=s}else e.current=n;if(Jo&&(Jo=!1,Xn=e,Fl=i),s=e.pendingLanes,s===0&&(sr=null),nw(n.stateNode),Nt(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ol)throw Ol=!1,e=Uc,Uc=null,e;return Fl&1&&e.tag!==0&&Ci(),s=e.pendingLanes,s&1?e===jc?Os++:(Os=0,jc=e):Os=0,_r(),null}function Ci(){if(Xn!==null){var e=Pg(Fl),t=Kt.transition,n=ye;try{if(Kt.transition=null,ye=16>e?16:e,Xn===null)var r=!1;else{if(e=Xn,Xn=null,Fl=0,fe&6)throw Error(A(331));var i=fe;for(fe|=4,V=e.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Ls(8,d,s)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var c=d.sibling,v=d.return;if(By(d),d===u){V=null;break}if(c!==null){c.return=v,V=c;break}V=v}}}var g=s.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ls(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,V=m;break e}V=s.return}}var h=e.current;for(V=h;V!==null;){o=V;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,V=y;else e:for(o=h;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ya(9,l)}}catch(S){Me(l,l.return,S)}if(l===o){V=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,V=p;break e}V=l.return}}if(fe=i,_r(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ua,e)}catch{}r=!0}return r}finally{ye=n,Kt.transition=t}}return!1}function vp(e,t,n){t=Fi(n,t),t=Dy(e,t,1),e=ir(e,t,1),t=_t(),e!==null&&(wo(e,1,t),Nt(e,t))}function Me(e,t,n){if(e.tag===3)vp(e,e,n);else for(;t!==null;){if(t.tag===3){vp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){e=Fi(n,e),e=Ay(t,e,1),t=ir(t,e,1),e=_t(),t!==null&&(wo(t,1,e),Nt(t,e));break}}t=t.return}}function NE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(ot&n)===n&&(Ge===4||Ge===3&&(ot&130023424)===ot&&500>Be()-rf?Dr(e,0):nf|=n),Nt(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):t=1);var n=_t();e=Fn(e,t),e!==null&&(wo(e,t,n),Nt(e,n))}function PE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jy(e,n)}function DE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Jy(e,n)}var Zy;Zy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,_E(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Ne&&t.flags&1048576&&ny(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cl(e,t),e=t.pendingProps;var i=Ai(t,ht.current);Si(t,n),i=Yd(null,t,r,e,i,n);var s=Xd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(s=!0,kl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hd(t),i.updater=ma,t.stateNode=i,i._reactInternals=t,Ic(t,r,e,n),t=Pc(null,t,r,!0,s,n)):(t.tag=0,Ne&&s&&Ud(t),gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=LE(r),e=Zt(r,e),i){case 0:t=Nc(null,t,r,e,n);break e;case 1:t=up(null,t,r,e,n);break e;case 11:t=lp(null,t,r,e,n);break e;case 14:t=ap(null,t,r,Zt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zt(r,i),Nc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zt(r,i),up(e,t,r,i,n);case 3:e:{if(Fy(t),e===null)throw Error(A(387));r=t.pendingProps,s=t.memoizedState,i=s.element,oy(e,t),Pl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Fi(Error(A(423)),t),t=cp(e,t,r,n,i);break e}else if(r!==i){i=Fi(Error(A(424)),t),t=cp(e,t,r,n,i);break e}else for(Mt=rr(t.stateNode.containerInfo.firstChild),Ot=t,Ne=!0,nn=null,n=cy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),r===i){t=bn(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return dy(t),e===null&&xc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,vc(r,i)?o=null:s!==null&&vc(r,s)&&(t.flags|=32),Oy(e,t),gt(e,t,o,n),t.child;case 6:return e===null&&xc(t),null;case 13:return by(e,t,n);case 4:return Qd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mi(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zt(r,i),lp(e,t,r,i,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,xe(Rl,r._currentValue),r._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!It.current){t=bn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Dn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),kc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Si(t,n),i=qt(i),r=r(i),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,i=Zt(r,t.pendingProps),i=Zt(r.type,i),ap(e,t,r,i,n);case 15:return Ly(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zt(r,i),cl(e,t),t.tag=1,Rt(r)?(e=!0,kl(t)):e=!1,Si(t,n),ay(t,r,i),Ic(t,r,i,n),Pc(null,t,r,!0,e,n);case 19:return Uy(e,t,n);case 22:return My(e,t,n)}throw Error(A(156,t.tag))};function e_(e,t){return Tg(e,t)}function AE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new AE(e,t,n,r)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LE(e){if(typeof e=="function")return af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Td)return 11;if(e===Id)return 14}return 2}function lr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")af(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ii:return Ar(n.children,i,s,t);case kd:o=8,i|=8;break;case Xu:return e=Ht(12,n,t,i|2),e.elementType=Xu,e.lanes=s,e;case Ju:return e=Ht(13,n,t,i),e.elementType=Ju,e.lanes=s,e;case Zu:return e=Ht(19,n,t,i),e.elementType=Zu,e.lanes=s,e;case ug:return va(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lg:o=10;break e;case ag:o=9;break e;case Td:o=11;break e;case Id:o=14;break e;case Qn:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Ht(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ar(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function va(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=ug,e.lanes=n,e.stateNode={isHidden:!1},e}function wu(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function Eu(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ME(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tu(0),this.expirationTimes=tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uf(e,t,n,r,i,s,o,l,a){return e=new ME(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ht(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(s),e}function OE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function t_(e){if(!e)return fr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Rt(n))return ey(e,n,t)}return t}function n_(e,t,n,r,i,s,o,l,a){return e=uf(n,r,!0,e,i,s,o,l,a),e.context=t_(null),n=e.current,r=_t(),i=or(n),s=Dn(r,i),s.callback=t??null,ir(n,s,i),e.current.lanes=i,wo(e,i,r),Nt(e,r),e}function wa(e,t,n,r){var i=t.current,s=_t(),o=or(i);return n=t_(n),t.context===null?t.context=n:t.pendingContext=n,t=Dn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ir(i,t,o),e!==null&&(ln(e,i,o,s),ll(e,i,o)),o}function Ul(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){wp(e,t),(e=e.alternate)&&wp(e,t)}function FE(){return null}var r_=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}Ea.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));wa(e,t,null,null)};Ea.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){wa(null,e,null,null)}),t[On]=null}};function Ea(e){this._internalRoot=e}Ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&Og(e)}};function ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ep(){}function bE(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ul(o);s.call(u)}}var o=n_(t,r,e,0,null,!1,!1,"",Ep);return e._reactRootContainer=o,e[On]=o.current,Xs(e.nodeType===8?e.parentNode:e),Ur(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ul(a);l.call(u)}}var a=uf(e,0,!1,null,null,!1,!1,"",Ep);return e._reactRootContainer=a,e[On]=a.current,Xs(e.nodeType===8?e.parentNode:e),Ur(function(){wa(t,a,n,r)}),a}function Ca(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ul(o);l.call(a)}}wa(t,o,e,i)}else o=bE(n,t,e,i,r);return Ul(o)}Dg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ks(t.pendingLanes);n!==0&&(Pd(t,n|1),Nt(t,Be()),!(fe&6)&&(bi=Be()+500,_r()))}break;case 13:Ur(function(){var r=Fn(e,1);if(r!==null){var i=_t();ln(r,e,1,i)}}),cf(e,1)}};Dd=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var n=_t();ln(t,e,134217728,n)}cf(e,134217728)}};Ag=function(e){if(e.tag===13){var t=or(e),n=Fn(e,t);if(n!==null){var r=_t();ln(n,e,t,r)}cf(e,t)}};Lg=function(){return ye};Mg=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};uc=function(e,t,n){switch(t){case"input":if(nc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ha(r);if(!i)throw Error(A(90));dg(r),nc(r,i)}}}break;case"textarea":hg(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};wg=sf;Eg=Ur;var UE={usingClientEntryPoint:!1,Events:[So,ai,ha,_g,vg,sf]},fs={findFiberByHostInstance:kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},jE={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xg(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||FE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{ua=Zo.inject(jE),yn=Zo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(t))throw Error(A(200));return OE(e,t,null,n)};bt.createRoot=function(e,t){if(!ff(e))throw Error(A(299));var n=!1,r="",i=r_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uf(e,1,!1,null,null,n,!1,r,i),e[On]=t.current,Xs(e.nodeType===8?e.parentNode:e),new df(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=xg(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Ur(e)};bt.hydrate=function(e,t,n){if(!Sa(t))throw Error(A(200));return Ca(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!ff(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=r_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=n_(t,null,e,1,n??null,i,!1,s,o),e[On]=t.current,Xs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ea(t)};bt.render=function(e,t,n){if(!Sa(t))throw Error(A(200));return Ca(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(A(40));return e._reactRootContainer?(Ur(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};bt.unstable_batchedUpdates=sf;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sa(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ca(e,t,n,!1,r)};bt.version="18.2.0-next-9e3b772b8-20220608";function i_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i_)}catch(e){console.error(e)}}i_(),ng.exports=bt;var hf=ng.exports;const zE=Hm(hf),VE=$m({__proto__:null,default:zE},[hf]);var Sp=hf;qu.createRoot=Sp.createRoot,qu.hydrateRoot=Sp.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}var ze;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ze||(ze={}));const Cp="popstate";function BE(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=vn(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),oo("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:jr(s))}function r(i,s){hr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return $E(t,n,r,e)}function se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WE(){return Math.random().toString(36).substr(2,8)}function xp(e,t){return{usr:e.state,key:e.key,idx:t}}function oo(e,t,n,r){return n===void 0&&(n=null),Oe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vn(t):t,{state:n,key:t&&t.key||r||WE()})}function jr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function vn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $E(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ze.Pop,a=null,u=d();u==null&&(u=0,o.replaceState(Oe({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ze.Pop;let N=d(),m=N==null?null:N-u;u=N,a&&a({action:l,location:E.location,delta:m})}function c(N,m){l=ze.Push;let h=oo(E.location,N,m);n&&n(h,N),u=d()+1;let y=xp(h,u),p=E.createHref(h);try{o.pushState(y,"",p)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(p)}s&&a&&a({action:l,location:E.location,delta:1})}function v(N,m){l=ze.Replace;let h=oo(E.location,N,m);n&&n(h,N),u=d();let y=xp(h,u),p=E.createHref(h);o.replaceState(y,"",p),s&&a&&a({action:l,location:E.location,delta:0})}function g(N){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof N=="string"?N:jr(N);return se(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let E={get action(){return l},get location(){return e(i,o)},listen(N){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Cp,f),a=N,()=>{i.removeEventListener(Cp,f),a=null}},createHref(N){return t(i,N)},createURL:g,encodeLocation(N){let m=g(N);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:v,go(N){return o.go(N)}};return E}var Ve;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ve||(Ve={}));const HE=new Set(["lazy","caseSensitive","path","id","index","children"]);function QE(e){return e.index===!0}function Bc(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(se(i.index!==!0||!i.children,"Cannot specify children on an index route"),se(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),QE(i)){let a=Oe({},i,t(i),{id:l});return r[l]=a,a}else{let a=Oe({},i,t(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Bc(i.children,t,o,r)),a}})}function mi(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?vn(t):t,i=Gi(r.pathname||"/",n);if(i==null)return null;let s=s_(e);KE(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=rS(s[l],oS(i));return o}function GE(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function s_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(se(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=An([r,a.relativePath]),d=n.concat(a);s.children&&s.children.length>0&&(se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),s_(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:tS(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of o_(s.path))i(s,o,a)}),t}function o_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=o_(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function KE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qE=/^:\w+$/,YE=3,XE=2,JE=1,ZE=10,eS=-2,kp=e=>e==="*";function tS(e,t){let n=e.split("/"),r=n.length;return n.some(kp)&&(r+=eS),t&&(r+=XE),n.filter(i=>!kp(i)).reduce((i,s)=>i+(qE.test(s)?YE:s===""?JE:ZE),r)}function nS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rS(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=iS({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!d)return null;Object.assign(r,d.params);let f=l.route;s.push({params:r,pathname:An([i,d.pathname]),pathnameBase:cS(An([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=An([i,d.pathnameBase]))}return s}function iS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=sS(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:c,isOptional:v}=d;if(c==="*"){let E=l[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const g=l[f];return v&&!g?u[c]=void 0:u[c]=lS(g||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function sS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),hr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function oS(e){try{return decodeURI(e)}catch(t){return hr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lS(e,t){try{return decodeURIComponent(e)}catch(n){return hr(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?vn(e):e;return{pathname:n?n.startsWith("/")?n:uS(n,t):t,search:dS(r),hash:fS(i)}}function uS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Su(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xa(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pf(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=vn(e):(i=Oe({},e),se(!i.pathname||!i.pathname.includes("?"),Su("?","pathname","search",i)),se(!i.pathname||!i.pathname.includes("#"),Su("#","pathname","hash",i)),se(!i.search||!i.search.includes("#"),Su("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else if(r){let f=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),f.pop();i.pathname=c.join("/")}l="/"+f.join("/")}else{let f=t.length-1;if(o.startsWith("..")){let c=o.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}l=f>=0?t[f]:"/"}let a=aS(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}const An=e=>e.join("/").replace(/\/\/+/g,"/"),cS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class mf{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function l_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const a_=["post","put","patch","delete"],hS=new Set(a_),pS=["get",...a_],mS=new Set(pS),gS=new Set([301,302,303,307,308]),yS=new Set([307,308]),Cu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_S={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},u_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),c_="remix-router-transitions";function wS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let w=e.detectErrorBoundary;i=C=>({hasErrorBoundary:w(C)})}else i=vS;let s={},o=Bc(e.routes,i,void 0,s),l,a=e.basename||"/",u=Oe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,f=new Set,c=null,v=null,g=null,E=e.hydrationData!=null,N=mi(o,e.history.location,a),m=null;if(N==null){let w=Vt(404,{pathname:e.history.location.pathname}),{matches:C,route:R}=Lp(o);N=C,m={[R.id]:w}}let h=!N.some(w=>w.route.lazy)&&(!N.some(w=>w.route.loader)||e.hydrationData!=null),y,p={historyAction:e.history.action,location:e.history.location,matches:N,initialized:h,navigation:Cu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},S=ze.Pop,T=!1,x,D=!1,W=new Map,B=null,ae=!1,G=!1,J=[],ue=[],ee=new Map,He=0,Ue=-1,F=new Map,$=new Set,q=new Map,ge=new Map,he=new Set,pt=new Map,qe=new Map,En=!1;function jt(){if(d=e.history.listen(w=>{let{action:C,location:R,delta:U}=w;if(En){En=!1;return}hr(qe.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=Oo({currentLocation:p.location,nextLocation:R,historyAction:C});if(H&&U!=null){En=!0,e.history.go(U*-1),Bn(H,{state:"blocked",location:R,proceed(){Bn(H,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),e.history.go(U)},reset(){let te=new Map(p.blockers);te.set(H,hs),ut({blockers:te})}});return}return dn(C,R)}),n){DS(t,W);let w=()=>AS(t,W);t.addEventListener("pagehide",w),B=()=>t.removeEventListener("pagehide",w)}return p.initialized||dn(ze.Pop,p.location),y}function Vn(){d&&d(),B&&B(),f.clear(),x&&x.abort(),p.fetchers.forEach((w,C)=>L(C)),p.blockers.forEach((w,C)=>Yr(C))}function ts(w){return f.add(w),()=>f.delete(w)}function ut(w,C){C===void 0&&(C={}),p=Oe({},p,w);let R=[],U=[];u.v7_fetcherPersist&&p.fetchers.forEach((H,te)=>{H.state==="idle"&&(he.has(te)?U.push(te):R.push(te))}),[...f].forEach(H=>H(p,{deletedFetchers:U,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),u.v7_fetcherPersist&&(R.forEach(H=>p.fetchers.delete(H)),U.forEach(H=>L(H)))}function Sn(w,C,R){var U,H;let{flushSync:te}=R===void 0?{}:R,Z=p.actionData!=null&&p.navigation.formMethod!=null&&tn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((U=w.state)==null?void 0:U._isRedirect)!==!0,Y;C.actionData?Object.keys(C.actionData).length>0?Y=C.actionData:Y=null:Z?Y=p.actionData:Y=null;let Q=C.loaderData?Ap(p.loaderData,C.loaderData,C.matches||[],C.errors):p.loaderData,de=p.blockers;de.size>0&&(de=new Map(de),de.forEach((ve,Pe)=>de.set(Pe,hs)));let rt=T===!0||p.navigation.formMethod!=null&&tn(p.navigation.formMethod)&&((H=w.state)==null?void 0:H._isRedirect)!==!0;l&&(o=l,l=void 0),ae||S===ze.Pop||(S===ze.Push?e.history.push(w,w.state):S===ze.Replace&&e.history.replace(w,w.state));let ie;if(S===ze.Pop){let ve=W.get(p.location.pathname);ve&&ve.has(w.pathname)?ie={currentLocation:p.location,nextLocation:w}:W.has(w.pathname)&&(ie={currentLocation:w,nextLocation:p.location})}else if(D){let ve=W.get(p.location.pathname);ve?ve.add(w.pathname):(ve=new Set([w.pathname]),W.set(p.location.pathname,ve)),ie={currentLocation:p.location,nextLocation:w}}ut(Oe({},C,{actionData:Y,loaderData:Q,historyAction:S,location:w,initialized:!0,navigation:Cu,revalidation:"idle",restoreScrollPosition:fh(w,C.matches||p.matches),preventScrollReset:rt,blockers:de}),{viewTransitionOpts:ie,flushSync:te===!0}),S=ze.Pop,T=!1,D=!1,ae=!1,G=!1,J=[],ue=[]}async function ns(w,C){if(typeof w=="number"){e.history.go(w);return}let R=Wc(p.location,p.matches,a,u.v7_prependBasename,w,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:U,submission:H,error:te}=Tp(u.v7_normalizeFormMethod,!1,R,C),Z=p.location,Y=oo(p.location,U,C&&C.state);Y=Oe({},Y,e.history.encodeLocation(Y));let Q=C&&C.replace!=null?C.replace:void 0,de=ze.Push;Q===!0?de=ze.Replace:Q===!1||H!=null&&tn(H.formMethod)&&H.formAction===p.location.pathname+p.location.search&&(de=ze.Replace);let rt=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,ie=(C&&C.unstable_flushSync)===!0,ve=Oo({currentLocation:Z,nextLocation:Y,historyAction:de});if(ve){Bn(ve,{state:"blocked",location:Y,proceed(){Bn(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ns(w,C)},reset(){let Pe=new Map(p.blockers);Pe.set(ve,hs),ut({blockers:Pe})}});return}return await dn(de,Y,{submission:H,pendingError:te,preventScrollReset:rt,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:ie})}function Ba(){if(k(),ut({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){dn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}dn(S||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function dn(w,C,R){x&&x.abort(),x=null,S=w,ae=(R&&R.startUninterruptedRevalidation)===!0,f0(p.location,p.matches),T=(R&&R.preventScrollReset)===!0,D=(R&&R.enableViewTransition)===!0;let U=l||o,H=R&&R.overrideNavigation,te=mi(U,C,a),Z=(R&&R.flushSync)===!0;if(!te){let Pe=Vt(404,{pathname:C.pathname}),{matches:mt,route:fn}=Lp(U);Xr(),Sn(C,{matches:mt,loaderData:{},errors:{[fn.id]:Pe}},{flushSync:Z});return}if(p.initialized&&!G&&kS(p.location,C)&&!(R&&R.submission&&tn(R.submission.formMethod))){Sn(C,{matches:te},{flushSync:Z});return}x=new AbortController;let Y=ms(e.history,C,x.signal,R&&R.submission),Q,de;if(R&&R.pendingError)de={[Fs(te).route.id]:R.pendingError};else if(R&&R.submission&&tn(R.submission.formMethod)){let Pe=await Wa(Y,C,R.submission,te,{replace:R.replace,flushSync:Z});if(Pe.shortCircuited)return;Q=Pe.pendingActionData,de=Pe.pendingActionError,H=xu(C,R.submission),Z=!1,Y=new Request(Y.url,{signal:Y.signal})}let{shortCircuited:rt,loaderData:ie,errors:ve}=await Lo(Y,C,te,H,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,Z,Q,de);rt||(x=null,Sn(C,Oe({matches:te},Q?{actionData:Q}:{},{loaderData:ie,errors:ve})))}async function Wa(w,C,R,U,H){H===void 0&&(H={}),k();let te=NS(C,R);ut({navigation:te},{flushSync:H.flushSync===!0});let Z,Y=Hc(U,C);if(!Y.route.action&&!Y.route.lazy)Z={type:Ve.error,error:Vt(405,{method:w.method,pathname:C.pathname,routeId:Y.route.id})};else if(Z=await ps("action",w,Y,U,s,i,a),w.signal.aborted)return{shortCircuited:!0};if(xi(Z)){let Q;return H&&H.replace!=null?Q=H.replace:Q=Z.location===p.location.pathname+p.location.search,await qr(p,Z,{submission:R,replace:Q}),{shortCircuited:!0}}if(bs(Z)){let Q=Fs(U,Y.route.id);return(H&&H.replace)!==!0&&(S=ze.Push),{pendingActionData:{},pendingActionError:{[Q.route.id]:Z.error}}}if(Rr(Z))throw Vt(400,{type:"defer-action"});return{pendingActionData:{[Y.route.id]:Z.data}}}async function Lo(w,C,R,U,H,te,Z,Y,Q,de){let rt=U||xu(C,H),ie=H||te||Fp(rt),ve=l||o,[Pe,mt]=Ip(e.history,p,R,ie,C,G,J,ue,he,q,$,ve,a,Q,de);if(Xr(we=>!(R&&R.some(zt=>zt.route.id===we))||Pe&&Pe.some(zt=>zt.route.id===we)),Ue=++He,Pe.length===0&&mt.length===0){let we=Dt();return Sn(C,Oe({matches:R,loaderData:{},errors:de||null},Q?{actionData:Q}:{},we?{fetchers:new Map(p.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(!ae){mt.forEach(zt=>{let We=p.fetchers.get(zt.key),wr=gs(void 0,We?We.data:void 0);p.fetchers.set(zt.key,wr)});let we=Q||p.actionData;ut(Oe({navigation:rt},we?Object.keys(we).length===0?{actionData:null}:{actionData:we}:{},mt.length>0?{fetchers:new Map(p.fetchers)}:{}),{flushSync:Y})}mt.forEach(we=>{ee.has(we.key)&&ce(we.key),we.controller&&ee.set(we.key,we.controller)});let fn=()=>mt.forEach(we=>ce(we.key));x&&x.signal.addEventListener("abort",fn);let{results:is,loaderResults:Qa,fetcherResults:Jr}=await _(p.matches,R,Pe,mt,w);if(w.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",fn),mt.forEach(we=>ee.delete(we.key));let Xt=Mp(is);if(Xt){if(Xt.idx>=Pe.length){let we=mt[Xt.idx-Pe.length].key;$.add(we)}return await qr(p,Xt.result,{replace:Z}),{shortCircuited:!0}}let{loaderData:Fo,errors:Ga}=Dp(p,R,Pe,Qa,de,mt,Jr,pt);pt.forEach((we,zt)=>{we.subscribe(We=>{(We||we.done)&&pt.delete(zt)})});let Ka=Dt(),qa=Cn(Ue),Zr=Ka||qa||mt.length>0;return Oe({loaderData:Fo,errors:Ga},Zr?{fetchers:new Map(p.fetchers)}:{})}function Mo(w,C,R,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(w)&&ce(w);let H=(U&&U.unstable_flushSync)===!0,te=l||o,Z=Wc(p.location,p.matches,a,u.v7_prependBasename,R,C,U==null?void 0:U.relative),Y=mi(te,Z,a);if(!Y){j(w,C,Vt(404,{pathname:Z}),{flushSync:H});return}let{path:Q,submission:de,error:rt}=Tp(u.v7_normalizeFormMethod,!0,Z,U);if(rt){j(w,C,rt,{flushSync:H});return}let ie=Hc(Y,Q);if(T=(U&&U.preventScrollReset)===!0,de&&tn(de.formMethod)){ch(w,C,Q,ie,Y,H,de);return}q.set(w,{routeId:C,path:Q}),dh(w,C,Q,ie,Y,H,de)}async function ch(w,C,R,U,H,te,Z){if(k(),q.delete(w),!U.route.action&&!U.route.lazy){let We=Vt(405,{method:Z.formMethod,pathname:R,routeId:C});j(w,C,We,{flushSync:te});return}let Y=p.fetchers.get(w);I(w,PS(Z,Y),{flushSync:te});let Q=new AbortController,de=ms(e.history,R,Q.signal,Z);ee.set(w,Q);let rt=He,ie=await ps("action",de,U,H,s,i,a);if(de.signal.aborted){ee.get(w)===Q&&ee.delete(w);return}if(he.has(w)){I(w,Hn(void 0));return}if(xi(ie))if(ee.delete(w),Ue>rt){I(w,Hn(void 0));return}else return $.add(w),I(w,gs(Z)),qr(p,ie,{fetcherSubmission:Z});if(bs(ie)){j(w,C,ie.error);return}if(Rr(ie))throw Vt(400,{type:"defer-action"});let ve=p.navigation.location||p.location,Pe=ms(e.history,ve,Q.signal),mt=l||o,fn=p.navigation.state!=="idle"?mi(mt,p.navigation.location,a):p.matches;se(fn,"Didn't find any matches after fetcher action");let is=++He;F.set(w,is);let Qa=gs(Z,ie.data);p.fetchers.set(w,Qa);let[Jr,Xt]=Ip(e.history,p,fn,Z,ve,G,J,ue,he,q,$,mt,a,{[U.route.id]:ie.data},void 0);Xt.filter(We=>We.key!==w).forEach(We=>{let wr=We.key,hh=p.fetchers.get(wr),p0=gs(void 0,hh?hh.data:void 0);p.fetchers.set(wr,p0),ee.has(wr)&&ce(wr),We.controller&&ee.set(wr,We.controller)}),ut({fetchers:new Map(p.fetchers)});let Fo=()=>Xt.forEach(We=>ce(We.key));Q.signal.addEventListener("abort",Fo);let{results:Ga,loaderResults:Ka,fetcherResults:qa}=await _(p.matches,fn,Jr,Xt,Pe);if(Q.signal.aborted)return;Q.signal.removeEventListener("abort",Fo),F.delete(w),ee.delete(w),Xt.forEach(We=>ee.delete(We.key));let Zr=Mp(Ga);if(Zr){if(Zr.idx>=Jr.length){let We=Xt[Zr.idx-Jr.length].key;$.add(We)}return qr(p,Zr.result)}let{loaderData:we,errors:zt}=Dp(p,p.matches,Jr,Ka,void 0,Xt,qa,pt);if(p.fetchers.has(w)){let We=Hn(ie.data);p.fetchers.set(w,We)}Cn(is),p.navigation.state==="loading"&&is>Ue?(se(S,"Expected pending action"),x&&x.abort(),Sn(p.navigation.location,{matches:fn,loaderData:we,errors:zt,fetchers:new Map(p.fetchers)})):(ut({errors:zt,loaderData:Ap(p.loaderData,we,fn,zt),fetchers:new Map(p.fetchers)}),G=!1)}async function dh(w,C,R,U,H,te,Z){let Y=p.fetchers.get(w);I(w,gs(Z,Y?Y.data:void 0),{flushSync:te});let Q=new AbortController,de=ms(e.history,R,Q.signal);ee.set(w,Q);let rt=He,ie=await ps("loader",de,U,H,s,i,a);if(Rr(ie)&&(ie=await h_(ie,de.signal,!0)||ie),ee.get(w)===Q&&ee.delete(w),!de.signal.aborted){if(he.has(w)){I(w,Hn(void 0));return}if(xi(ie))if(Ue>rt){I(w,Hn(void 0));return}else{$.add(w),await qr(p,ie);return}if(bs(ie)){j(w,C,ie.error);return}se(!Rr(ie),"Unhandled fetcher deferred data"),I(w,Hn(ie.data))}}async function qr(w,C,R){let{submission:U,fetcherSubmission:H,replace:te}=R===void 0?{}:R;C.revalidate&&(G=!0);let Z=oo(w.location,C.location,{_isRedirect:!0});if(se(Z,"Expected a location on the redirect navigation"),n){let ve=!1;if(C.reloadDocument)ve=!0;else if(u_.test(C.location)){const Pe=e.history.createURL(C.location);ve=Pe.origin!==t.location.origin||Gi(Pe.pathname,a)==null}if(ve){te?t.location.replace(C.location):t.location.assign(C.location);return}}x=null;let Y=te===!0?ze.Replace:ze.Push,{formMethod:Q,formAction:de,formEncType:rt}=w.navigation;!U&&!H&&Q&&de&&rt&&(U=Fp(w.navigation));let ie=U||H;if(yS.has(C.status)&&ie&&tn(ie.formMethod))await dn(Y,Z,{submission:Oe({},ie,{formAction:C.location}),preventScrollReset:T});else{let ve=xu(Z,U);await dn(Y,Z,{overrideNavigation:ve,fetcherSubmission:H,preventScrollReset:T})}}async function _(w,C,R,U,H){let te=await Promise.all([...R.map(Q=>ps("loader",H,Q,C,s,i,a)),...U.map(Q=>Q.matches&&Q.match&&Q.controller?ps("loader",ms(e.history,Q.path,Q.controller.signal),Q.match,Q.matches,s,i,a):{type:Ve.error,error:Vt(404,{pathname:Q.path})})]),Z=te.slice(0,R.length),Y=te.slice(R.length);return await Promise.all([Op(w,R,Z,Z.map(()=>H.signal),!1,p.loaderData),Op(w,U.map(Q=>Q.match),Y,U.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{results:te,loaderResults:Z,fetcherResults:Y}}function k(){G=!0,J.push(...Xr()),q.forEach((w,C)=>{ee.has(C)&&(ue.push(C),ce(C))})}function I(w,C,R){R===void 0&&(R={}),p.fetchers.set(w,C),ut({fetchers:new Map(p.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function j(w,C,R,U){U===void 0&&(U={});let H=Fs(p.matches,C);L(w),ut({errors:{[H.route.id]:R},fetchers:new Map(p.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function O(w){return u.v7_fetcherPersist&&(ge.set(w,(ge.get(w)||0)+1),he.has(w)&&he.delete(w)),p.fetchers.get(w)||_S}function L(w){let C=p.fetchers.get(w);ee.has(w)&&!(C&&C.state==="loading"&&F.has(w))&&ce(w),q.delete(w),F.delete(w),$.delete(w),he.delete(w),p.fetchers.delete(w)}function K(w){if(u.v7_fetcherPersist){let C=(ge.get(w)||0)-1;C<=0?(ge.delete(w),he.add(w)):ge.set(w,C)}else L(w);ut({fetchers:new Map(p.fetchers)})}function ce(w){let C=ee.get(w);se(C,"Expected fetch controller: "+w),C.abort(),ee.delete(w)}function je(w){for(let C of w){let R=O(C),U=Hn(R.data);p.fetchers.set(C,U)}}function Dt(){let w=[],C=!1;for(let R of $){let U=p.fetchers.get(R);se(U,"Expected fetcher: "+R),U.state==="loading"&&($.delete(R),w.push(R),C=!0)}return je(w),C}function Cn(w){let C=[];for(let[R,U]of F)if(U<w){let H=p.fetchers.get(R);se(H,"Expected fetcher: "+R),H.state==="loading"&&(ce(R),F.delete(R),C.push(R))}return je(C),C.length>0}function $a(w,C){let R=p.blockers.get(w)||hs;return qe.get(w)!==C&&qe.set(w,C),R}function Yr(w){p.blockers.delete(w),qe.delete(w)}function Bn(w,C){let R=p.blockers.get(w)||hs;se(R.state==="unblocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="proceeding"||R.state==="blocked"&&C.state==="unblocked"||R.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+C.state);let U=new Map(p.blockers);U.set(w,C),ut({blockers:U})}function Oo(w){let{currentLocation:C,nextLocation:R,historyAction:U}=w;if(qe.size===0)return;qe.size>1&&hr(!1,"A router only supports one blocker at a time");let H=Array.from(qe.entries()),[te,Z]=H[H.length-1],Y=p.blockers.get(te);if(!(Y&&Y.state==="proceeding")&&Z({currentLocation:C,nextLocation:R,historyAction:U}))return te}function Xr(w){let C=[];return pt.forEach((R,U)=>{(!w||w(U))&&(R.cancel(),C.push(U),pt.delete(U))}),C}function Ha(w,C,R){if(c=w,g=C,v=R||null,!E&&p.navigation===Cu){E=!0;let U=fh(p.location,p.matches);U!=null&&ut({restoreScrollPosition:U})}return()=>{c=null,g=null,v=null}}function rs(w,C){return v&&v(w,C.map(U=>GE(U,p.loaderData)))||w.key}function f0(w,C){if(c&&g){let R=rs(w,C);c[R]=g()}}function fh(w,C){if(c){let R=rs(w,C),U=c[R];if(typeof U=="number")return U}return null}function h0(w){s={},l=Bc(w,i,void 0,s)}return y={get basename(){return a},get state(){return p},get routes(){return o},get window(){return t},initialize:jt,subscribe:ts,enableScrollRestoration:Ha,navigate:ns,fetch:Mo,revalidate:Ba,createHref:w=>e.history.createHref(w),encodeLocation:w=>e.history.encodeLocation(w),getFetcher:O,deleteFetcher:K,dispose:Vn,getBlocker:$a,deleteBlocker:Yr,_internalFetchControllers:ee,_internalActiveDeferreds:pt,_internalSetRoutes:h0},y}function ES(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Wc(e,t,n,r,i,s,o){let l,a;if(s){l=[];for(let d of t)if(l.push(d),d.route.id===s){a=d;break}}else l=t,a=t[t.length-1];let u=pf(i||".",xa(l).map(d=>d.pathnameBase),Gi(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!gf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:An([n,u.pathname])),jr(u)}function Tp(e,t,n,r){if(!r||!ES(r))return{path:n};if(r.formMethod&&!RS(r.formMethod))return{path:n,error:Vt(405,{method:r.formMethod})};let i=()=>({path:n,error:Vt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),l=f_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!tn(o))return i();let c=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,g)=>{let[E,N]=g;return""+v+E+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:c}}}else if(r.formEncType==="application/json"){if(!tn(o))return i();try{let c=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:c,text:void 0}}}catch{return i()}}}se(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=$c(r.formData),u=r.formData;else if(r.body instanceof FormData)a=$c(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Pp(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Pp(a)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(tn(d.formMethod))return{path:n,submission:d};let f=vn(n);return t&&f.search&&gf(f.search)&&a.append("index",""),f.search="?"+a,{path:jr(f),submission:d}}function SS(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Ip(e,t,n,r,i,s,o,l,a,u,d,f,c,v,g){let E=g?Object.values(g)[0]:v?Object.values(v)[0]:void 0,N=e.createURL(t.location),m=e.createURL(i),h=g?Object.keys(g)[0]:void 0,p=SS(n,h).filter((T,x)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(CS(t.loaderData,t.matches[x],T)||o.some(B=>B===T.route.id))return!0;let D=t.matches[x],W=T;return Rp(T,Oe({currentUrl:N,currentParams:D.params,nextUrl:m,nextParams:W.params},r,{actionResult:E,defaultShouldRevalidate:s||N.pathname+N.search===m.pathname+m.search||N.search!==m.search||d_(D,W)}))}),S=[];return u.forEach((T,x)=>{if(!n.some(G=>G.route.id===T.routeId)||a.has(x))return;let D=mi(f,T.path,c);if(!D){S.push({key:x,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let W=t.fetchers.get(x),B=Hc(D,T.path),ae=!1;d.has(x)?ae=!1:l.includes(x)?ae=!0:W&&W.state!=="idle"&&W.data===void 0?ae=s:ae=Rp(B,Oe({currentUrl:N,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:s})),ae&&S.push({key:x,routeId:T.routeId,path:T.path,matches:D,match:B,controller:new AbortController})}),[p,S]}function CS(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function d_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Rp(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Np(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];se(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";hr(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!HE.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Oe({},t(i),{lazy:void 0}))}async function ps(e,t,n,r,i,s,o,l){l===void 0&&(l={});let a,u,d,f=g=>{let E,N=new Promise((m,h)=>E=h);return d=()=>E(),t.signal.addEventListener("abort",d),Promise.race([g({request:t,params:n.params,context:l.requestContext}),N])};try{let g=n.route[e];if(n.route.lazy)if(g){let E,N=await Promise.all([f(g).catch(m=>{E=m}),Np(n.route,s,i)]);if(E)throw E;u=N[0]}else if(await Np(n.route,s,i),g=n.route[e],g)u=await f(g);else if(e==="action"){let E=new URL(t.url),N=E.pathname+E.search;throw Vt(405,{method:t.method,pathname:N,routeId:n.route.id})}else return{type:Ve.data,data:void 0};else if(g)u=await f(g);else{let E=new URL(t.url),N=E.pathname+E.search;throw Vt(404,{pathname:N})}se(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){a=Ve.error,u=g}finally{d&&t.signal.removeEventListener("abort",d)}if(IS(u)){let g=u.status;if(gS.has(g)){let m=u.headers.get("Location");if(se(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!u_.test(m))m=Wc(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,m);else if(!l.isStaticRequest){let h=new URL(t.url),y=m.startsWith("//")?new URL(h.protocol+m):new URL(m),p=Gi(y.pathname,o)!=null;y.origin===h.origin&&p&&(m=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw u.headers.set("Location",m),u;return{type:Ve.redirect,status:g,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:a===Ve.error?Ve.error:Ve.data,response:u};let E,N=u.headers.get("Content-Type");return N&&/\bapplication\/json\b/.test(N)?E=await u.json():E=await u.text(),a===Ve.error?{type:a,error:new mf(g,u.statusText,E),headers:u.headers}:{type:Ve.data,data:E,statusCode:u.status,headers:u.headers}}if(a===Ve.error)return{type:a,error:u};if(TS(u)){var c,v;return{type:Ve.deferred,deferredData:u,statusCode:(c=u.init)==null?void 0:c.status,headers:((v=u.init)==null?void 0:v.headers)&&new Headers(u.init.headers)}}return{type:Ve.data,data:u}}function ms(e,t,n,r){let i=e.createURL(f_(t)).toString(),s={signal:n};if(r&&tn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=$c(r.formData):s.body=r.formData}return new Request(i,s)}function $c(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Pp(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function xS(e,t,n,r,i){let s={},o=null,l,a=!1,u={};return n.forEach((d,f)=>{let c=t[f].route.id;if(se(!xi(d),"Cannot handle redirect results in processLoaderData"),bs(d)){let v=Fs(e,c),g=d.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[v.route.id]==null&&(o[v.route.id]=g),s[c]=void 0,a||(a=!0,l=l_(d.error)?d.error.status:500),d.headers&&(u[c]=d.headers)}else Rr(d)?(i.set(c,d.deferredData),s[c]=d.deferredData.data):s[c]=d.data,d.statusCode!=null&&d.statusCode!==200&&!a&&(l=d.statusCode),d.headers&&(u[c]=d.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function Dp(e,t,n,r,i,s,o,l){let{loaderData:a,errors:u}=xS(t,n,r,i,l);for(let d=0;d<s.length;d++){let{key:f,match:c,controller:v}=s[d];se(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let g=o[d];if(!(v&&v.signal.aborted))if(bs(g)){let E=Fs(e.matches,c==null?void 0:c.route.id);u&&u[E.route.id]||(u=Oe({},u,{[E.route.id]:g.error})),e.fetchers.delete(f)}else if(xi(g))se(!1,"Unhandled fetcher revalidation redirect");else if(Rr(g))se(!1,"Unhandled fetcher deferred data");else{let E=Hn(g.data);e.fetchers.set(f,E)}}return{loaderData:a,errors:u}}function Ap(e,t,n,r){let i=Oe({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Fs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Lp(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Vt(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",l='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new mf(e||500,o,new Error(l),!0)}function Mp(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(xi(n))return{result:n,idx:t}}}function f_(e){let t=typeof e=="string"?vn(e):e;return jr(Oe({},t,{hash:""}))}function kS(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Rr(e){return e.type===Ve.deferred}function bs(e){return e.type===Ve.error}function xi(e){return(e&&e.type)===Ve.redirect}function TS(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function IS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function RS(e){return mS.has(e.toLowerCase())}function tn(e){return hS.has(e.toLowerCase())}async function Op(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],a=t[o];if(!a)continue;let u=e.find(f=>f.route.id===a.route.id),d=u!=null&&!d_(u,a)&&(s&&s[a.route.id])!==void 0;if(Rr(l)&&(i||d)){let f=r[o];se(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await h_(l,f,i).then(c=>{c&&(n[o]=c||n[o])})}}}async function h_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ve.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ve.error,error:i}}return{type:Ve.data,data:e.deferredData.data}}}function gf(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Hc(e,t){let n=typeof t=="string"?vn(t).search:t.search;if(e[e.length-1].route.index&&gf(n||""))return e[e.length-1];let r=xa(e);return r[r.length-1]}function Fp(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function xu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function NS(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function gs(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Hn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function DS(e,t){try{let n=e.sessionStorage.getItem(c_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function AS(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(c_,JSON.stringify(n))}catch(r){hr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(this,arguments)}const ka=P.createContext(null),p_=P.createContext(null),Ki=P.createContext(null),Ta=P.createContext(null),vr=P.createContext({outlet:null,matches:[],isDataRoute:!1}),m_=P.createContext(null);function LS(e,t){let{relative:n}=t===void 0?{}:t;xo()||se(!1);let{basename:r,navigator:i}=P.useContext(Ki),{hash:s,pathname:o,search:l}=__(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:An([r,o])),i.createHref({pathname:a,search:l,hash:s})}function xo(){return P.useContext(Ta)!=null}function ko(){return xo()||se(!1),P.useContext(Ta).location}function g_(e){P.useContext(Ki).static||P.useLayoutEffect(e)}function yf(){let{isDataRoute:e}=P.useContext(vr);return e?HS():MS()}function MS(){xo()||se(!1);let e=P.useContext(ka),{basename:t,navigator:n}=P.useContext(Ki),{matches:r}=P.useContext(vr),{pathname:i}=ko(),s=JSON.stringify(xa(r).map(a=>a.pathnameBase)),o=P.useRef(!1);return g_(()=>{o.current=!0}),P.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let d=pf(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:An([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}function y_(){let{matches:e}=P.useContext(vr),t=e[e.length-1];return t?t.params:{}}function __(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(vr),{pathname:i}=ko(),s=JSON.stringify(xa(r).map(o=>o.pathnameBase));return P.useMemo(()=>pf(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function OS(e,t,n){xo()||se(!1);let{navigator:r}=P.useContext(Ki),{matches:i}=P.useContext(vr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=ko(),u;if(t){var d;let E=typeof t=="string"?vn(t):t;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||se(!1),u=E}else u=a;let f=u.pathname||"/",c=l==="/"?f:f.slice(l.length)||"/",v=mi(e,{pathname:c}),g=zS(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:An([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:An([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return t&&g?P.createElement(Ta.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ze.Pop}},g):g}function FS(){let e=$S(),t=l_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,s)}const bS=P.createElement(FS,null);class US extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(vr.Provider,{value:this.props.routeContext},P.createElement(m_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jS(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(ka);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(vr.Provider,{value:t},r)}function zS(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||se(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let d=a.route.id?o==null?void 0:o[a.route.id]:null,f=null;n&&(f=a.route.errorElement||bS);let c=t.concat(s.slice(0,u+1)),v=()=>{let g;return d?g=f:a.route.Component?g=P.createElement(a.route.Component,null):a.route.element?g=a.route.element:g=l,P.createElement(jS,{match:a,routeContext:{outlet:l,matches:c,isDataRoute:n!=null},children:g})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?P.createElement(US,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):v()},null)}var v_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v_||{}),zl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zl||{});function VS(e){let t=P.useContext(ka);return t||se(!1),t}function BS(e){let t=P.useContext(p_);return t||se(!1),t}function WS(e){let t=P.useContext(vr);return t||se(!1),t}function w_(e){let t=WS(),n=t.matches[t.matches.length-1];return n.route.id||se(!1),n.route.id}function $S(){var e;let t=P.useContext(m_),n=BS(zl.UseRouteError),r=w_(zl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function HS(){let{router:e}=VS(v_.UseNavigateStable),t=w_(zl.UseNavigateStable),n=P.useRef(!1);return g_(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jl({fromRouteId:t},s)))},[e,t])}function QS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ze.Pop,navigator:s,static:o=!1}=e;xo()&&se(!1);let l=t.replace(/^\/*/,"/"),a=P.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=vn(r));let{pathname:u="/",search:d="",hash:f="",state:c=null,key:v="default"}=r,g=P.useMemo(()=>{let E=Gi(u,l);return E==null?null:{location:{pathname:E,search:d,hash:f,state:c,key:v},navigationType:i}},[l,u,d,f,c,v,i]);return g==null?null:P.createElement(Ki.Provider,{value:a},P.createElement(Ta.Provider,{children:n,value:g}))}new Promise(()=>{});function GS(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:P.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:P.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}function KS(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function qS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YS(e,t){return e.button===0&&(!t||t==="_self")&&!qS(e)}function Qc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function XS(e,t){let n=Qc(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const JS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function ZS(e,t){return wS({basename:t==null?void 0:t.basename,future:lo({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:BE({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||eC(),routes:e,mapRouteProperties:GS,window:t==null?void 0:t.window}).initialize()}function eC(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=lo({},t,{errors:tC(t.errors)})),t}function tC(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new mf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const nC=P.createContext({isTransitioning:!1}),rC=P.createContext(new Map),iC="startTransition",bp=P0[iC],sC="flushSync",Up=VE[sC];function oC(e){bp?bp(e):e()}function ys(e){Up?Up(e):e()}let lC=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function aC(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=P.useState(n.state),[o,l]=P.useState(),[a,u]=P.useState({isTransitioning:!1}),[d,f]=P.useState(),[c,v]=P.useState(),[g,E]=P.useState(),N=P.useRef(new Map),{v7_startTransition:m}=r||{},h=P.useCallback(x=>{m?oC(x):x()},[m]),y=P.useCallback((x,D)=>{let{deletedFetchers:W,unstable_flushSync:B,unstable_viewTransitionOpts:ae}=D;W.forEach(J=>N.current.delete(J)),x.fetchers.forEach((J,ue)=>{J.data!==void 0&&N.current.set(ue,J.data)});let G=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ae||G){B?ys(()=>s(x)):h(()=>s(x));return}if(B){ys(()=>{c&&(d&&d.resolve(),c.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation})});let J=n.window.document.startViewTransition(()=>{ys(()=>s(x))});J.finished.finally(()=>{ys(()=>{f(void 0),v(void 0),l(void 0),u({isTransitioning:!1})})}),ys(()=>v(J));return}c?(d&&d.resolve(),c.skipTransition(),E({state:x,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation})):(l(x),u({isTransitioning:!0,flushSync:!1,currentLocation:ae.currentLocation,nextLocation:ae.nextLocation}))},[n.window,c,d,N,h]);P.useLayoutEffect(()=>n.subscribe(y),[n,y]),P.useEffect(()=>{a.isTransitioning&&!a.flushSync&&f(new lC)},[a]),P.useEffect(()=>{if(d&&o&&n.window){let x=o,D=d.promise,W=n.window.document.startViewTransition(async()=>{h(()=>s(x)),await D});W.finished.finally(()=>{f(void 0),v(void 0),l(void 0),u({isTransitioning:!1})}),v(W)}},[h,o,d,n.window]),P.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,c,i.location,o]),P.useEffect(()=>{!a.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),E(void 0))},[a.isTransitioning,g]);let p=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,D,W)=>n.navigate(x,{state:D,preventScrollReset:W==null?void 0:W.preventScrollReset}),replace:(x,D,W)=>n.navigate(x,{replace:!0,state:D,preventScrollReset:W==null?void 0:W.preventScrollReset})}),[n]),S=n.basename||"/",T=P.useMemo(()=>({router:n,navigator:p,static:!1,basename:S}),[n,p,S]);return P.createElement(P.Fragment,null,P.createElement(ka.Provider,{value:T},P.createElement(p_.Provider,{value:i},P.createElement(rC.Provider,{value:N.current},P.createElement(nC.Provider,{value:a},P.createElement(QS,{basename:S,location:i.location,navigationType:i.historyAction,navigator:p},i.initialized?P.createElement(uC,{routes:n.routes,state:i}):t))))),null)}function uC(e){let{routes:t,state:n}=e;return OS(t,void 0,n)}const cC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_f=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:d,unstable_viewTransition:f}=t,c=KS(t,JS),{basename:v}=P.useContext(Ki),g,E=!1;if(typeof u=="string"&&dC.test(u)&&(g=u,cC))try{let y=new URL(window.location.href),p=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Gi(p.pathname,v);p.origin===y.origin&&S!=null?u=S+p.search+p.hash:E=!0}catch{}let N=LS(u,{relative:i}),m=fC(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,unstable_viewTransition:f});function h(y){r&&r(y),y.defaultPrevented||m(y)}return P.createElement("a",lo({},c,{href:g||N,onClick:E||s?r:h,ref:n,target:a}))});var jp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jp||(jp={}));var zp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zp||(zp={}));function fC(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=yf(),u=ko(),d=__(e,{relative:o});return P.useCallback(f=>{if(YS(f,n)){f.preventDefault();let c=r!==void 0?r:jr(u)===jr(d);a(e,{replace:c,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,a,d,r,i,n,e,s,o,l])}function hC(e){let t=P.useRef(Qc(e)),n=P.useRef(!1),r=ko(),i=P.useMemo(()=>XS(r.search,n.current?null:t.current),[r.search]),s=yf(),o=P.useCallback((l,a)=>{const u=Qc(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,a)},[s,i]);return[i,o]}var Vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(e,t){if(!e)throw qi(t)},qi=function(e){return new Error("Firebase Database ("+E_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},pC=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},vf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let c=(l&15)<<2|u>>6,v=u&63;a||(v=64,o||(c=64)),r.push(n[d],n[f],n[c],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new mC;const c=s<<2|l>>4;if(r.push(c),u!==64){const v=l<<4&240|u>>2;if(r.push(v),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C_=function(e){const t=S_(e);return vf.encodeByteArray(t,!0)},Vl=function(e){return C_(e).replace(/\./g,"")},Gc=function(e){try{return vf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(e){return x_(void 0,e)}function x_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!yC(n)||(e[n]=x_(e[n],t[n]));return e}function yC(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=()=>_C().__FIREBASE_DEFAULTS__,wC=()=>{if(typeof process>"u"||typeof Vp>"u")return;const e=Vp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gc(e[1]);return t&&JSON.parse(t)},k_=()=>{try{return vC()||wC()||EC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},SC=e=>{var t,n;return(n=(t=k_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},CC=e=>{const t=SC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},T_=()=>{var e;return(e=k_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Vl(JSON.stringify(n)),Vl(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kC())}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R_(){return E_.NODE_ADMIN===!0}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function RC(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="FirebaseError";class Io extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=NC,Object.setPrototypeOf(this,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?PC(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Io(i,l,r)}}function PC(e,t){return e.replace(DC,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const DC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(e){return JSON.parse(e)}function tt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=ao(Gc(s[0])||""),n=ao(Gc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},AC=function(e){const t=P_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LC=function(e){const t=P_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ui(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Bp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Bl(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Kc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Wp(s)&&Wp(o)){if(!Kc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)r[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const c=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):f<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const c=(i<<5|i>>>27)+u+a+d+r[f]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function Ia(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ra=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(e){return e&&e._delegate?e._delegate:e}class uo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new To;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jC(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UC(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UC(e){return e===Cr?void 0:e}function jC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const VC={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},BC=Se.INFO,WC={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},$C=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=WC[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class D_{constructor(t){this.name=t,this._logLevel=BC,this._logHandler=$C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const HC=(e,t)=>t.some(n=>e instanceof n);let $p,Hp;function QC(){return $p||($p=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GC(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,qc=new WeakMap,L_=new WeakMap,ku=new WeakMap,wf=new WeakMap;function KC(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ar(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&A_.set(n,e)}).catch(()=>{}),wf.set(t,e),t}function qC(e){if(qc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});qc.set(e,t)}let Yc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function YC(e){Yc=e(Yc)}function XC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Tu(this),t,...n);return L_.set(r,t.sort?t.sort():[t]),ar(r)}:GC().includes(e)?function(...t){return e.apply(Tu(this),t),ar(A_.get(this))}:function(...t){return ar(e.apply(Tu(this),t))}}function JC(e){return typeof e=="function"?XC(e):(e instanceof IDBTransaction&&qC(e),HC(e,QC())?new Proxy(e,Yc):e)}function ar(e){if(e instanceof IDBRequest)return KC(e);if(ku.has(e))return ku.get(e);const t=JC(e);return t!==e&&(ku.set(e,t),wf.set(t,e)),t}const Tu=e=>wf.get(e);function ZC(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=ar(o);return r&&o.addEventListener("upgradeneeded",a=>{r(ar(o.result),a.oldVersion,a.newVersion,ar(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const e1=["get","getKey","getAll","getAllKeys","count"],t1=["put","add","delete","clear"],Iu=new Map;function Qp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Iu.get(t))return Iu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=t1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e1.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Iu.set(t,s),s}YC(e=>({...e,get:(t,n,r)=>Qp(t,n)||e.get(t,n,r),has:(t,n)=>!!Qp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xc="@firebase/app",Gp="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new D_("@firebase/app"),i1="@firebase/app-compat",s1="@firebase/analytics-compat",o1="@firebase/analytics",l1="@firebase/app-check-compat",a1="@firebase/app-check",u1="@firebase/auth",c1="@firebase/auth-compat",d1="@firebase/database",f1="@firebase/database-compat",h1="@firebase/functions",p1="@firebase/functions-compat",m1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",w1="@firebase/performance-compat",E1="@firebase/remote-config",S1="@firebase/remote-config-compat",C1="@firebase/storage",x1="@firebase/storage-compat",k1="@firebase/firestore",T1="@firebase/firestore-compat",I1="firebase",R1="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",N1={[Xc]:"fire-core",[i1]:"fire-core-compat",[o1]:"fire-analytics",[s1]:"fire-analytics-compat",[a1]:"fire-app-check",[l1]:"fire-app-check-compat",[u1]:"fire-auth",[c1]:"fire-auth-compat",[d1]:"fire-rtdb",[f1]:"fire-rtdb-compat",[h1]:"fire-fn",[p1]:"fire-fn-compat",[m1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[w1]:"fire-perf-compat",[E1]:"fire-rc",[S1]:"fire-rc-compat",[C1]:"fire-gcs",[x1]:"fire-gcs-compat",[k1]:"fire-fst",[T1]:"fire-fst-compat","fire-js":"fire-js",[I1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,Zc=new Map;function P1(e,t){try{e.container.addComponent(t)}catch(n){zr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $l(e){const t=e.name;if(Zc.has(t))return zr.debug(`There were multiple attempts to register component ${t}.`),!1;Zc.set(t,e);for(const n of Wl.values())P1(n,e);return!0}function D1(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new N_("app","Firebase",A1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=R1;function M_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Jc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=T_()),!n)throw ur.create("no-options");const s=Wl.get(i);if(s){if(Kc(n,s.options)&&Kc(r,s.config))return s;throw ur.create("duplicate-app",{appName:i})}const o=new zC(i);for(const a of Zc.values())o.addComponent(a);const l=new L1(n,r,o);return Wl.set(i,l),l}function O1(e=Jc){const t=Wl.get(e);if(!t&&e===Jc&&T_())return M_();if(!t)throw ur.create("no-app",{appName:e});return t}function ki(e,t,n){var r;let i=(r=N1[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zr.warn(l.join(" "));return}$l(new uo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",b1=1,co="firebase-heartbeat-store";let Ru=null;function O_(){return Ru||(Ru=ZC(F1,b1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(co)}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),Ru}async function U1(e){try{return await(await O_()).transaction(co).objectStore(co).get(F_(e))}catch(t){if(t instanceof Io)zr.warn(t.message);else{const n=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zr.warn(n.message)}}}async function Kp(e,t){try{const r=(await O_()).transaction(co,"readwrite");await r.objectStore(co).put(t,F_(e)),await r.done}catch(n){if(n instanceof Io)zr.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function F_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,z1=30*24*60*60*1e3;class V1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qp();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=z1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qp(),{heartbeatsToSend:r,unsentEntries:i}=B1(this._heartbeatsCache.heartbeats),s=Vl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function qp(){return new Date().toISOString().substring(0,10)}function B1(e,t=j1){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?RC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Yp(e){return Vl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e){$l(new uo("platform-logger",t=>new n1(t),"PRIVATE")),$l(new uo("heartbeat",t=>new V1(t),"PRIVATE")),ki(Xc,Gp,e),ki(Xc,Gp,"esm2017"),ki("fire-js","")}$1("");var Xp={};const Jp="@firebase/database",Zp="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_="";function H1(e){b_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ao(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return wn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Q1(t)}}catch{}return new G1},Nr=U_("localStorage"),ed=U_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new D_("@firebase/database"),K1=function(){let e=1;return function(){return e++}}(),j_=function(e){const t=FC(e),n=new OC;n.update(t);const r=n.digest();return vf.encodeByteArray(r)},Ro=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Ro.apply(null,r):typeof r=="object"?t+=tt(r):t+=r,t+=" "}return t};let Lr=null,em=!0;const q1=function(e,t){M(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ti.logLevel=Se.VERBOSE,Lr=Ti.log.bind(Ti),t&&ed.set("logging_enabled",!0)):typeof e=="function"?Lr=e:(Lr=null,ed.remove("logging_enabled"))},st=function(...e){if(em===!0&&(em=!1,Lr===null&&ed.get("logging_enabled")===!0&&q1(!0)),Lr){const t=Ro.apply(null,e);Lr(t)}},No=function(e){return function(...t){st(e,...t)}},td=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ro(...e);Ti.error(t)},Un=function(...e){const t=`FIREBASE FATAL ERROR: ${Ro(...e)}`;throw Ti.error(t),new Error(t)},vt=function(...e){const t="FIREBASE WARNING: "+Ro(...e);Ti.warn(t)},Y1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ef=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},X1=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ji="[MIN_NAME]",Vr="[MAX_NAME]",Gr=function(e,t){if(e===t)return 0;if(e===ji||t===Vr)return-1;if(t===ji||e===Vr)return 1;{const n=tm(e),r=tm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},J1=function(e,t){return e===t?0:e<t?-1:1},_s=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+tt(t))},Sf=function(e){if(typeof e!="object"||e===null)return tt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=tt(t[r]),n+=":",n+=Sf(e[t[r]]);return n+="}",n},z_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function at(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const V_=function(e){M(!Ef(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(a=0;a<64;a+=8){let c=parseInt(d.substr(a,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},Z1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ex=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function tx(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const nx=new RegExp("^-?(0*)\\d{1,10}$"),rx=-2147483648,ix=2147483647,tm=function(e){if(nx.test(e)){const t=Number(e);if(t>=rx&&t<=ix)return t}return null},Xi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw vt("Exception was thrown by user callback.",n),t},Math.floor(0))}},sx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Us=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(st("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(t)}}class Ii{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Ii.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="5",B_="v",W_="s",$_="r",H_="f",Q_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G_="ls",K_="p",nd="ac",q_="websocket",Y_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Nr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function ax(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function J_(e,t,n){M(typeof t=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(t===q_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Y_)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ax(e)&&(n.ns=e.namespace);const i=[];return at(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.counters_={}}incrementCounter(t,n=1){wn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return gC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={},Pu={};function xf(e){const t=e.toString();return Nu[t]||(Nu[t]=new ux),Nu[t]}function cx(e,t){const n=e.toString();return Pu[n]||(Pu[n]=t()),Pu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="start",fx="close",hx="pLPCommand",px="pRTLPCB",Z_="id",ev="pw",tv="ser",mx="cb",gx="seg",yx="ts",_x="d",vx="dframe",nv=1870,rv=30,wx=nv-rv,Ex=25e3,Sx=3e4;class gi{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=No(t),this.stats_=xf(n),this.urlFn=a=>(this.appCheckToken&&(a[nd]=this.appCheckToken),J_(n,Y_,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Sx)),X1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kf((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nm)this.id=l,this.password=a;else if(o===fx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[nm]="t",r[tv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[B_]=Cf,this.transportSessionId&&(r[W_]=this.transportSessionId),this.lastSessionId&&(r[G_]=this.lastSessionId),this.applicationId&&(r[K_]=this.applicationId),this.appCheckToken&&(r[nd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Q_.test(location.hostname)&&(r[$_]=H_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gi.forceAllow_=!0}static forceDisallow(){gi.forceDisallow_=!0}static isAvailable(){return gi.forceAllow_?!0:!gi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Z1()&&!ex()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=tt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=C_(n),i=z_(r,wx);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vx]="t",r[Z_]=t,r[ev]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=tt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kf{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=K1(),window[hx+this.uniqueCallbackIdentifier]=t,window[px+this.uniqueCallbackIdentifier]=n,this.myIFrame=kf.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){st("frame writing exception"),l.stack&&st(l.stack),st(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||st("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Z_]=this.myID,t[ev]=this.myPW,t[tv]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rv+r.length<=nv;){const o=this.pendingSegs.shift();r=r+"&"+gx+i+"="+o.seg+"&"+yx+i+"="+o.ts+"&"+_x+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Ex)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{st("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=16384,xx=45e3;let Hl=null;typeof MozWebSocket<"u"?Hl=MozWebSocket:typeof WebSocket<"u"&&(Hl=WebSocket);class rn{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=No(this.connId),this.stats_=xf(n),this.connURL=rn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[B_]=Cf,typeof location<"u"&&location.hostname&&Q_.test(location.hostname)&&(o[$_]=H_),n&&(o[W_]=n),r&&(o[G_]=r),i&&(o[nd]=i),s&&(o[K_]=s),J_(t,q_,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nr.set("previous_websocket_failure",!0);try{let r;R_(),this.mySock=new Hl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Hl!==null&&!rn.forceDisallow_}static previouslyFailed(){return Nr.isInMemoryStorage||Nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Nr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ao(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=tt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=z_(n,Cx);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xx))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gi,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=rn&&rn.isAvailable();let r=n&&!rn.previouslyFailed();if(t.webSocketOnly&&(n||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[rn];else{const i=this.transports_=[];for(const s of fo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=6e4,Tx=5e3,Ix=10*1024,Rx=100*1024,Du="t",rm="d",Nx="s",im="r",Px="e",sm="o",om="a",lm="n",am="p",Dx="h";class Ax{constructor(t,n,r,i,s,o,l,a,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=No("c:"+this.id+":"),this.transportManager_=new fo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ix?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Du in t){const n=t[Du];n===om?this.upgradeIfSecondaryHealthy_():n===im?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=_s("t",t),r=_s("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:am,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:om,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=_s("t",t),r=_s("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=_s(Du,t);if(rm in t){const r=t[rm];if(n===Dx){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===lm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Nx?this.onConnectionShutdown_(r):n===im?this.onReset_(r):n===Px?td("Server Error: "+r):n===sm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):td("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cf!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kx))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Tx))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:am,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends sv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ql}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=32,cm=768;class _e{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function me(){return new _e("")}function ne(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pr(e){return e.pieces_.length-e.pieceNum_}function Ce(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new _e(e.pieces_,t)}function Tf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lx(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ho(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ov(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new _e(t,0)}function Fe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof _e)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function oe(e){return e.pieceNum_>=e.pieces_.length}function kt(e,t){const n=ne(e),r=ne(t);if(n===null)return t;if(n===r)return kt(Ce(e),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Mx(e,t){const n=ho(e,0),r=ho(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Gr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function If(e,t){if(pr(e)!==pr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Qt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(pr(e)>pr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ox{constructor(t,n){this.errorPrefix_=n,this.parts_=ho(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ra(this.parts_[r]);lv(this)}}function Fx(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ra(t),lv(e)}function bx(e){const t=e.parts_.pop();e.byteLength_-=Ra(t),e.parts_.length>0&&(e.byteLength_-=1)}function lv(e){if(e.byteLength_>cm)throw new Error(e.errorPrefix_+"has a key path longer than "+cm+" bytes ("+e.byteLength_+").");if(e.parts_.length>um)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+um+") or object contains a cycle "+xr(e))}function xr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends sv{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rf}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=1e3,Ux=60*5*1e3,dm=30*1e3,jx=1.3,zx=3e4,Vx="server_kill",fm=3;class Ln extends iv{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ln.nextPersistentConnectionId_++,this.log_=No("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vs,this.maxReconnectDelay_=Ux,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!R_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ql.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(tt(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new To,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Ln.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&wn(t,"w")){const r=Ui(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||LC(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dm)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=AC(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):td("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zx&&(this.reconnectDelay_=vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ln.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(f){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?st("getToken() completed but was canceled"):(st("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new Ax(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,v=>{vt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Vx)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&vt(f),a())}}}interrupt(t){st("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){st("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Bp(this.interruptReasons_)&&(this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Sf(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new _e(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){st("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fm&&(this.reconnectDelay_=dm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){st("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+b_.replace(/\./g,"-")]=1,I_()?t["framework.cordova"]=1:TC()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ql.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&t}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new re(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new re(ji,t),i=new re(ji,n);return this.compare(r,i)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;class av extends Na{static get __EMPTY_NODE(){return el}static set __EMPTY_NODE(t){el=t}compare(t,n){return Gr(t.name,n.name)}isDefinedOn(t){throw qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return re.MIN}maxPost(){return new re(Vr,el)}makePost(t,n){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,el)}toString(){return".key"}}const Ri=new av;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ze{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ze.RED,this.left=i??Tt.EMPTY_NODE,this.right=s??Tt.EMPTY_NODE}copy(t,n,r,i,s){return new Ze(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class Bx{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ze(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Tt{constructor(t,n=Tt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Tt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(t){return new Tt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new tl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new tl(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new tl(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new tl(this.root_,null,this.comparator_,!0,t)}}Tt.EMPTY_NODE=new Bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(e,t){return Gr(e.name,t.name)}function Nf(e,t){return Gr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;function $x(e){rd=e}const uv=function(e){return typeof e=="number"?"number:"+V_(e):"string:"+e},cv=function(e){if(e.isLeafNode()){const t=e.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&wn(t,".sv"),"Priority must be a string or number.")}else M(e===rd||e.isEmpty(),"priority of unexpected type.");M(e===rd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm;class Xe{constructor(t,n=Xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),cv(this.priorityNode_)}static set __childrenNodeConstructor(t){hm=t}static get __childrenNodeConstructor(){return hm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Xe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:ne(t)===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=ne(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||pr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+uv(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=V_(this.value_):t+=this.value_,this.lazyHash_=j_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Xe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Xe.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Xe.VALUE_TYPE_ORDER.indexOf(n),s=Xe.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv,fv;function Hx(e){dv=e}function Qx(e){fv=e}class Gx extends Na{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Gr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Vr,new Xe("[PRIORITY-POST]",fv))}makePost(t,n){const r=dv(t);return new re(n,new Xe("[PRIORITY-POST]",r))}toString(){return".priority"}}const be=new Gx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=Math.log(2);class qx{constructor(t){const n=s=>parseInt(Math.log(s)/Kx,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Gl=function(e,t,n,r){e.sort(t);const i=function(a,u){const d=u-a;let f,c;if(d===0)return null;if(d===1)return f=e[a],c=n?n(f):f,new Ze(c,f.node,Ze.BLACK,null,null);{const v=parseInt(d/2,10)+a,g=i(a,v),E=i(v+1,u);return f=e[v],c=n?n(f):f,new Ze(c,f.node,Ze.BLACK,g,E)}},s=function(a){let u=null,d=null,f=e.length;const c=function(g,E){const N=f-g,m=f;f-=g;const h=i(N+1,m),y=e[N],p=n?n(y):y;v(new Ze(p,y.node,E,null,h))},v=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<a.count;++g){const E=a.nextBitIsOne(),N=Math.pow(2,a.count-(g+1));E?c(N,Ze.BLACK):(c(N,Ze.BLACK),c(N,Ze.RED))}return d},o=new qx(e.length),l=s(o);return new Tt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;const ti={};class Pn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return M(ti&&be,"ChildrenNode.ts has not been loaded"),Au=Au||new Pn({".priority":ti},{".priority":be}),Au}get(t){const n=Ui(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Tt?n:null}hasIndex(t){return wn(this.indexSet_,t.toString())}addIndex(t,n){M(t!==Ri,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(re.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Gl(r,t.getCompare()):l=ti;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const d=Object.assign({},this.indexes_);return d[a]=l,new Pn(d,u)}addToIndexes(t,n){const r=Bl(this.indexes_,(i,s)=>{const o=Ui(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===ti)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(re.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Gl(l,o.getCompare())}else return ti;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new re(t.name,l))),a.insert(t,t.node)}});return new Pn(r,this.indexSet_)}removeFromIndexes(t,n){const r=Bl(this.indexes_,i=>{if(i===ti)return i;{const s=n.get(t.name);return s?i.remove(new re(t.name,s)):i}});return new Pn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws;class X{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&cv(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ws||(ws=new X(new Tt(Nf),null,Pn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ws}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ws:n}}getChild(t){const n=ne(t);return n===null?this:this.getImmediateChild(n).getChild(Ce(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(M(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new re(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ws:this.priorityNode_;return new X(i,o,s)}}updateChild(t,n){const r=ne(t);if(r===null)return n;{M(ne(t)!==".priority"||pr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ce(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(be,(o,l)=>{n[o]=l.val(t),r++,s&&X.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+uv(this.getPriority().val())+":"),this.forEachChild(be,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":j_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new re(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new re(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new re(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Po?-1:0}withIndex(t){if(t===Ri||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Ri||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(be),i=n.getIterator(be);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Ri?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Yx extends X{constructor(){super(new Tt(Nf),X.EMPTY_NODE,Pn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const Po=new Yx;Object.defineProperties(re,{MIN:{value:new re(ji,X.EMPTY_NODE)},MAX:{value:new re(Vr,Po)}});av.__EMPTY_NODE=X.EMPTY_NODE;Xe.__childrenNodeConstructor=X;$x(Po);Qx(Po);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=!0;function et(e,t=null){if(e===null)return X.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Xe(n,et(t))}if(!(e instanceof Array)&&Xx){const n=[];let r=!1;if(at(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=et(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new re(o,a)))}}),n.length===0)return X.EMPTY_NODE;const s=Gl(n,Wx,o=>o.name,Nf);if(r){const o=Gl(n,be.getCompare());return new X(s,et(t),new Pn({".priority":o},{".priority":be}))}else return new X(s,et(t),Pn.Default)}else{let n=X.EMPTY_NODE;return at(e,(r,i)=>{if(wn(e,r)&&r.substring(0,1)!=="."){const s=et(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(et(t))}}Hx(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Na{constructor(t){super(),this.indexPath_=t,M(!oe(t)&&ne(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Gr(t.name,n.name):s}makePost(t,n){const r=et(t),i=X.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(n,i)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,Po);return new re(Vr,t)}toString(){return ho(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends Na{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Gr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,n){const r=et(t);return new re(n,r)}toString(){return".value"}}const ek=new Zx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e){return{type:"value",snapshotNode:e}}function zi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function po(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function mo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function tk(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(po(n,l)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(zi(n,r)):o.trackChildChange(mo(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(be,(i,s)=>{n.hasChild(i)||r.trackChildChange(po(i,s))}),n.isLeafNode()||n.forEachChild(be,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(mo(i,s,o))}else r.trackChildChange(zi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.indexedFilter_=new Pf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=go.getStartPost_(t),this.endPost_=go.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new re(n,r))||(r=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=X.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(X.EMPTY_NODE);const s=this;return n.forEachChild(be,(o,l)=>{s.matches(new re(o,l))||(i=i.updateImmediateChild(o,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new go(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new re(n,r))||(r=X.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=X.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(X.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(c,v)=>f(v,c)}else o=this.index_.getCompare();const l=t;M(l.numChildren()===this.limit_,"");const a=new re(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const v=c==null?1:o(c,a);if(d&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(mo(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(po(n,f));const E=l.updateImmediateChild(n,X.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(s!=null&&s.trackChildChange(zi(c.name,c.node)),E.updateImmediateChild(c.name,c.node)):E}}else return r.isEmpty()?t:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(po(u.name,u.node)),s.trackChildChange(zi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ji}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){const t=new Df;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function rk(e){return e.loadsAllData()?new Pf(e.getIndex()):e.hasLimit()?new nk(e):new go(e)}function pm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===be?n="$priority":e.index_===ek?n="$value":e.index_===Ri?n="$key":(M(e.index_ instanceof Jx,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=tt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=tt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+tt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=tt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+tt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function mm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==be&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends iv{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=No("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Kl.getListenId_(t,r),l={};this.listens_[o]=l;const a=pm(t._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),Ui(this.listens_,o)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",i(c,null)}})}unlisten(t,n){const r=Kl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=pm(t._queryParams),r=t._path.toString(),i=new To;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+MC(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=ao(l.responseText)}catch{vt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&vt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(){return{value:null,children:new Map}}function pv(e,t,n){if(oe(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=ne(t);e.children.has(r)||e.children.set(r,ql());const i=e.children.get(r);t=Ce(t),pv(i,t,n)}}function id(e,t,n){e.value!==null?n(t,e.value):sk(e,(r,i)=>{const s=new _e(t.toString()+"/"+r);id(i,s,n)})}function sk(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=10*1e3,lk=30*1e3,ak=5*60*1e3;class uk{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ok(t);const r=gm+(lk-gm)*Math.random();Us(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;at(t,(i,s)=>{s>0&&wn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Us(this.reportStats_.bind(this),Math.floor(Math.random()*2*ak))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Af(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=Af()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(t));return new Yl(me(),n,this.revert)}}else return M(ne(this.path)===t,"operationForChild called for unrelated child."),new Yl(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,n){this.source=t,this.path=n,this.type=sn.LISTEN_COMPLETE}operationForChild(t){return oe(this.path)?new yo(this.source,me()):new yo(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=sn.OVERWRITE}operationForChild(t){return oe(this.path)?new Br(this.source,me(),this.snap.getImmediateChild(t)):new Br(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=sn.MERGE}operationForChild(t){if(oe(this.path)){const n=this.children.subtree(new _e(t));return n.isEmpty()?null:n.value?new Br(this.source,me(),n.value):new Vi(this.source,me(),n)}else return M(ne(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vi(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const n=ne(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function dk(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(tk(o.childName,o.snapshotNode))}),Es(e,i,"child_removed",t,r,n),Es(e,i,"child_added",t,r,n),Es(e,i,"child_moved",s,r,n),Es(e,i,"child_changed",t,r,n),Es(e,i,"value",t,r,n),i}function Es(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>hk(e,l,a)),o.forEach(l=>{const a=fk(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function fk(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function hk(e,t,n){if(t.childName==null||n.childName==null)throw qi("Should only compare child_ events.");const r=new re(t.childName,t.snapshotNode),i=new re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(e,t){return{eventCache:e,serverCache:t}}function js(e,t,n,r){return Pa(new Wr(t,n,r),e.serverCache)}function mv(e,t,n,r){return Pa(e.eventCache,new Wr(t,n,r))}function sd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $r(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu;const pk=()=>(Lu||(Lu=new Tt(J1)),Lu);class Ee{constructor(t,n=pk()){this.value=t,this.children=n}static fromObject(t){let n=new Ee(null);return at(t,(r,i)=>{n=n.set(new _e(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(oe(t))return null;{const r=ne(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ce(t),n);return s!=null?{path:Fe(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const n=ne(t),r=this.children.get(n);return r!==null?r.subtree(Ce(t)):new Ee(null)}}set(t,n){if(oe(t))return new Ee(n,this.children);{const r=ne(t),s=(this.children.get(r)||new Ee(null)).set(Ce(t),n),o=this.children.insert(r,s);return new Ee(this.value,o)}}remove(t){if(oe(t))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=ne(t),r=this.children.get(n);if(r){const i=r.remove(Ce(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ee(null):new Ee(this.value,s)}else return this}}get(t){if(oe(t))return this.value;{const n=ne(t),r=this.children.get(n);return r?r.get(Ce(t)):null}}setTree(t,n){if(oe(t))return n;{const r=ne(t),s=(this.children.get(r)||new Ee(null)).setTree(Ce(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ee(this.value,o)}}fold(t){return this.fold_(me(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,me(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(oe(t))return null;{const s=ne(t),o=this.children.get(s);return o?o.findOnPath_(Ce(t),Fe(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,me(),n)}foreachOnPath_(t,n,r){if(oe(t))return this;{this.value&&r(n,this.value);const i=ne(t),s=this.children.get(i);return s?s.foreachOnPath_(Ce(t),Fe(n,i),r):new Ee(null)}}foreach(t){this.foreach_(me(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.writeTree_=t}static empty(){return new an(new Ee(null))}}function zs(e,t,n){if(oe(t))return new an(new Ee(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=kt(i,t);return s=s.updateChild(o,n),new an(e.writeTree_.set(i,s))}else{const i=new Ee(n),s=e.writeTree_.setTree(t,i);return new an(s)}}}function od(e,t,n){let r=e;return at(n,(i,s)=>{r=zs(r,Fe(t,i),s)}),r}function ym(e,t){if(oe(t))return an.empty();{const n=e.writeTree_.setTree(t,new Ee(null));return new an(n)}}function ld(e,t){return Kr(e,t)!=null}function Kr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(kt(n.path,t)):null}function _m(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(be,(r,i)=>{t.push(new re(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new re(r,i.value))}),t}function cr(e,t){if(oe(t))return e;{const n=Kr(e,t);return n!=null?new an(new Ee(n)):new an(e.writeTree_.subtree(t))}}function ad(e){return e.writeTree_.isEmpty()}function Bi(e,t){return gv(me(),e.writeTree_,t)}function gv(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=gv(Fe(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Fe(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(e,t){return wv(t,e)}function mk(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zs(e.visibleWrites,t,n)),e.lastWriteId=r}function gk(e,t,n,r){M(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=od(e.visibleWrites,t,n),e.lastWriteId=r}function yk(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function _k(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&vk(l,r.path)?i=!1:Qt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return wk(e),!0;if(r.snap)e.visibleWrites=ym(e.visibleWrites,r.path);else{const l=r.children;at(l,a=>{e.visibleWrites=ym(e.visibleWrites,Fe(r.path,a))})}return!0}else return!1}function vk(e,t){if(e.snap)return Qt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Qt(Fe(e.path,n),t))return!0;return!1}function wk(e){e.visibleWrites=yv(e.allWrites,Ek,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Ek(e){return e.visible}function yv(e,t,n){let r=an.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Qt(n,o)?(l=kt(n,o),r=zs(r,l,s.snap)):Qt(o,n)&&(l=kt(o,n),r=zs(r,me(),s.snap.getChild(l)));else if(s.children){if(Qt(n,o))l=kt(n,o),r=od(r,l,s.children);else if(Qt(o,n))if(l=kt(o,n),oe(l))r=od(r,me(),s.children);else{const a=Ui(s.children,ne(l));if(a){const u=a.getChild(Ce(l));r=zs(r,me(),u)}}}else throw qi("WriteRecord should have .snap or .children")}}return r}function _v(e,t,n,r,i){if(!r&&!i){const s=Kr(e.visibleWrites,t);if(s!=null)return s;{const o=cr(e.visibleWrites,t);if(ad(o))return n;if(n==null&&!ld(o,me()))return null;{const l=n||X.EMPTY_NODE;return Bi(o,l)}}}else{const s=cr(e.visibleWrites,t);if(!i&&ad(s))return n;if(!i&&n==null&&!ld(s,me()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Qt(u.path,t)||Qt(t,u.path))},l=yv(e.allWrites,o,t),a=n||X.EMPTY_NODE;return Bi(l,a)}}}function Sk(e,t,n){let r=X.EMPTY_NODE;const i=Kr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(be,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=cr(e.visibleWrites,t);return n.forEachChild(be,(o,l)=>{const a=Bi(cr(s,new _e(o)),l);r=r.updateImmediateChild(o,a)}),_m(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=cr(e.visibleWrites,t);return _m(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Ck(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fe(t,n);if(ld(e.visibleWrites,s))return null;{const o=cr(e.visibleWrites,s);return ad(o)?i.getChild(n):Bi(o,i.getChild(n))}}function xk(e,t,n,r){const i=Fe(t,n),s=Kr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=cr(e.visibleWrites,i);return Bi(o,r.getNode().getImmediateChild(n))}else return null}function kk(e,t){return Kr(e.visibleWrites,t)}function Tk(e,t,n,r,i,s,o){let l;const a=cr(e.visibleWrites,t),u=Kr(a,me());if(u!=null)l=u;else if(n!=null)l=Bi(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=o.getCompare(),c=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let v=c.getNext();for(;v&&d.length<i;)f(v,r)!==0&&d.push(v),v=c.getNext();return d}else return[]}function Ik(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function Xl(e,t,n,r){return _v(e.writeTree,e.treePath,t,n,r)}function Ff(e,t){return Sk(e.writeTree,e.treePath,t)}function vm(e,t,n,r){return Ck(e.writeTree,e.treePath,t,n,r)}function Jl(e,t){return kk(e.writeTree,Fe(e.treePath,t))}function Rk(e,t,n,r,i,s){return Tk(e.writeTree,e.treePath,t,n,r,i,s)}function bf(e,t,n){return xk(e.writeTree,e.treePath,t,n)}function vv(e,t){return wv(Fe(e.treePath,t),e.writeTree)}function wv(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,mo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,po(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,zi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,mo(r,t.snapshotNode,i.oldSnap));else throw qi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Ev=new Pk;class Uf{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bf(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$r(this.viewCache_),s=Rk(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e){return{filter:e}}function Ak(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Lk(e,t,n,r,i){const s=new Nk;let o,l;if(n.type===sn.OVERWRITE){const u=n;u.source.fromUser?o=ud(e,t,u.path,u.snap,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!oe(u.path),o=Zl(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===sn.MERGE){const u=n;u.source.fromUser?o=Ok(e,t,u.path,u.children,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=cd(e,t,u.path,u.children,r,i,l,s))}else if(n.type===sn.ACK_USER_WRITE){const u=n;u.revert?o=Uk(e,t,u.path,r,i,s):o=Fk(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===sn.LISTEN_COMPLETE)o=bk(e,t,n.path,r,s);else throw qi("Unknown operation type: "+n.type);const a=s.getChanges();return Mk(t,o,a),{viewCache:o,changes:a}}function Mk(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(hv(sd(t)))}}function Sv(e,t,n,r,i,s){const o=t.eventCache;if(Jl(r,n)!=null)return t;{let l,a;if(oe(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=$r(t),d=u instanceof X?u:X.EMPTY_NODE,f=Ff(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const u=Xl(r,$r(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=ne(n);if(u===".priority"){M(pr(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=t.serverCache.getNode();const f=vm(r,n,d,a);f!=null?l=e.filter.updatePriority(d,f):l=o.getNode()}else{const d=Ce(n);let f;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const c=vm(r,n,o.getNode(),a);c!=null?f=o.getNode().getImmediateChild(u).updateChild(d,c):f=o.getNode().getImmediateChild(u)}else f=bf(r,u,t.serverCache);f!=null?l=e.filter.updateChild(o.getNode(),u,f,d,i,s):l=o.getNode()}}return js(t,l,o.isFullyInitialized()||oe(n),e.filter.filtersNodes())}}function Zl(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const d=o?e.filter:e.filter.getIndexedFilter();if(oe(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const v=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),v,null)}else{const v=ne(n);if(!a.isCompleteForPath(n)&&pr(n)>1)return t;const g=Ce(n),N=a.getNode().getImmediateChild(v).updateChild(g,r);v===".priority"?u=d.updatePriority(a.getNode(),N):u=d.updateChild(a.getNode(),v,N,g,Ev,null)}const f=mv(t,u,a.isFullyInitialized()||oe(n),d.filtersNodes()),c=new Uf(i,f,s);return Sv(e,f,n,i,c,l)}function ud(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const d=new Uf(i,t,s);if(oe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=js(t,u,!0,e.filter.filtersNodes());else{const f=ne(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=js(t,u,l.isFullyInitialized(),l.isFiltered());else{const c=Ce(n),v=l.getNode().getImmediateChild(f);let g;if(oe(c))g=r;else{const E=d.getCompleteChild(f);E!=null?Tf(c)===".priority"&&E.getChild(ov(c)).isEmpty()?g=E:g=E.updateChild(c,r):g=X.EMPTY_NODE}if(v.equals(g))a=t;else{const E=e.filter.updateChild(l.getNode(),f,g,c,d,o);a=js(t,E,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function wm(e,t){return e.eventCache.isCompleteForChild(t)}function Ok(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const d=Fe(n,a);wm(t,ne(d))&&(l=ud(e,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=Fe(n,a);wm(t,ne(d))||(l=ud(e,l,d,u,i,s,o))}),l}function Em(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function cd(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;oe(n)?u=r:u=new Ee(null).setTree(n,r);const d=t.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(d.hasChild(f)){const v=t.serverCache.getNode().getImmediateChild(f),g=Em(e,v,c);a=Zl(e,a,new _e(f),g,i,s,o,l)}}),u.children.inorderTraversal((f,c)=>{const v=!t.serverCache.isCompleteForChild(f)&&c.value===null;if(!d.hasChild(f)&&!v){const g=t.serverCache.getNode().getImmediateChild(f),E=Em(e,g,c);a=Zl(e,a,new _e(f),E,i,s,o,l)}}),a}function Fk(e,t,n,r,i,s,o){if(Jl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(oe(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Zl(e,t,n,a.getNode().getChild(n),i,s,l,o);if(oe(n)){let u=new Ee(null);return a.getNode().forEachChild(Ri,(d,f)=>{u=u.set(new _e(d),f)}),cd(e,t,n,u,i,s,l,o)}else return t}else{let u=new Ee(null);return r.foreach((d,f)=>{const c=Fe(n,d);a.isCompleteForPath(c)&&(u=u.set(d,a.getNode().getChild(c)))}),cd(e,t,n,u,i,s,l,o)}}function bk(e,t,n,r,i){const s=t.serverCache,o=mv(t,s.getNode(),s.isFullyInitialized()||oe(n),s.isFiltered());return Sv(e,o,n,r,Ev,i)}function Uk(e,t,n,r,i,s){let o;if(Jl(r,n)!=null)return t;{const l=new Uf(r,t,i),a=t.eventCache.getNode();let u;if(oe(n)||ne(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Xl(r,$r(t));else{const f=t.serverCache.getNode();M(f instanceof X,"serverChildren would be complete if leaf node"),d=Ff(r,f)}d=d,u=e.filter.updateFullNode(a,d,s)}else{const d=ne(n);let f=bf(r,d,t.serverCache);f==null&&t.serverCache.isCompleteForChild(d)&&(f=a.getImmediateChild(d)),f!=null?u=e.filter.updateChild(a,d,f,Ce(n),l,s):t.eventCache.getNode().hasChild(d)?u=e.filter.updateChild(a,d,X.EMPTY_NODE,Ce(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Xl(r,$r(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Jl(r,me())!=null,js(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Pf(r.getIndex()),s=rk(r);this.processor_=Dk(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(X.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(X.EMPTY_NODE,l.getNode(),null),d=new Wr(a,o.isFullyInitialized(),i.filtersNodes()),f=new Wr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Pa(f,d),this.eventGenerator_=new ck(this.query_)}get query(){return this.query_}}function zk(e){return e.viewCache_.serverCache.getNode()}function Vk(e,t){const n=$r(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!oe(t)&&!n.getImmediateChild(ne(t)).isEmpty())?n.getChild(t):null}function Sm(e){return e.eventRegistrations_.length===0}function Bk(e,t){e.eventRegistrations_.push(t)}function Cm(e,t,n){const r=[];if(n){M(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function xm(e,t,n,r){t.type===sn.MERGE&&t.source.queryId!==null&&(M($r(e.viewCache_),"We should always have a full cache before handling merges"),M(sd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Lk(e.processor_,i,t,n,r);return Ak(e.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Cv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Wk(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(s,o)=>{r.push(zi(s,o))}),n.isFullyInitialized()&&r.push(hv(n.getNode())),Cv(e,r,n.getNode(),t)}function Cv(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return dk(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea;class $k{constructor(){this.views=new Map}}function Hk(e){M(!ea,"__referenceConstructor has already been defined"),ea=e}function Qk(){return M(ea,"Reference.ts has not been loaded"),ea}function Gk(e){return e.views.size===0}function jf(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),xm(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(xm(o,t,n,r));return s}}function Kk(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Xl(n,i?r:null),a=!1;l?a=!0:r instanceof X?(l=Ff(n,r),a=!1):(l=X.EMPTY_NODE,a=!1);const u=Pa(new Wr(l,a,!1),new Wr(r,i,!1));return new jk(t,u)}return o}function qk(e,t,n,r,i,s){const o=Kk(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Bk(o,n),Wk(o,n)}function Yk(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=mr(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(Cm(u,n,r)),Sm(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(Cm(a,n,r)),Sm(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!mr(e)&&s.push(new(Qk())(t._repo,t._path)),{removed:s,events:o}}function xv(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ni(e,t){let n=null;for(const r of e.views.values())n=n||Vk(r,t);return n}function kv(e,t){if(t._queryParams.loadsAllData())return Da(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Tv(e,t){return kv(e,t)!=null}function mr(e){return Da(e)!=null}function Da(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;function Xk(e){M(!ta,"__referenceConstructor has already been defined"),ta=e}function Jk(){return M(ta,"Reference.ts has not been loaded"),ta}let Zk=1;class km{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=Ik(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iv(e,t,n,r,i){return mk(e.pendingWriteTree_,t,n,r,i),i?Ji(e,new Br(Af(),t,n)):[]}function eT(e,t,n,r){gk(e.pendingWriteTree_,t,n,r);const i=Ee.fromObject(n);return Ji(e,new Vi(Af(),t,i))}function Jn(e,t,n=!1){const r=yk(e.pendingWriteTree_,t);if(_k(e.pendingWriteTree_,t)){let s=new Ee(null);return r.snap!=null?s=s.set(me(),!0):at(r.children,o=>{s=s.set(new _e(o),!0)}),Ji(e,new Yl(r.path,s,n))}else return[]}function Aa(e,t,n){return Ji(e,new Br(Lf(),t,n))}function tT(e,t,n){const r=Ee.fromObject(n);return Ji(e,new Vi(Lf(),t,r))}function nT(e,t){return Ji(e,new yo(Lf(),t))}function rT(e,t,n){const r=Vf(e,n);if(r){const i=Bf(r),s=i.path,o=i.queryId,l=kt(s,t),a=new yo(Mf(o),l);return Wf(e,s,a)}else return[]}function dd(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||Tv(o,t))){const a=Yk(o,t,n,r);Gk(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(s,(c,v)=>mr(v));if(d&&!f){const c=e.syncPointTree_.subtree(s);if(!c.isEmpty()){const v=oT(c);for(let g=0;g<v.length;++g){const E=v[g],N=E.query,m=Pv(e,E);e.listenProvider_.startListening(Vs(N),na(e,N),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!r&&(d?e.listenProvider_.stopListening(Vs(t),null):u.forEach(c=>{const v=e.queryToTagMap.get(La(c));e.listenProvider_.stopListening(Vs(c),v)}))}lT(e,u)}return l}function iT(e,t,n,r){const i=Vf(e,r);if(i!=null){const s=Bf(i),o=s.path,l=s.queryId,a=kt(o,t),u=new Br(Mf(l),a,n);return Wf(e,o,u)}else return[]}function sT(e,t,n,r){const i=Vf(e,r);if(i){const s=Bf(i),o=s.path,l=s.queryId,a=kt(o,t),u=Ee.fromObject(n),d=new Vi(Mf(l),a,u);return Wf(e,o,d)}else return[]}function Tm(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(c,v)=>{const g=kt(c,i);s=s||Ni(v,g),o=o||mr(v)});let l=e.syncPointTree_.get(i);l?(o=o||mr(l),s=s||Ni(l,me())):(l=new $k,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=X.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((v,g)=>{const E=Ni(g,me());E&&(s=s.updateImmediateChild(v,E))}));const u=Tv(l,t);if(!u&&!t._queryParams.loadsAllData()){const c=La(t);M(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");const v=aT();e.queryToTagMap.set(c,v),e.tagToQueryMap.set(v,c)}const d=Of(e.pendingWriteTree_,i);let f=qk(l,t,n,d,s,a);if(!u&&!o&&!r){const c=kv(l,t);f=f.concat(uT(e,t,c))}return f}function zf(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=kt(o,t),u=Ni(l,a);if(u)return u});return _v(i,t,s,n,!0)}function Ji(e,t){return Rv(t,e.syncPointTree_,null,Of(e.pendingWriteTree_,me()))}function Rv(e,t,n,r){if(oe(e.path))return Nv(e,t,n,r);{const i=t.get(me());n==null&&i!=null&&(n=Ni(i,me()));let s=[];const o=ne(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=vv(r,o);s=s.concat(Rv(l,a,u,d))}return i&&(s=s.concat(jf(i,e,r,n))),s}}function Nv(e,t,n,r){const i=t.get(me());n==null&&i!=null&&(n=Ni(i,me()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=vv(r,o),d=e.operationForChild(o);d&&(s=s.concat(Nv(d,l,a,u)))}),i&&(s=s.concat(jf(i,e,r,n))),s}function Pv(e,t){const n=t.query,r=na(e,n);return{hashFn:()=>(zk(t)||X.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?rT(e,n._path,r):nT(e,n._path);{const s=tx(i,n);return dd(e,n,null,s)}}}}function na(e,t){const n=La(t);return e.queryToTagMap.get(n)}function La(e){return e._path.toString()+"$"+e._queryIdentifier}function Vf(e,t){return e.tagToQueryMap.get(t)}function Bf(e){const t=e.indexOf("$");return M(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new _e(e.substr(0,t))}}function Wf(e,t,n){const r=e.syncPointTree_.get(t);M(r,"Missing sync point for query tag that we're tracking");const i=Of(e.pendingWriteTree_,t);return jf(r,n,i,null)}function oT(e){return e.fold((t,n,r)=>{if(n&&mr(n))return[Da(n)];{let i=[];return n&&(i=xv(n)),at(r,(s,o)=>{i=i.concat(o)}),i}})}function Vs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Jk())(e._repo,e._path):e}function lT(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=La(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function aT(){return Zk++}function uT(e,t,n){const r=t._path,i=na(e,t),s=Pv(e,n),o=e.listenProvider_.startListening(Vs(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)M(!mr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,f)=>{if(!oe(u)&&d&&mr(d))return[Da(d).query];{let c=[];return d&&(c=c.concat(xv(d).map(v=>v.query))),at(f,(v,g)=>{c=c.concat(g)}),c}});for(let u=0;u<a.length;++u){const d=a[u];e.listenProvider_.stopListening(Vs(d),na(e,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new $f(n)}node(){return this.node_}}class Hf{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Fe(this.path_,t);return new Hf(this.syncTree_,n)}node(){return zf(this.syncTree_,this.path_)}}const cT=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Im=function(e,t,n){if(!e||typeof e!="object")return e;if(M(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return dT(e[".sv"],t,n);if(typeof e[".sv"]=="object")return fT(e[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},dT=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+e)}},fT=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Dv=function(e,t,n,r){return Qf(t,new Hf(n,e),r)},Av=function(e,t,n){return Qf(e,new $f(t),n)};function Qf(e,t,n){const r=e.getPriority().val(),i=Im(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Im(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new Xe(l,et(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Xe(i))),o.forEachChild(be,(l,a)=>{const u=Qf(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Kf(e,t){let n=t instanceof _e?t:new _e(t),r=e,i=ne(n);for(;i!==null;){const s=Ui(r.node.children,i)||{children:{},childCount:0};r=new Gf(i,r,s),n=Ce(n),i=ne(n)}return r}function Zi(e){return e.node.value}function Lv(e,t){e.node.value=t,fd(e)}function Mv(e){return e.node.childCount>0}function hT(e){return Zi(e)===void 0&&!Mv(e)}function Ma(e,t){at(e.node.children,(n,r)=>{t(new Gf(n,e,r))})}function Ov(e,t,n,r){n&&!r&&t(e),Ma(e,i=>{Ov(i,t,!0,r)}),n&&r&&t(e)}function pT(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Do(e){return new _e(e.parent===null?e.name:Do(e.parent)+"/"+e.name)}function fd(e){e.parent!==null&&mT(e.parent,e.name,e)}function mT(e,t,n){const r=hT(n),i=wn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fd(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,fd(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=/[\[\].#$\/\u0000-\u001F\u007F]/,yT=/[\[\].#$\u0000-\u001F\u007F]/,Mu=10*1024*1024,qf=function(e){return typeof e=="string"&&e.length!==0&&!gT.test(e)},Fv=function(e){return typeof e=="string"&&e.length!==0&&!yT.test(e)},_T=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Fv(e)},vT=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ef(e)||e&&typeof e=="object"&&wn(e,".sv")},bv=function(e,t,n,r){r&&t===void 0||Oa(Ia(e,"value"),t,n)},Oa=function(e,t,n){const r=n instanceof _e?new Ox(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+xr(r));if(typeof t=="function")throw new Error(e+"contains a function "+xr(r)+" with contents = "+t.toString());if(Ef(t))throw new Error(e+"contains "+t.toString()+" "+xr(r));if(typeof t=="string"&&t.length>Mu/3&&Ra(t)>Mu)throw new Error(e+"contains a string greater than "+Mu+" utf8 bytes "+xr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(at(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qf(o)))throw new Error(e+" contains an invalid key ("+o+") "+xr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fx(r,o),Oa(e,l,r),bx(r)}),i&&s)throw new Error(e+' contains ".value" child '+xr(r)+" in addition to actual children.")}},wT=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=ho(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!qf(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Mx);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Qt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},ET=function(e,t,n,r){if(r&&t===void 0)return;const i=Ia(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];at(t,(o,l)=>{const a=new _e(o);if(Oa(i,l,Fe(n,a)),Tf(a)===".priority"&&!vT(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),wT(i,s)},Uv=function(e,t,n,r){if(!(r&&n===void 0)&&!Fv(n))throw new Error(Ia(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ST=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Uv(e,t,n,r)},jv=function(e,t){if(ne(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},CT=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_T(n))throw new Error(Ia(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fa(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!If(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function zv(e,t,n){Fa(e,n),Vv(e,r=>If(r,t))}function cn(e,t,n){Fa(e,n),Vv(e,r=>Qt(r,t)||Qt(t,r))}function Vv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(kT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function kT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Lr&&st("event: "+n.toString()),Xi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="repo_interrupt",IT=25;class RT{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ql(),this.transactionQueueTree_=new Gf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NT(e,t,n){if(e.stats_=xf(e.repoInfo_),e.forceRestClient_||sx())e.server_=new Kl(e.repoInfo_,(r,i,s,o)=>{Rm(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Nm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ln(e.repoInfo_,t,(r,i,s,o)=>{Rm(e,r,i,s,o)},r=>{Nm(e,r)},r=>{PT(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=cx(e.repoInfo_,()=>new uk(e.stats_,e.server_)),e.infoData_=new ik,e.infoSyncTree_=new km({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=Aa(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Yf(e,"connected",!1),e.serverSyncTree_=new km({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);cn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Bv(e){const n=e.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ba(e){return cT({timestamp:Bv(e)})}function Rm(e,t,n,r,i){e.dataUpdateCount++;const s=new _e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Bl(n,u=>et(u));o=sT(e.serverSyncTree_,s,a,i)}else{const a=et(n);o=iT(e.serverSyncTree_,s,a,i)}else if(r){const a=Bl(n,u=>et(u));o=tT(e.serverSyncTree_,s,a)}else{const a=et(n);o=Aa(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Wi(e,s)),cn(e.eventQueue_,l,o)}function Nm(e,t){Yf(e,"connected",t),t===!1&&LT(e)}function PT(e,t){at(t,(n,r)=>{Yf(e,n,r)})}function Yf(e,t,n){const r=new _e("/.info/"+t),i=et(n);e.infoData_.updateSnapshot(r,i);const s=Aa(e.infoSyncTree_,r,i);cn(e.eventQueue_,r,s)}function Xf(e){return e.nextWriteId_++}function DT(e,t,n,r,i){Ua(e,"set",{path:t.toString(),value:n,priority:r});const s=ba(e),o=et(n,r),l=zf(e.serverSyncTree_,t),a=Av(o,l,s),u=Xf(e),d=Iv(e.serverSyncTree_,t,a,u,!0);Fa(e.eventQueue_,d),e.server_.put(t.toString(),o.val(!0),(c,v)=>{const g=c==="ok";g||vt("set at "+t+" failed: "+c);const E=Jn(e.serverSyncTree_,u,!g);cn(e.eventQueue_,t,E),hd(e,i,c,v)});const f=Zf(e,t);Wi(e,f),cn(e.eventQueue_,f,[])}function AT(e,t,n,r){Ua(e,"update",{path:t.toString(),value:n});let i=!0;const s=ba(e),o={};if(at(n,(l,a)=>{i=!1,o[l]=Dv(Fe(t,l),et(a),e.serverSyncTree_,s)}),i)st("update() called with empty data.  Don't do anything."),hd(e,r,"ok",void 0);else{const l=Xf(e),a=eT(e.serverSyncTree_,t,o,l);Fa(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,d)=>{const f=u==="ok";f||vt("update at "+t+" failed: "+u);const c=Jn(e.serverSyncTree_,l,!f),v=c.length>0?Wi(e,t):t;cn(e.eventQueue_,v,c),hd(e,r,u,d)}),at(n,u=>{const d=Zf(e,Fe(t,u));Wi(e,d)}),cn(e.eventQueue_,t,[])}}function LT(e){Ua(e,"onDisconnectEvents");const t=ba(e),n=ql();id(e.onDisconnect_,me(),(i,s)=>{const o=Dv(i,s,e.serverSyncTree_,t);pv(n,i,o)});let r=[];id(n,me(),(i,s)=>{r=r.concat(Aa(e.serverSyncTree_,i,s));const o=Zf(e,i);Wi(e,o)}),e.onDisconnect_=ql(),cn(e.eventQueue_,me(),r)}function MT(e,t,n){let r;ne(t._path)===".info"?r=Tm(e.infoSyncTree_,t,n):r=Tm(e.serverSyncTree_,t,n),zv(e.eventQueue_,t._path,r)}function Pm(e,t,n){let r;ne(t._path)===".info"?r=dd(e.infoSyncTree_,t,n):r=dd(e.serverSyncTree_,t,n),zv(e.eventQueue_,t._path,r)}function OT(e){e.persistentConnection_&&e.persistentConnection_.interrupt(TT)}function Ua(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),st(n,...t)}function hd(e,t,n,r){t&&Xi(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function Wv(e,t,n){return zf(e.serverSyncTree_,t,n)||X.EMPTY_NODE}function Jf(e,t=e.transactionQueueTree_){if(t||ja(e,t),Zi(t)){const n=Hv(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&FT(e,Do(t),n)}else Mv(t)&&Ma(t,n=>{Jf(e,n)})}function FT(e,t,n){const r=n.map(u=>u.currentWriteId),i=Wv(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];M(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=kt(t,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Ua(e,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,d=d.concat(Jn(e.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();ja(e,Kf(e.transactionQueueTree_,t)),Jf(e,e.transactionQueueTree_),cn(e.eventQueue_,t,d);for(let c=0;c<f.length;c++)Xi(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{vt("transaction at "+a.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Wi(e,t)}},o)}function Wi(e,t){const n=$v(e,t),r=Do(n),i=Hv(e,n);return bT(e,i,r),r}function bT(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=kt(n,a.path);let d=!1,f;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,f=a.abortReason,i=i.concat(Jn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=IT)d=!0,f="maxretry",i=i.concat(Jn(e.serverSyncTree_,a.currentWriteId,!0));else{const c=Wv(e,a.path,o);a.currentInputSnapshot=c;const v=t[l].update(c.val());if(v!==void 0){Oa("transaction failed: Data returned ",v,a.path);let g=et(v);typeof v=="object"&&v!=null&&wn(v,".priority")||(g=g.updatePriority(c.getPriority()));const N=a.currentWriteId,m=ba(e),h=Av(g,c,m);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=h,a.currentWriteId=Xf(e),o.splice(o.indexOf(N),1),i=i.concat(Iv(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Jn(e.serverSyncTree_,N,!0))}else d=!0,f="nodata",i=i.concat(Jn(e.serverSyncTree_,a.currentWriteId,!0))}cn(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,function(c){setTimeout(c,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(f==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(f),!1,null))))}ja(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Xi(r[l]);Jf(e,e.transactionQueueTree_)}function $v(e,t){let n,r=e.transactionQueueTree_;for(n=ne(t);n!==null&&Zi(r)===void 0;)r=Kf(r,n),t=Ce(t),n=ne(t);return r}function Hv(e,t){const n=[];return Qv(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Qv(e,t,n){const r=Zi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ma(t,i=>{Qv(e,i,n)})}function ja(e,t){const n=Zi(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Lv(t,n.length>0?n:void 0)}Ma(t,r=>{ja(e,r)})}function Zf(e,t){const n=Do($v(e,t)),r=Kf(e.transactionQueueTree_,t);return pT(r,i=>{Ou(e,i)}),Ou(e,r),Ov(r,i=>{Ou(e,i)}),n}function Ou(e,t){const n=Zi(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Lv(t,void 0):n.length=s+1,cn(e.eventQueue_,Do(t),i);for(let o=0;o<r.length;o++)Xi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function jT(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${e}'`)}return t}const Dm=function(e,t){const n=zT(e),r=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Y1();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new X_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new _e(n.pathString)}},zT=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let d=e.indexOf("/");d===-1&&(d=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(d,f)),d<f&&(i=UT(e.substring(d,f)));const c=jT(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const v=t.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in c&&(s=c.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VT=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Am.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Am.charAt(t[i]);return M(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class Kv{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return oe(this._path)?null:Tf(this._path)}get ref(){return new zn(this._repo,this._path)}get _queryIdentifier(){const t=mm(this._queryParams),n=Sf(t);return n==="{}"?"default":n}get _queryObject(){return mm(this._queryParams)}isEqual(t){if(t=Yi(t),!(t instanceof eh))return!1;const n=this._repo===t._repo,r=If(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lx(this._path)}}class zn extends eh{constructor(t,n){super(t,n,new Df,!1)}get parent(){const t=ov(this._path);return t===null?null:new zn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class _o{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new _e(t),r=Pt(this.ref,t);return new _o(this._node.getChild(n),r,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new _o(i,Pt(this.ref,r),be)))}hasChild(t){const n=new _e(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function WT(e,t){return e=Yi(e),e._checkNotDeleted("ref"),t!==void 0?Pt(e._root,t):e._root}function Pt(e,t){return e=Yi(e),ne(e._path)===null?ST("child","path",t,!1):Uv("child","path",t,!1),new zn(e._repo,Fe(e._path,t))}function $T(e,t){e=Yi(e),jv("push",e._path),bv("push",t,e._path,!0);const n=Bv(e._repo),r=VT(n),i=Pt(e,r),s=Pt(e,r);let o;return t!=null?o=za(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function za(e,t){e=Yi(e),jv("set",e._path),bv("set",t,e._path,!1);const n=new To;return DT(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function HT(e,t){ET("update",t,e._path,!1);const n=new To;return AT(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class th{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Gv("value",this,new _o(t.snapshotNode,new zn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kv(this,t,n):null}matches(t){return t instanceof th?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class nh{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kv(this,t,n):null}createEvent(t,n){M(t.childName!=null,"Child events should have a childName.");const r=Pt(new zn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Gv(t.type,this,new _o(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof nh?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function QT(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,f)=>{Pm(e._repo,e,l),a(d,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new BT(n,s||void 0),l=t==="value"?new th(o):new nh(t,o);return MT(e._repo,e,l),()=>Pm(e._repo,e,l)}function Va(e,t,n,r){return QT(e,"value",t,n,r)}Hk(zn);Xk(zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="FIREBASE_DATABASE_EMULATOR_HOST",pd={};let KT=!1;function qT(e,t,n,r){e.repoInfo_=new X_(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function YT(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),st("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Dm(s,i),l=o.repoInfo,a,u;typeof process<"u"&&Xp&&(u=Xp[GT]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Dm(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const d=i&&a?new Ii(Ii.OWNER):new lx(e.name,e.options,t);CT("Invalid Firebase Database URL",o),oe(o.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const f=JT(l,e,d,new ox(e.name,n));return new ZT(f,e)}function XT(e,t){const n=pd[t];(!n||n[e.key]!==e)&&Un(`Database ${t}(${e.repoInfo_}) has already been deleted.`),OT(e),delete n[e.key]}function JT(e,t,n,r){let i=pd[t.name];i||(i={},pd[t.name]=i);let s=i[e.toURLString()];return s&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new RT(e,KT,n,r),i[e.toURLString()]=s,s}class ZT{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Un("Cannot call "+t+" on a deleted database.")}}function eI(e=O1(),t){const n=D1(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=CC("database");r&&tI(n,...r)}return n}function tI(e,t,n,r={}){e=Yi(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ii(Ii.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:xC(r.mockUserToken,e.app.options.projectId);s=new Ii(o)}qT(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){H1(M1),$l(new uo("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return YT(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ki(Jp,Zp,e),ki(Jp,Zp,"esm2017")}Ln.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ln.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};nI();var rI="firebase",iI="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(rI,iI,"app");const sI={apiKey:"AIzaSyAPnhdmY4roxisTau_dZ8J4usqdX-mvVxI",authDomain:"ajs-playgrou.firebaseapp.com",databaseURL:"https://ajs-playgrou-default-rtdb.firebaseio.com",projectId:"ajs-playgrou",storageBucket:"ajs-playgrou.appspot.com",messagingSenderId:"450339890811",appId:"1:450339890811:web:eb632e9a40f7b3011f64de",measurementId:"G-FKHJ9T1N5M"},oI=M_(sI),lI=WT(eI(oI)),qv=Pt(lI,"/family-feud-v1"),ra=Pt(qv,"/questions"),rh=Pt(qv,"/players");function ih(e){const[t,n]=P.useState(),[r,i]=P.useState(!1);return P.useEffect(()=>{if(!e)return;i(!0);const s=Va(Pt(ra,e),l=>{n(l.val()),i(!1)});function o(){s()}return o},[e]),{question:t,loading:r}}function Yv(e,t){return e.answers.reduce((n,r,i)=>t.answerStatuses[i]?n+r.points:n,0)}function sh(e,t){return Pt(rh,`${e}/questions/${t}`)}function aI(e){const{question:t,playerId:n,questionId:r}=e,i={answerStatuses:t.answers.map(()=>!1),errorCount:0};za(sh(n,r),i)}function uI(e){return Pt(rh,`${e}/currentQuestion`)}function cI(e){const{playerId:t,questionId:n}=e;za(uI(t),n)}function dI(e){const{playerId:t,questionId:n,answerIndex:r,currentPlayerQuestion:i}=e;za(sh(t,n),{...i,answerStatuses:i.answerStatuses.map((s,o)=>o===r?!s:s)})}function fI(e){const{playerId:t,questionId:n}=e,[r,i]=P.useState(null);return P.useEffect(()=>!t||!n?void 0:Va(sh(t,n),o=>{i(o.val())}),[t,n]),{playerQuestion:r}}function hI(e){return Pt(rh,`${e}`)}function pI(e){const{playerId:t}=e,[n,r]=P.useState(null);return P.useEffect(()=>t?Va(hI(t),s=>{r(s.val())}):void 0,[t]),{player:n}}const Lm=({className:e="",children:t,empty:n})=>b.jsx("li",{className:["border border-blue-400 rounded","p-2 min-w-[300px]",n&&"h-12",e].join(" "),children:t});function mI(e){return`/board?p=${e}`}const gI=()=>{const[e]=hC(),t=e.get("p"),{player:n}=pI({playerId:t});console.log({player:n});const r=n==null?void 0:n.currentQuestion,{question:i}=ih(r),s=n&&n.questions[r||""];if(!i||!s)return b.jsx("div",{children:"not found"});const o=Yv(i,s),l=Array.from({length:8-i.answers.length});return b.jsx("div",{className:"flex justify-center items-center h-screen",children:b.jsxs("div",{className:"",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx("div",{className:"p-4 w-fit border border-blue-400 rounded text-xl",children:o})}),b.jsxs("ul",{className:["flex flex-col","gap-4","md:grid md:grid-rows-4 md:grid-cols-1 md:grid-flow-col"].join(" "),children:[i.answers.map((a,u)=>{const d=s==null?void 0:s.answerStatuses,f=d&&d[u];return b.jsx(Lm,{children:f?b.jsxs("div",{className:"flex justify-between",children:[b.jsx("div",{children:a.text}),b.jsx("div",{children:a.points})]}):b.jsx("div",{className:"text-center",children:u+1})},u)}),l.map((a,u)=>b.jsx(Lm,{empty:!0},u))]})]})})};function Xv(e,t){return`/players/${e}/questions/${t}`}const yI=()=>{const{questionId:e,playerId:t}=y_(),{question:n}=ih(e),{playerQuestion:r}=fI({playerId:t,questionId:e});return!t||!e||!n?b.jsx(b.Fragment,{children:"Not found"}):b.jsxs("div",{children:[b.jsx("div",{className:"font-bold text-xl",children:n.text}),b.jsxs("div",{children:["Earned points:"," ",r?Yv(n,r):0]}),b.jsx("ul",{className:"flex flex-col gap-y-8 mb-8",children:n.answers.map((i,s)=>{const o=r==null?void 0:r.answerStatuses,l=o&&o[s];return b.jsxs("li",{className:["border border-red-500 w-[300px] p-2 flex justify-between",l&&"bg-green-500"].join(" "),children:[i.text," - ",i.points," ",r&&b.jsx("button",{onClick:()=>dI({playerId:t,questionId:e,answerIndex:s,currentPlayerQuestion:r}),children:l?"hide":"flip"})]},s)})}),b.jsx("div",{children:b.jsx(_f,{target:"_blank",rel:"noreferrer",to:mI(t),className:"btn",children:"Open board"})})]})},Mm={},Om={getItem:e=>localStorage?localStorage==null?void 0:localStorage.getItem(e):Mm[e],setItem:(e,t)=>{localStorage||(Mm[e]=t),localStorage==null||localStorage.setItem(e,t)}};function _I(){const e="playerId";let t=Om.getItem(e);return console.log({playerId:t}),t||(t=crypto.randomUUID(),Om.setItem(e,t)),t}const vI={getPlayerId:_I},Bs=({style:e="",children:t,className:n="",type:r,onClick:i=()=>{},outline:s})=>b.jsx("button",{className:["btn",e,n,s&&"btn-outline"].join(" "),type:r,onClick:i,children:t});function Jv(){const e=P.useRef(null);function t(){e.current&&e.current.showModal()}function n(){e.current&&e.current.close()}return{ref:e,open:t,close:n}}const Zv=({modalRef:e,children:t})=>b.jsx("dialog",{id:"my_modal_2",className:"modal",ref:e,children:b.jsxs("div",{className:"modal-box",children:[b.jsx("form",{method:"dialog",children:b.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""})}),t]})});var Ao=e=>e.type==="checkbox",yi=e=>e instanceof Date,yt=e=>e==null;const e0=e=>typeof e=="object";var Ke=e=>!yt(e)&&!Array.isArray(e)&&e0(e)&&!yi(e),wI=e=>Ke(e)&&e.target?Ao(e.target)?e.target.checked:e.target.value:e,EI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,SI=(e,t)=>e.has(EI(t)),CI=e=>{const t=e.constructor&&e.constructor.prototype;return Ke(t)&&t.hasOwnProperty("isPrototypeOf")},oh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function St(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(oh&&(e instanceof Blob||e instanceof FileList))&&(n||Ke(e)))if(t=n?[]:{},!n&&!CI(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=St(e[r]));else return e;return t}var es=e=>Array.isArray(e)?e.filter(Boolean):[],Ie=e=>e===void 0,z=(e,t,n)=>{if(!t||!Ke(e))return n;const r=es(t.split(/[,[\].]+?/)).reduce((i,s)=>yt(i)?i:i[s],e);return Ie(r)||r===e?Ie(e[t])?n:e[t]:r},In=e=>typeof e=="boolean";const Fm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$t={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xI=pe.createContext(null),kI=()=>pe.useContext(xI);var TI=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==$t.all&&(t._proxyFormState[o]=!r||$t.all),n&&(n[o]=!0),e[o]}});return i},Lt=e=>Ke(e)&&!Object.keys(e).length,II=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Lt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||$t.all))},Gt=e=>Array.isArray(e)?e:[e];function t0(e){const t=pe.useRef(e);t.current=e,pe.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var gn=e=>typeof e=="string",RI=(e,t,n,r,i)=>gn(e)?(r&&t.watch.add(e),z(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),z(n,s))):(r&&(t.watchAll=!0),n),lh=e=>/^\w*$/.test(e),n0=e=>es(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,n)=>{let r=-1;const i=lh(t)?[t]:n0(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=Ke(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e},NI=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},$n=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Fu=(e,t,n={})=>n.shouldFocus||Ie(n.shouldFocus)?n.focusName||`${e}.${Ie(n.focusIndex)?t:n.focusIndex}.`:"",md=e=>({isOnSubmit:!e||e===$t.onSubmit,isOnBlur:e===$t.onBlur,isOnChange:e===$t.onChange,isOnAll:e===$t.all,isOnTouch:e===$t.onTouched}),gd=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Pi=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=z(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)break;if(o.ref&&t(o.ref,o.name)&&!r)break;Pi(l,t)}else Ke(l)&&Pi(l,t)}}};var r0=(e,t,n)=>{const r=es(z(e,n));return Te(r,"root",t[n]),Te(e,n,r),e},ah=e=>e.type==="file",Zn=e=>typeof e=="function",ia=e=>{if(!oh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},pl=e=>gn(e),uh=e=>e.type==="radio",sa=e=>e instanceof RegExp;const bm={value:!1,isValid:!1},Um={value:!0,isValid:!0};var i0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ie(e[0].attributes.value)?Ie(e[0].value)||e[0].value===""?Um:{value:e[0].value,isValid:!0}:Um:bm}return bm};const jm={isValid:!1,value:null};var s0=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,jm):jm;function zm(e,t,n="validate"){if(pl(e)||Array.isArray(e)&&e.every(pl)||In(e)&&!e)return{type:n,message:pl(e)?e:"",ref:t}}var ni=e=>Ke(e)&&!sa(e)?e:{value:e,message:""},yd=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:d,max:f,pattern:c,validate:v,name:g,valueAsNumber:E,mount:N,disabled:m}=e._f,h=z(t,g);if(!N||m)return{};const y=o?o[0]:s,p=G=>{r&&y.reportValidity&&(y.setCustomValidity(In(G)?"":G||""),y.reportValidity())},S={},T=uh(s),x=Ao(s),D=T||x,W=(E||ah(s))&&Ie(s.value)&&Ie(h)||ia(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,B=NI.bind(null,g,n,S),ae=(G,J,ue,ee=xn.maxLength,He=xn.minLength)=>{const Ue=G?J:ue;S[g]={type:G?ee:He,message:Ue,ref:s,...B(G?ee:He,Ue)}};if(i?!Array.isArray(h)||!h.length:l&&(!D&&(W||yt(h))||In(h)&&!h||x&&!i0(o).isValid||T&&!s0(o).isValid)){const{value:G,message:J}=pl(l)?{value:!!l,message:l}:ni(l);if(G&&(S[g]={type:xn.required,message:J,ref:y,...B(xn.required,J)},!n))return p(J),S}if(!W&&(!yt(d)||!yt(f))){let G,J;const ue=ni(f),ee=ni(d);if(!yt(h)&&!isNaN(h)){const He=s.valueAsNumber||h&&+h;yt(ue.value)||(G=He>ue.value),yt(ee.value)||(J=He<ee.value)}else{const He=s.valueAsDate||new Date(h),Ue=q=>new Date(new Date().toDateString()+" "+q),F=s.type=="time",$=s.type=="week";gn(ue.value)&&h&&(G=F?Ue(h)>Ue(ue.value):$?h>ue.value:He>new Date(ue.value)),gn(ee.value)&&h&&(J=F?Ue(h)<Ue(ee.value):$?h<ee.value:He<new Date(ee.value))}if((G||J)&&(ae(!!G,ue.message,ee.message,xn.max,xn.min),!n))return p(S[g].message),S}if((a||u)&&!W&&(gn(h)||i&&Array.isArray(h))){const G=ni(a),J=ni(u),ue=!yt(G.value)&&h.length>+G.value,ee=!yt(J.value)&&h.length<+J.value;if((ue||ee)&&(ae(ue,G.message,J.message),!n))return p(S[g].message),S}if(c&&!W&&gn(h)){const{value:G,message:J}=ni(c);if(sa(G)&&!h.match(G)&&(S[g]={type:xn.pattern,message:J,ref:s,...B(xn.pattern,J)},!n))return p(J),S}if(v){if(Zn(v)){const G=await v(h,t),J=zm(G,y);if(J&&(S[g]={...J,...B(xn.validate,J.message)},!n))return p(J.message),S}else if(Ke(v)){let G={};for(const J in v){if(!Lt(G)&&!n)break;const ue=zm(await v[J](h,t),y,J);ue&&(G={...ue,...B(J,ue.message)},p(ue.message),n&&(S[g]=G))}if(!Lt(G)&&(S[g]={ref:y,...G},!n))return S}}return p(!0),S},bu=(e,t)=>[...e,...Gt(t)],Uu=e=>Array.isArray(e)?e.map(()=>{}):void 0;function ju(e,t,n){return[...e.slice(0,t),...Gt(n),...e.slice(t)]}var zu=(e,t,n)=>Array.isArray(e)?(Ie(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Vu=(e,t)=>[...Gt(t),...Gt(e)];function PI(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return es(r).length?r:[]}var Bu=(e,t)=>Ie(t)?[]:PI(e,Gt(t).sort((n,r)=>n-r)),Wu=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function DI(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ie(e)?r++:e[t[r++]];return e}function AI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ie(e[t]))return!1;return!0}function Ye(e,t){const n=Array.isArray(t)?t:lh(t)?[t]:n0(t),r=n.length===1?e:DI(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ke(r)&&Lt(r)||Array.isArray(r)&&AI(r))&&Ye(e,n.slice(0,-1)),e}var Vm=(e,t,n)=>(e[t]=n,e);function LI(e){const t=kI(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:s}=e,[o,l]=pe.useState(n._getFieldArray(r)),a=pe.useRef(n._getFieldArray(r).map($n)),u=pe.useRef(o),d=pe.useRef(r),f=pe.useRef(!1);d.current=r,u.current=o,n._names.array.add(r),e.rules&&n.register(r,e.rules),t0({next:({values:S,name:T})=>{if(T===d.current||!T){const x=z(S,d.current);Array.isArray(x)&&(l(x),a.current=x.map($n))}},subject:n._subjects.array});const c=pe.useCallback(S=>{f.current=!0,n._updateFieldArray(r,S)},[n,r]),v=(S,T)=>{const x=Gt(St(S)),D=bu(n._getFieldArray(r),x);n._names.focus=Fu(r,D.length-1,T),a.current=bu(a.current,x.map($n)),c(D),l(D),n._updateFieldArray(r,D,bu,{argA:Uu(S)})},g=(S,T)=>{const x=Gt(St(S)),D=Vu(n._getFieldArray(r),x);n._names.focus=Fu(r,0,T),a.current=Vu(a.current,x.map($n)),c(D),l(D),n._updateFieldArray(r,D,Vu,{argA:Uu(S)})},E=S=>{const T=Bu(n._getFieldArray(r),S);a.current=Bu(a.current,S),c(T),l(T),n._updateFieldArray(r,T,Bu,{argA:S})},N=(S,T,x)=>{const D=Gt(St(T)),W=ju(n._getFieldArray(r),S,D);n._names.focus=Fu(r,S,x),a.current=ju(a.current,S,D.map($n)),c(W),l(W),n._updateFieldArray(r,W,ju,{argA:S,argB:Uu(T)})},m=(S,T)=>{const x=n._getFieldArray(r);Wu(x,S,T),Wu(a.current,S,T),c(x),l(x),n._updateFieldArray(r,x,Wu,{argA:S,argB:T},!1)},h=(S,T)=>{const x=n._getFieldArray(r);zu(x,S,T),zu(a.current,S,T),c(x),l(x),n._updateFieldArray(r,x,zu,{argA:S,argB:T},!1)},y=(S,T)=>{const x=St(T),D=Vm(n._getFieldArray(r),S,x);a.current=[...D].map((W,B)=>!W||B===S?$n():a.current[B]),c(D),l([...D]),n._updateFieldArray(r,D,Vm,{argA:S,argB:x},!0,!1)},p=S=>{const T=Gt(St(S));a.current=T.map($n),c([...T]),l([...T]),n._updateFieldArray(r,[...T],x=>x,{},!0,!1)};return pe.useEffect(()=>{if(n._state.action=!1,gd(r,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!md(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(S=>{const T=z(S.errors,r),x=z(n._formState.errors,r);(x?!T&&x.type||T&&(x.type!==T.type||x.message!==T.message):T&&T.type)&&(T?Te(n._formState.errors,r,T):Ye(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const S=z(n._fields,r);S&&S._f&&yd(S,n._formValues,n._options.criteriaMode===$t.all,n._options.shouldUseNativeValidation,!0).then(T=>!Lt(T)&&n._subjects.state.next({errors:r0(n._formState.errors,T,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Pi(n._fields,(S,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&S.focus)return S.focus(),1}),n._names.focus="",n._updateValid(),f.current=!1},[o,r,n]),pe.useEffect(()=>(!z(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:pe.useCallback(m,[c,r,n]),move:pe.useCallback(h,[c,r,n]),prepend:pe.useCallback(g,[c,r,n]),append:pe.useCallback(v,[c,r,n]),remove:pe.useCallback(E,[c,r,n]),insert:pe.useCallback(N,[c,r,n]),update:pe.useCallback(y,[c,r,n]),replace:pe.useCallback(p,[c,r,n]),fields:pe.useMemo(()=>o.map((S,T)=>({...S,[i]:a.current[T]||$n()})),[o,i])}}var $u=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},oa=e=>yt(e)||!e0(e);function Pr(e,t){if(oa(e)||oa(t))return e===t;if(yi(e)&&yi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(yi(s)&&yi(o)||Ke(s)&&Ke(o)||Array.isArray(s)&&Array.isArray(o)?!Pr(s,o):s!==o)return!1}}return!0}var o0=e=>e.type==="select-multiple",MI=e=>uh(e)||Ao(e),Hu=e=>ia(e)&&e.isConnected,l0=e=>{for(const t in e)if(Zn(e[t]))return!0;return!1};function la(e,t={}){const n=Array.isArray(e);if(Ke(e)||n)for(const r in e)Array.isArray(e[r])||Ke(e[r])&&!l0(e[r])?(t[r]=Array.isArray(e[r])?[]:{},la(e[r],t[r])):yt(e[r])||(t[r]=!0);return t}function a0(e,t,n){const r=Array.isArray(e);if(Ke(e)||r)for(const i in e)Array.isArray(e[i])||Ke(e[i])&&!l0(e[i])?Ie(t)||oa(n[i])?n[i]=Array.isArray(e[i])?la(e[i],[]):{...la(e[i])}:a0(e[i],yt(t)?{}:t[i],n[i]):n[i]=!Pr(e[i],t[i]);return n}var Qu=(e,t)=>a0(e,t,la(t)),u0=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ie(e)?e:t?e===""?NaN:e&&+e:n&&gn(e)?new Date(e):r?r(e):e;function Gu(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return ah(t)?t.files:uh(t)?s0(e.refs).value:o0(t)?[...t.selectedOptions].map(({value:n})=>n):Ao(t)?i0(e.refs).value:u0(Ie(t.value)?e.ref.value:t.value,e)}var OI=(e,t,n,r)=>{const i={};for(const s of e){const o=z(t,s);o&&Te(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Ss=e=>Ie(e)?e:sa(e)?e.source:Ke(e)?sa(e.value)?e.value.source:e.value:e,FI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Bm(e,t,n){const r=z(e,n);if(r||lh(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=z(t,s),l=z(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var bI=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,UI=(e,t)=>!es(z(e,t)).length&&Ye(e,t);const jI={mode:$t.onSubmit,reValidateMode:$t.onChange,shouldFocusError:!0};function zI(e={},t){let n={...jI,...e},r={submitCount:0,isDirty:!1,isLoading:Zn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=Ke(n.defaultValues)||Ke(n.values)?St(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:St(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},c={values:$u(),array:$u(),state:$u()},v=e.resetOptions&&e.resetOptions.keepDirtyValues,g=md(n.mode),E=md(n.reValidateMode),N=n.criteriaMode===$t.all,m=_=>k=>{clearTimeout(d),d=setTimeout(_,k)},h=async _=>{if(f.isValid||_){const k=n.resolver?Lt((await B()).errors):await G(i,!0);k!==r.isValid&&c.state.next({isValid:k})}},y=_=>f.isValidating&&c.state.next({isValidating:_}),p=(_,k=[],I,j,O=!0,L=!0)=>{if(j&&I){if(l.action=!0,L&&Array.isArray(z(i,_))){const K=I(z(i,_),j.argA,j.argB);O&&Te(i,_,K)}if(L&&Array.isArray(z(r.errors,_))){const K=I(z(r.errors,_),j.argA,j.argB);O&&Te(r.errors,_,K),UI(r.errors,_)}if(f.touchedFields&&L&&Array.isArray(z(r.touchedFields,_))){const K=I(z(r.touchedFields,_),j.argA,j.argB);O&&Te(r.touchedFields,_,K)}f.dirtyFields&&(r.dirtyFields=Qu(s,o)),c.state.next({name:_,isDirty:ue(_,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Te(o,_,k)},S=(_,k)=>{Te(r.errors,_,k),c.state.next({errors:r.errors})},T=_=>{r.errors=_,c.state.next({errors:r.errors,isValid:!1})},x=(_,k,I,j)=>{const O=z(i,_);if(O){const L=z(o,_,Ie(I)?z(s,_):I);Ie(L)||j&&j.defaultChecked||k?Te(o,_,k?L:Gu(O._f)):Ue(_,L),l.mount&&h()}},D=(_,k,I,j,O)=>{let L=!1,K=!1;const ce={name:_},je=!!(z(i,_)&&z(i,_)._f.disabled);if(!I||j){f.isDirty&&(K=r.isDirty,r.isDirty=ce.isDirty=ue(),L=K!==ce.isDirty);const Dt=je||Pr(z(s,_),k);K=!!(!je&&z(r.dirtyFields,_)),Dt||je?Ye(r.dirtyFields,_):Te(r.dirtyFields,_,!0),ce.dirtyFields=r.dirtyFields,L=L||f.dirtyFields&&K!==!Dt}if(I){const Dt=z(r.touchedFields,_);Dt||(Te(r.touchedFields,_,I),ce.touchedFields=r.touchedFields,L=L||f.touchedFields&&Dt!==I)}return L&&O&&c.state.next(ce),L?ce:{}},W=(_,k,I,j)=>{const O=z(r.errors,_),L=f.isValid&&In(k)&&r.isValid!==k;if(e.delayError&&I?(u=m(()=>S(_,I)),u(e.delayError)):(clearTimeout(d),u=null,I?Te(r.errors,_,I):Ye(r.errors,_)),(I?!Pr(O,I):O)||!Lt(j)||L){const K={...j,...L&&In(k)?{isValid:k}:{},errors:r.errors,name:_};r={...r,...K},c.state.next(K)}y(!1)},B=async _=>n.resolver(o,n.context,OI(_||a.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),ae=async _=>{const{errors:k}=await B(_);if(_)for(const I of _){const j=z(k,I);j?Te(r.errors,I,j):Ye(r.errors,I)}else r.errors=k;return k},G=async(_,k,I={valid:!0})=>{for(const j in _){const O=_[j];if(O){const{_f:L,...K}=O;if(L){const ce=a.array.has(L.name),je=await yd(O,o,N,n.shouldUseNativeValidation&&!k,ce);if(je[L.name]&&(I.valid=!1,k))break;!k&&(z(je,L.name)?ce?r0(r.errors,je,L.name):Te(r.errors,L.name,je[L.name]):Ye(r.errors,L.name))}K&&await G(K,k,I)}}return I.valid},J=()=>{for(const _ of a.unMount){const k=z(i,_);k&&(k._f.refs?k._f.refs.every(I=>!Hu(I)):!Hu(k._f.ref))&&ts(_)}a.unMount=new Set},ue=(_,k)=>(_&&k&&Te(o,_,k),!Pr(pt(),s)),ee=(_,k,I)=>RI(_,a,{...l.mount?o:Ie(k)?s:gn(_)?{[_]:k}:k},I,k),He=_=>es(z(l.mount?o:s,_,e.shouldUnregister?z(s,_,[]):[])),Ue=(_,k,I={})=>{const j=z(i,_);let O=k;if(j){const L=j._f;L&&(!L.disabled&&Te(o,_,u0(k,L)),O=ia(L.ref)&&yt(k)?"":k,o0(L.ref)?[...L.ref.options].forEach(K=>K.selected=O.includes(K.value)):L.refs?Ao(L.ref)?L.refs.length>1?L.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(O)?!!O.find(ce=>ce===K.value):O===K.value)):L.refs[0]&&(L.refs[0].checked=!!O):L.refs.forEach(K=>K.checked=K.value===O):ah(L.ref)?L.ref.value="":(L.ref.value=O,L.ref.type||c.values.next({name:_,values:{...o}})))}(I.shouldDirty||I.shouldTouch)&&D(_,O,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&he(_)},F=(_,k,I)=>{for(const j in k){const O=k[j],L=`${_}.${j}`,K=z(i,L);(a.array.has(_)||!oa(O)||K&&!K._f)&&!yi(O)?F(L,O,I):Ue(L,O,I)}},$=(_,k,I={})=>{const j=z(i,_),O=a.array.has(_),L=St(k);Te(o,_,L),O?(c.array.next({name:_,values:{...o}}),(f.isDirty||f.dirtyFields)&&I.shouldDirty&&c.state.next({name:_,dirtyFields:Qu(s,o),isDirty:ue(_,L)})):j&&!j._f&&!yt(L)?F(_,L,I):Ue(_,L,I),gd(_,a)&&c.state.next({...r}),c.values.next({name:_,values:{...o}}),!l.mount&&t()},q=async _=>{const k=_.target;let I=k.name,j=!0;const O=z(i,I),L=()=>k.type?Gu(O._f):wI(_),K=ce=>{j=Number.isNaN(ce)||ce===z(o,I,ce)};if(O){let ce,je;const Dt=L(),Cn=_.type===Fm.BLUR||_.type===Fm.FOCUS_OUT,$a=!FI(O._f)&&!n.resolver&&!z(r.errors,I)&&!O._f.deps||bI(Cn,z(r.touchedFields,I),r.isSubmitted,E,g),Yr=gd(I,a,Cn);Te(o,I,Dt),Cn?(O._f.onBlur&&O._f.onBlur(_),u&&u(0)):O._f.onChange&&O._f.onChange(_);const Bn=D(I,Dt,Cn,!1),Oo=!Lt(Bn)||Yr;if(!Cn&&c.values.next({name:I,type:_.type,values:{...o}}),$a)return f.isValid&&h(),Oo&&c.state.next({name:I,...Yr?{}:Bn});if(!Cn&&Yr&&c.state.next({...r}),y(!0),n.resolver){const{errors:Xr}=await B([I]);if(K(Dt),j){const Ha=Bm(r.errors,i,I),rs=Bm(Xr,i,Ha.name||I);ce=rs.error,I=rs.name,je=Lt(Xr)}}else ce=(await yd(O,o,N,n.shouldUseNativeValidation))[I],K(Dt),j&&(ce?je=!1:f.isValid&&(je=await G(i,!0)));j&&(O._f.deps&&he(O._f.deps),W(I,je,ce,Bn))}},ge=(_,k)=>{if(z(r.errors,k)&&_.focus)return _.focus(),1},he=async(_,k={})=>{let I,j;const O=Gt(_);if(y(!0),n.resolver){const L=await ae(Ie(_)?_:O);I=Lt(L),j=_?!O.some(K=>z(L,K)):I}else _?(j=(await Promise.all(O.map(async L=>{const K=z(i,L);return await G(K&&K._f?{[L]:K}:K)}))).every(Boolean),!(!j&&!r.isValid)&&h()):j=I=await G(i);return c.state.next({...!gn(_)||f.isValid&&I!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:I}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!j&&Pi(i,ge,_?O:a.mount),j},pt=_=>{const k={...s,...l.mount?o:{}};return Ie(_)?k:gn(_)?z(k,_):_.map(I=>z(k,I))},qe=(_,k)=>({invalid:!!z((k||r).errors,_),isDirty:!!z((k||r).dirtyFields,_),isTouched:!!z((k||r).touchedFields,_),error:z((k||r).errors,_)}),En=_=>{_&&Gt(_).forEach(k=>Ye(r.errors,k)),c.state.next({errors:_?r.errors:{}})},jt=(_,k,I)=>{const j=(z(i,_,{_f:{}})._f||{}).ref;Te(r.errors,_,{...k,ref:j}),c.state.next({name:_,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&j&&j.focus&&j.focus()},Vn=(_,k)=>Zn(_)?c.values.subscribe({next:I=>_(ee(void 0,k),I)}):ee(_,k,!0),ts=(_,k={})=>{for(const I of _?Gt(_):a.mount)a.mount.delete(I),a.array.delete(I),k.keepValue||(Ye(i,I),Ye(o,I)),!k.keepError&&Ye(r.errors,I),!k.keepDirty&&Ye(r.dirtyFields,I),!k.keepTouched&&Ye(r.touchedFields,I),!n.shouldUnregister&&!k.keepDefaultValue&&Ye(s,I);c.values.next({values:{...o}}),c.state.next({...r,...k.keepDirty?{isDirty:ue()}:{}}),!k.keepIsValid&&h()},ut=({disabled:_,name:k,field:I,fields:j,value:O})=>{if(In(_)){const L=_?void 0:Ie(O)?Gu(I?I._f:z(j,k)._f):O;Te(o,k,L),D(k,L,!1,!1,!0)}},Sn=(_,k={})=>{let I=z(i,_);const j=In(k.disabled);return Te(i,_,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:_}},name:_,mount:!0,...k}}),a.mount.add(_),I?ut({field:I,disabled:k.disabled,name:_,value:k.value}):x(_,!0,k.value),{...j?{disabled:k.disabled}:{},...n.progressive?{required:!!k.required,min:Ss(k.min),max:Ss(k.max),minLength:Ss(k.minLength),maxLength:Ss(k.maxLength),pattern:Ss(k.pattern)}:{},name:_,onChange:q,onBlur:q,ref:O=>{if(O){Sn(_,k),I=z(i,_);const L=Ie(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,K=MI(L),ce=I._f.refs||[];if(K?ce.find(je=>je===L):L===I._f.ref)return;Te(i,_,{_f:{...I._f,...K?{refs:[...ce.filter(Hu),L,...Array.isArray(z(s,_))?[{}]:[]],ref:{type:L.type,name:_}}:{ref:L}}}),x(_,!1,void 0,L)}else I=z(i,_,{}),I._f&&(I._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(SI(a.array,_)&&l.action)&&a.unMount.add(_)}}},ns=()=>n.shouldFocusError&&Pi(i,ge,a.mount),Ba=_=>{In(_)&&(c.state.next({disabled:_}),Pi(i,(k,I)=>{let j=_;const O=z(i,I);O&&In(O._f.disabled)&&(j||(j=O._f.disabled)),k.disabled=j},0,!1))},dn=(_,k)=>async I=>{I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let j=St(o);if(c.state.next({isSubmitting:!0}),n.resolver){const{errors:O,values:L}=await B();r.errors=O,j=L}else await G(i);Ye(r.errors,"root"),Lt(r.errors)?(c.state.next({errors:{}}),await _(j,I)):(k&&await k({...r.errors},I),ns(),setTimeout(ns)),c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Wa=(_,k={})=>{z(i,_)&&(Ie(k.defaultValue)?$(_,z(s,_)):($(_,k.defaultValue),Te(s,_,k.defaultValue)),k.keepTouched||Ye(r.touchedFields,_),k.keepDirty||(Ye(r.dirtyFields,_),r.isDirty=k.defaultValue?ue(_,z(s,_)):ue()),k.keepError||(Ye(r.errors,_),f.isValid&&h()),c.state.next({...r}))},Lo=(_,k={})=>{const I=_?St(_):s,j=St(I),O=_&&!Lt(_)?j:s;if(k.keepDefaultValues||(s=I),!k.keepValues){if(k.keepDirtyValues||v)for(const L of a.mount)z(r.dirtyFields,L)?Te(O,L,z(o,L)):$(L,z(O,L));else{if(oh&&Ie(_))for(const L of a.mount){const K=z(i,L);if(K&&K._f){const ce=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(ia(ce)){const je=ce.closest("form");if(je){je.reset();break}}}}i={}}o=e.shouldUnregister?k.keepDefaultValues?St(s):{}:St(O),c.array.next({values:{...O}}),c.values.next({values:{...O}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!f.isValid||!!k.keepIsValid,l.watch=!!e.shouldUnregister,c.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Pr(_,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&_?Qu(s,_):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Mo=(_,k)=>Lo(Zn(_)?_(o):_,k);return{control:{register:Sn,unregister:ts,getFieldState:qe,handleSubmit:dn,setError:jt,_executeSchema:B,_getWatch:ee,_getDirty:ue,_updateValid:h,_removeUnmounted:J,_updateFieldArray:p,_updateDisabledField:ut,_getFieldArray:He,_reset:Lo,_resetDefaultValues:()=>Zn(n.defaultValues)&&n.defaultValues().then(_=>{Mo(_,n.resetOptions),c.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:Ba,_subjects:c,_proxyFormState:f,_setErrors:T,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(_){l=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:he,register:Sn,handleSubmit:dn,watch:Vn,setValue:$,getValues:pt,reset:Mo,resetField:Wa,clearErrors:En,unregister:ts,setError:jt,setFocus:(_,k={})=>{const I=z(i,_),j=I&&I._f;if(j){const O=j.refs?j.refs[0]:j.ref;O.focus&&(O.focus(),k.shouldSelect&&O.select())}},getFieldState:qe}}function VI(e={}){const t=pe.useRef(),n=pe.useRef(),[r,i]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Zn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:Zn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...zI(e,()=>i(o=>({...o}))),formState:r});const s=t.current.control;return s._options=e,t0({subject:s._subjects.state,next:o=>{II(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),pe.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),pe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),pe.useEffect(()=>{e.values&&!Pr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),pe.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),pe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=TI(r,s),t.current}const Ku=({inputProps:e,label:t})=>b.jsxs("label",{className:"form-control w-full max-w-xs",children:[b.jsx("div",{className:"label",children:b.jsx("span",{className:"label-text",children:t})}),b.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full max-w-xs",...e})]}),c0=({onSubmit:e,initialValues:t={answers:[{text:"",points:0}]}})=>{const{register:n,control:r,handleSubmit:i}=VI({defaultValues:t,mode:"onBlur"}),{fields:s,append:o,remove:l}=LI({name:"answers",control:r});return b.jsxs("form",{onSubmit:i(e),children:[b.jsxs("div",{className:"flex flex-col gap-y-4 mb-4",children:[b.jsx(Ku,{label:"Question",inputProps:n("question",{required:!0})}),b.jsx("div",{className:"font-bold",children:"Answers"}),s.map((a,u)=>b.jsxs("div",{className:"grid grid-cols-[3fr,1fr,1fr] gap-x-4",children:[b.jsx(Ku,{label:"Answer",inputProps:n(`answers.${u}.text`,{required:!0})}),b.jsx(Ku,{label:"Points",inputProps:{...n(`answers.${u}.points`,{required:!0}),type:"number",min:1}}),b.jsx(Bs,{type:"button",onClick:()=>l(u),style:"btn-error",outline:!0,children:"DELETE"})]},a.id))]}),b.jsx(Bs,{type:"button",onClick:()=>o({text:"",points:0}),children:"Add question"}),b.jsx("div",{className:"text-right",children:b.jsx(Bs,{type:"submit",style:"btn-primary",children:"Submit"})})]})};function d0(e){return`/questions/${e}`}const BI=()=>{const{id:e}=y_(),t=Jv(),{question:n,loading:r}=ih(e);function i(l){console.log("edit > data =",l)}const s=yf();function o(){let l=vI.getPlayerId();!e||!n||(aI({question:n,playerId:l,questionId:e}),cI({playerId:l,questionId:e}),s(Xv(l,e)))}return r?b.jsx("div",{children:"Loading..."}):n?b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold underline",children:n.text}),b.jsx("ul",{children:n.answers.map((l,a)=>b.jsxs("li",{children:[l.text," - ",l.points]},a))}),b.jsx(Bs,{style:"btn-primary",onClick:o,children:"Play this question"}),b.jsx(Bs,{style:"btn-secondary",onClick:t.open,children:"Edit"}),b.jsxs(Zv,{modalRef:t.ref,children:[b.jsx("h2",{children:"Edit question"}),b.jsx(c0,{onSubmit:i,initialValues:{question:n.text,answers:n.answers}})]})]}):b.jsx("div",{children:"Question not found"})};function WI(e){const t=$T(ra,{text:e.question});t.key&&HT(Pt(ra,t.key),{answers:e.answers.map(({text:n,points:r})=>({text:n,points:Number(r)}))})}const $I=({modalRef:e,onClose:t=()=>{}})=>b.jsx(Zv,{modalRef:e,children:b.jsx(c0,{onSubmit:n=>{WI(n),t()}})});function Wm(){return"/questions"}const HI=()=>{const[e,t]=P.useState([]),n=Jv();return P.useEffect(()=>{const r=Va(ra,s=>{const o=Object.entries(s.val()).map(([l,a])=>({...a,id:l}));t(o)});function i(){r()}return i},[]),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("button",{onClick:n.open,children:"Add question"}),b.jsx($I,{modalRef:n.ref,onClose:n.close})]}),b.jsx("ul",{children:e.map(r=>b.jsx("li",{children:b.jsx(_f,{to:d0(r.id),children:r.text})},r.id))})]})},QI=ZS([{path:"/",errorElement:b.jsx("div",{children:"Not found"}),element:b.jsxs("div",{children:[b.jsx("div",{children:"Family Feud"}),b.jsx("ul",{children:b.jsx("li",{children:b.jsx(_f,{to:Wm(),children:"Question List"})})})]})},{path:Wm(),element:b.jsx(HI,{})},{path:d0(":id"),element:b.jsx(BI,{})},{path:Xv(":playerId",":questionId"),element:b.jsx(yI,{})},{path:"board",element:b.jsx(gI,{})}]);function GI(){return b.jsx("div",{children:b.jsx(aC,{router:QI})})}qu.createRoot(document.getElementById("root")).render(b.jsx(pe.StrictMode,{children:b.jsx(GI,{})}));
