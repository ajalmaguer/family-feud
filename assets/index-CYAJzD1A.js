function Bg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hg={exports:{}},ja={},Qg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=Symbol.for("react.element"),Aw=Symbol.for("react.portal"),Lw=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),Mw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),jw=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),$w=Symbol.for("react.memo"),zw=Symbol.for("react.lazy"),lp=Symbol.iterator;function Vw(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gg=Object.assign,Kg={};function ls(e,t,n){this.props=e,this.context=t,this.refs=Kg,this.updater=n||qg}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yg(){}Yg.prototype=ls.prototype;function ff(e,t,n){this.props=e,this.context=t,this.refs=Kg,this.updater=n||qg}var hf=ff.prototype=new Yg;hf.constructor=ff;Gg(hf,ls.prototype);hf.isPureReactComponent=!0;var ap=Array.isArray,Xg=Object.prototype.hasOwnProperty,pf={current:null},Jg={key:!0,ref:!0,__self:!0,__source:!0};function Zg(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Xg.call(t,r)&&!Jg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:$o,type:e,key:s,ref:o,props:i,_owner:pf.current}}function Bw(e,t){return{$$typeof:$o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===$o}function Ww(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var up=/\/+/g;function Du(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ww(""+e.key):t.toString(36)}function Pl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $o:case Aw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Du(o,0):r,ap(i)?(n="",e!=null&&(n=e.replace(up,"$&/")+"/"),Pl(i,t,n,"",function(u){return u})):i!=null&&(mf(i)&&(i=Bw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(up,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",ap(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Du(s,l);o+=Pl(s,t,n,a,i)}else if(a=Vw(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Du(s,l++),o+=Pl(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function al(e,t,n){if(e==null)return e;var r=[],i=0;return Pl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Hw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},Dl={transition:null},Qw={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:pf};ce.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ls;ce.Fragment=Lw;ce.Profiler=Mw;ce.PureComponent=ff;ce.StrictMode=Ow;ce.Suspense=Uw;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qw;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gg({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=pf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Xg.call(t,a)&&!Jg.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:$o,type:e.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:Fw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bw,_context:e},e.Consumer=e};ce.createElement=Zg;ce.createFactory=function(e){var t=Zg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:jw,render:e}};ce.isValidElement=mf;ce.lazy=function(e){return{$$typeof:zw,_payload:{_status:-1,_result:e},_init:Hw}};ce.memo=function(e,t){return{$$typeof:$w,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(e,t){return xt.current.useCallback(e,t)};ce.useContext=function(e){return xt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return xt.current.useEffect(e,t)};ce.useId=function(){return xt.current.useId()};ce.useImperativeHandle=function(e,t,n){return xt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return xt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return xt.current.useReducer(e,t,n)};ce.useRef=function(e){return xt.current.useRef(e)};ce.useState=function(e){return xt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return xt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return xt.current.useTransition()};ce.version="18.2.0";Qg.exports=ce;var E=Qg.exports;const Q=Wg(E),qi=Bg({__proto__:null,default:Q},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=E,Gw=Symbol.for("react.element"),Kw=Symbol.for("react.fragment"),Yw=Object.prototype.hasOwnProperty,Xw=qw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jw={key:!0,ref:!0,__self:!0,__source:!0};function ev(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Yw.call(t,r)&&!Jw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Gw,type:e,key:s,ref:o,props:i,_owner:Xw.current}}ja.Fragment=Kw;ja.jsx=ev;ja.jsxs=ev;Hg.exports=ja;var D=Hg.exports,Oc={},tv={exports:{}},Vt={},nv={exports:{}},rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,W){var K=b.length;b.push(W);e:for(;0<K;){var me=K-1>>>1,fe=b[me];if(0<i(fe,W))b[me]=W,b[K]=fe,K=me;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var W=b[0],K=b.pop();if(K!==W){b[0]=K;e:for(var me=0,fe=b.length,ht=fe>>>1;me<ht;){var Qe=2*(me+1)-1,gn=b[Qe],kt=Qe+1,vn=b[kt];if(0>i(gn,K))kt<fe&&0>i(vn,gn)?(b[me]=vn,b[kt]=K,me=kt):(b[me]=gn,b[Qe]=K,me=Qe);else if(kt<fe&&0>i(vn,K))b[me]=vn,b[kt]=K,me=kt;else break e}}return W}function i(b,W){var K=b.sortIndex-W.sortIndex;return K!==0?K:b.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,y=!1,g=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=b)r(u),W.sortIndex=W.expirationTime,t(a,W);else break;W=n(u)}}function p(b){if(w=!1,v(b),!g)if(n(a)!==null)g=!0,ze(C);else{var W=n(u);W!==null&&De(p,W.startTime-b)}}function C(b,W){g=!1,w&&(w=!1,m(A),A=-1),y=!0;var K=f;try{for(v(W),d=n(a);d!==null&&(!(d.expirationTime>W)||b&&!oe());){var me=d.callback;if(typeof me=="function"){d.callback=null,f=d.priorityLevel;var fe=me(d.expirationTime<=W);W=e.unstable_now(),typeof fe=="function"?d.callback=fe:d===n(a)&&r(a),v(W)}else r(a);d=n(a)}if(d!==null)var ht=!0;else{var Qe=n(u);Qe!==null&&De(p,Qe.startTime-W),ht=!1}return ht}finally{d=null,f=K,y=!1}}var k=!1,x=null,A=-1,B=5,V=-1;function oe(){return!(e.unstable_now()-V<B)}function q(){if(x!==null){var b=e.unstable_now();V=b;var W=!0;try{W=x(!0,b)}finally{W?X():(k=!1,x=null)}}else k=!1}var X;if(typeof h=="function")X=function(){h(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=q,X=function(){te.postMessage(null)}}else X=function(){R(q,0)};function ze(b){x=b,k||(k=!0,X())}function De(b,W){A=R(function(){b(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,ze(C))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return b()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,W){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=f;f=b;try{return W()}finally{f=K}},e.unstable_scheduleCallback=function(b,W,K){var me=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?me+K:me):K=me,b){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,b={id:c++,callback:W,priorityLevel:b,startTime:K,expirationTime:fe,sortIndex:-1},K>me?(b.sortIndex=K,t(u,b),n(a)===null&&b===n(u)&&(w?(m(A),A=-1):w=!0,De(p,K-me))):(b.sortIndex=fe,t(a,b),g||y||(g=!0,ze(C))),b},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(b){var W=f;return function(){var K=f;f=W;try{return b.apply(this,arguments)}finally{f=K}}}})(rv);nv.exports=rv;var Zw=nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=E,zt=Zw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sv=new Set,co={};function li(e,t){Gi(e,t),Gi(e+"Capture",t)}function Gi(e,t){for(co[e]=t,e=0;e<t.length;e++)sv.add(t[e])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=Object.prototype.hasOwnProperty,eE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},dp={};function tE(e){return Mc.call(dp,e)?!0:Mc.call(cp,e)?!1:eE.test(e)?dp[e]=!0:(cp[e]=!0,!1)}function nE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rE(e,t,n,r){if(t===null||typeof t>"u"||nE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function vf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gf,vf);ct[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gf,vf);ct[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gf,vf);ct[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,n,r){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rE(t,n,i,r)&&(n=null),r||i===null?tE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gn=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),_i=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),lv=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Fc=Symbol.for("react.suspense"),jc=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),av=Symbol.for("react.offscreen"),fp=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Au;function Bs(e){if(Au===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Au=t&&t[1]||""}return`
`+Au+e}var Lu=!1;function Ou(e,t){if(!e||Lu)return"";Lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Lu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bs(e):""}function iE(e){switch(e.tag){case 5:return Bs(e.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return e=Ou(e.type,!1),e;case 11:return e=Ou(e.type.render,!1),e;case 1:return e=Ou(e.type,!0),e;default:return""}}function Uc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wi:return"Fragment";case _i:return"Portal";case bc:return"Profiler";case _f:return"StrictMode";case Fc:return"Suspense";case jc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lv:return(e.displayName||"Context")+".Consumer";case ov:return(e._context.displayName||"Context")+".Provider";case wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ef:return t=e.displayName||null,t!==null?t:Uc(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return Uc(e(t))}catch{}}return null}function sE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uc(t);case 8:return t===_f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oE(e){var t=uv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=oE(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $c(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dv(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function zc(e,t){dv(e,t);var n=Cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vc(e,t.type,Cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vc(e,t,n){(t!=="number"||Wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function Oi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Ws(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cr(n)}}function fv(e,t){var n=Cr(t.value),r=Cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dl,pv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lE=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){lE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function mv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function gv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var aE=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hc(e,t){if(t){if(aE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Qc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gc=null,Mi=null,bi=null;function vp(e){if(e=Bo(e)){if(typeof Gc!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ba(t),Gc(e.stateNode,e.type,t))}}function vv(e){Mi?bi?bi.push(e):bi=[e]:Mi=e}function yv(){if(Mi){var e=Mi,t=bi;if(bi=Mi=null,vp(e),t)for(e=0;e<t.length;e++)vp(t[e])}}function _v(e,t){return e(t)}function wv(){}var Mu=!1;function Ev(e,t,n){if(Mu)return e(t,n);Mu=!0;try{return _v(e,t,n)}finally{Mu=!1,(Mi!==null||bi!==null)&&(wv(),yv())}}function ho(e,t){var n=e.stateNode;if(n===null)return null;var r=Ba(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Kc=!1;if(Vn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Kc=!1}function uE(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ys=!1,Hl=null,Ql=!1,Yc=null,cE={onError:function(e){Ys=!0,Hl=e}};function dE(e,t,n,r,i,s,o,l,a){Ys=!1,Hl=null,uE.apply(cE,arguments)}function fE(e,t,n,r,i,s,o,l,a){if(dE.apply(this,arguments),Ys){if(Ys){var u=Hl;Ys=!1,Hl=null}else throw Error(L(198));Ql||(Ql=!0,Yc=u)}}function ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yp(e){if(ai(e)!==e)throw Error(L(188))}function hE(e){var t=e.alternate;if(!t){if(t=ai(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yp(i),e;if(s===r)return yp(i),t;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Cv(e){return e=hE(e),e!==null?xv(e):null}function xv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xv(e);if(t!==null)return t;e=e.sibling}return null}var Tv=zt.unstable_scheduleCallback,_p=zt.unstable_cancelCallback,pE=zt.unstable_shouldYield,mE=zt.unstable_requestPaint,He=zt.unstable_now,gE=zt.unstable_getCurrentPriorityLevel,Cf=zt.unstable_ImmediatePriority,kv=zt.unstable_UserBlockingPriority,ql=zt.unstable_NormalPriority,vE=zt.unstable_LowPriority,Iv=zt.unstable_IdlePriority,Ua=null,Cn=null;function yE(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Ua,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:EE,_E=Math.log,wE=Math.LN2;function EE(e){return e>>>=0,e===0?32:31-(_E(e)/wE|0)|0}var fl=64,hl=4194304;function Hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Hs(l):(s&=o,s!==0&&(r=Hs(s)))}else o=n&~i,o!==0?r=Hs(o):s!==0&&(r=Hs(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dn(t),i=1<<n,r|=e[n],t&=~i;return r}function SE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-dn(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=SE(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nv(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=n}function xE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function xf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ve=0;function Rv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pv,Tf,Dv,Av,Lv,Jc=!1,pl=[],fr=null,hr=null,pr=null,po=new Map,mo=new Map,sr=[],TE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wp(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function xs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Bo(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kE(e,t,n,r,i){switch(t){case"focusin":return fr=xs(fr,e,t,n,r,i),!0;case"dragenter":return hr=xs(hr,e,t,n,r,i),!0;case"mouseover":return pr=xs(pr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return po.set(s,xs(po.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mo.set(s,xs(mo.get(s)||null,e,t,n,r,i)),!0}return!1}function Ov(e){var t=Ur(e.target);if(t!==null){var n=ai(t);if(n!==null){if(t=n.tag,t===13){if(t=Sv(n),t!==null){e.blockedOn=t,Lv(e.priority,function(){Dv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qc=r,n.target.dispatchEvent(r),qc=null}else return t=Bo(n),t!==null&&Tf(t),e.blockedOn=n,!1;t.shift()}return!0}function Ep(e,t,n){Al(e)&&n.delete(t)}function IE(){Jc=!1,fr!==null&&Al(fr)&&(fr=null),hr!==null&&Al(hr)&&(hr=null),pr!==null&&Al(pr)&&(pr=null),po.forEach(Ep),mo.forEach(Ep)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,IE)))}function go(e){function t(i){return Ts(i,e)}if(0<pl.length){Ts(pl[0],e);for(var n=1;n<pl.length;n++){var r=pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fr!==null&&Ts(fr,e),hr!==null&&Ts(hr,e),pr!==null&&Ts(pr,e),po.forEach(t),mo.forEach(t),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)Ov(n),n.blockedOn===null&&sr.shift()}var Fi=Gn.ReactCurrentBatchConfig,Kl=!0;function NE(e,t,n,r){var i=ve,s=Fi.transition;Fi.transition=null;try{ve=1,kf(e,t,n,r)}finally{ve=i,Fi.transition=s}}function RE(e,t,n,r){var i=ve,s=Fi.transition;Fi.transition=null;try{ve=4,kf(e,t,n,r)}finally{ve=i,Fi.transition=s}}function kf(e,t,n,r){if(Kl){var i=Zc(e,t,n,r);if(i===null)Qu(e,t,r,Yl,n),wp(e,r);else if(kE(i,e,t,n,r))r.stopPropagation();else if(wp(e,r),t&4&&-1<TE.indexOf(e)){for(;i!==null;){var s=Bo(i);if(s!==null&&Pv(s),s=Zc(e,t,n,r),s===null&&Qu(e,t,r,Yl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qu(e,t,r,null,n)}}var Yl=null;function Zc(e,t,n,r){if(Yl=null,e=Sf(r),e=Ur(e),e!==null)if(t=ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yl=e,null}function Mv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gE()){case Cf:return 1;case kv:return 4;case ql:case vE:return 16;case Iv:return 536870912;default:return 16}default:return 16}}var ar=null,If=null,Ll=null;function bv(){if(Ll)return Ll;var e,t=If,n=t.length,r,i="value"in ar?ar.value:ar.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ll=i.slice(e,1<r?1-r:void 0)}function Ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function Sp(){return!1}function Bt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ml:Sp,this.isPropagationStopped=Sp,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Bt(as),Vo=be({},as,{view:0,detail:0}),PE=Bt(Vo),Fu,ju,ks,$a=be({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(Fu=e.screenX-ks.screenX,ju=e.screenY-ks.screenY):ju=Fu=0,ks=e),Fu)},movementY:function(e){return"movementY"in e?e.movementY:ju}}),Cp=Bt($a),DE=be({},$a,{dataTransfer:0}),AE=Bt(DE),LE=be({},Vo,{relatedTarget:0}),Uu=Bt(LE),OE=be({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),ME=Bt(OE),bE=be({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FE=Bt(bE),jE=be({},as,{data:0}),xp=Bt(jE),UE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zE[e])?!!t[e]:!1}function Rf(){return VE}var BE=be({},Vo,{key:function(e){if(e.key){var t=UE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$E[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WE=Bt(BE),HE=be({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=Bt(HE),QE=be({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),qE=Bt(QE),GE=be({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),KE=Bt(GE),YE=be({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XE=Bt(YE),JE=[9,13,27,32],Pf=Vn&&"CompositionEvent"in window,Xs=null;Vn&&"documentMode"in document&&(Xs=document.documentMode);var ZE=Vn&&"TextEvent"in window&&!Xs,Fv=Vn&&(!Pf||Xs&&8<Xs&&11>=Xs),kp=" ",Ip=!1;function jv(e,t){switch(e){case"keyup":return JE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function eS(e,t){switch(e){case"compositionend":return Uv(t);case"keypress":return t.which!==32?null:(Ip=!0,kp);case"textInput":return e=t.data,e===kp&&Ip?null:e;default:return null}}function tS(e,t){if(Ei)return e==="compositionend"||!Pf&&jv(e,t)?(e=bv(),Ll=If=ar=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var nS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nS[e.type]:t==="textarea"}function $v(e,t,n,r){vv(r),t=Xl(t,"onChange"),0<t.length&&(n=new Nf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Js=null,vo=null;function rS(e){Xv(e,0)}function za(e){var t=xi(e);if(cv(t))return e}function iS(e,t){if(e==="change")return t}var zv=!1;if(Vn){var $u;if(Vn){var zu="oninput"in document;if(!zu){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),zu=typeof Rp.oninput=="function"}$u=zu}else $u=!1;zv=$u&&(!document.documentMode||9<document.documentMode)}function Pp(){Js&&(Js.detachEvent("onpropertychange",Vv),vo=Js=null)}function Vv(e){if(e.propertyName==="value"&&za(vo)){var t=[];$v(t,vo,e,Sf(e)),Ev(rS,t)}}function sS(e,t,n){e==="focusin"?(Pp(),Js=t,vo=n,Js.attachEvent("onpropertychange",Vv)):e==="focusout"&&Pp()}function oS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(vo)}function lS(e,t){if(e==="click")return za(t)}function aS(e,t){if(e==="input"||e==="change")return za(t)}function uS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:uS;function yo(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mc.call(t,i)||!pn(e[i],t[i]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,t){var n=Dp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dp(n)}}function Bv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wv(){for(var e=window,t=Wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wl(e.document)}return t}function Df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cS(e){var t=Wv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bv(n.ownerDocument.documentElement,n)){if(r!==null&&Df(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ap(n,s);var o=Ap(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dS=Vn&&"documentMode"in document&&11>=document.documentMode,Si=null,ed=null,Zs=null,td=!1;function Lp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;td||Si==null||Si!==Wl(r)||(r=Si,"selectionStart"in r&&Df(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zs&&yo(Zs,r)||(Zs=r,r=Xl(ed,"onSelect"),0<r.length&&(t=new Nf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Si)))}function gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ci={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},Vu={},Hv={};Vn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Va(e){if(Vu[e])return Vu[e];if(!Ci[e])return e;var t=Ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hv)return Vu[e]=t[n];return e}var Qv=Va("animationend"),qv=Va("animationiteration"),Gv=Va("animationstart"),Kv=Va("transitionend"),Yv=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Yv.set(e,t),li(t,[e])}for(var Bu=0;Bu<Op.length;Bu++){var Wu=Op[Bu],fS=Wu.toLowerCase(),hS=Wu[0].toUpperCase()+Wu.slice(1);Rr(fS,"on"+hS)}Rr(Qv,"onAnimationEnd");Rr(qv,"onAnimationIteration");Rr(Gv,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(Kv,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Mp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fE(r,t,void 0,e),e.currentTarget=null}function Xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Mp(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Mp(i,l,u),s=a}}}if(Ql)throw e=Yc,Ql=!1,Yc=null,e}function ke(e,t){var n=t[od];n===void 0&&(n=t[od]=new Set);var r=e+"__bubble";n.has(r)||(Jv(t,e,2,!1),n.add(r))}function Hu(e,t,n){var r=0;t&&(r|=4),Jv(n,e,r,t)}var vl="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[vl]){e[vl]=!0,sv.forEach(function(n){n!=="selectionchange"&&(pS.has(n)||Hu(n,!1,e),Hu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vl]||(t[vl]=!0,Hu("selectionchange",!1,t))}}function Jv(e,t,n,r){switch(Mv(t)){case 1:var i=NE;break;case 4:i=RE;break;default:i=kf}n=i.bind(null,t,n,e),i=void 0,!Kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ur(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ev(function(){var u=s,c=Sf(n),d=[];e:{var f=Yv.get(e);if(f!==void 0){var y=Nf,g=e;switch(e){case"keypress":if(Ol(n)===0)break e;case"keydown":case"keyup":y=WE;break;case"focusin":g="focus",y=Uu;break;case"focusout":g="blur",y=Uu;break;case"beforeblur":case"afterblur":y=Uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=AE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qE;break;case Qv:case qv:case Gv:y=ME;break;case Kv:y=KE;break;case"scroll":y=PE;break;case"wheel":y=XE;break;case"copy":case"cut":case"paste":y=FE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tp}var w=(t&4)!==0,R=!w&&e==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var h=u,v;h!==null;){v=h;var p=v.stateNode;if(v.tag===5&&p!==null&&(v=p,m!==null&&(p=ho(h,m),p!=null&&w.push(wo(h,p,v)))),R)break;h=h.return}0<w.length&&(f=new y(f,g,null,n,c),d.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==qc&&(g=n.relatedTarget||n.fromElement)&&(Ur(g)||g[Bn]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(g=n.relatedTarget||n.toElement,y=u,g=g?Ur(g):null,g!==null&&(R=ai(g),g!==R||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=u),y!==g)){if(w=Cp,p="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Tp,p="onPointerLeave",m="onPointerEnter",h="pointer"),R=y==null?f:xi(y),v=g==null?f:xi(g),f=new w(p,h+"leave",y,n,c),f.target=R,f.relatedTarget=v,p=null,Ur(c)===u&&(w=new w(m,h+"enter",g,n,c),w.target=v,w.relatedTarget=R,p=w),R=p,y&&g)t:{for(w=y,m=g,h=0,v=w;v;v=gi(v))h++;for(v=0,p=m;p;p=gi(p))v++;for(;0<h-v;)w=gi(w),h--;for(;0<v-h;)m=gi(m),v--;for(;h--;){if(w===m||m!==null&&w===m.alternate)break t;w=gi(w),m=gi(m)}w=null}else w=null;y!==null&&bp(d,f,y,w,!1),g!==null&&R!==null&&bp(d,R,g,w,!0)}}e:{if(f=u?xi(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=iS;else if(Np(f))if(zv)C=aS;else{C=oS;var k=sS}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=lS);if(C&&(C=C(e,u))){$v(d,C,n,c);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Vc(f,"number",f.value)}switch(k=u?xi(u):window,e){case"focusin":(Np(k)||k.contentEditable==="true")&&(Si=k,ed=u,Zs=null);break;case"focusout":Zs=ed=Si=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Lp(d,n,c);break;case"selectionchange":if(dS)break;case"keydown":case"keyup":Lp(d,n,c)}var x;if(Pf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ei?jv(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Fv&&n.locale!=="ko"&&(Ei||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ei&&(x=bv()):(ar=c,If="value"in ar?ar.value:ar.textContent,Ei=!0)),k=Xl(u,A),0<k.length&&(A=new xp(A,e,null,n,c),d.push({event:A,listeners:k}),x?A.data=x:(x=Uv(n),x!==null&&(A.data=x)))),(x=ZE?eS(e,n):tS(e,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(c=new xp("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}Xv(d,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ho(e,n),s!=null&&r.unshift(wo(e,s,i)),s=ho(e,t),s!=null&&r.push(wo(e,s,i))),e=e.return}return r}function gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ho(n,s),a!=null&&o.unshift(wo(n,a,l))):i||(a=ho(n,s),a!=null&&o.push(wo(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var mS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function Fp(e){return(typeof e=="string"?e:""+e).replace(mS,`
`).replace(gS,"")}function yl(e,t,n){if(t=Fp(t),Fp(e)!==t&&n)throw Error(L(425))}function Jl(){}var nd=null,rd=null;function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sd=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(e){return jp.resolve(null).then(e).catch(_S)}:sd;function _S(e){setTimeout(function(){throw e})}function qu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),go(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);go(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),En="__reactFiber$"+us,Eo="__reactProps$"+us,Bn="__reactContainer$"+us,od="__reactEvents$"+us,wS="__reactListeners$"+us,ES="__reactHandles$"+us;function Ur(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Up(e);e!==null;){if(n=e[En])return n;e=Up(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[En]||e[Bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ba(e){return e[Eo]||null}var ld=[],Ti=-1;function Pr(e){return{current:e}}function Re(e){0>Ti||(e.current=ld[Ti],ld[Ti]=null,Ti--)}function Te(e,t){Ti++,ld[Ti]=e.current,e.current=t}var xr={},yt=Pr(xr),At=Pr(!1),Yr=xr;function Ki(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(e){return e=e.childContextTypes,e!=null}function Zl(){Re(At),Re(yt)}function $p(e,t,n){if(yt.current!==xr)throw Error(L(168));Te(yt,t),Te(At,n)}function Zv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,sE(e)||"Unknown",i));return be({},n,r)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Yr=yt.current,Te(yt,e),Te(At,At.current),!0}function zp(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Zv(e,t,Yr),r.__reactInternalMemoizedMergedChildContext=e,Re(At),Re(yt),Te(yt,e)):Re(At),Te(At,n)}var An=null,Wa=!1,Gu=!1;function ey(e){An===null?An=[e]:An.push(e)}function SS(e){Wa=!0,ey(e)}function Dr(){if(!Gu&&An!==null){Gu=!0;var e=0,t=ve;try{var n=An;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,Wa=!1}catch(i){throw An!==null&&(An=An.slice(e+1)),Tv(Cf,Dr),i}finally{ve=t,Gu=!1}}return null}var ki=[],Ii=0,ta=null,na=0,Qt=[],qt=0,Xr=null,On=1,Mn="";function Or(e,t){ki[Ii++]=na,ki[Ii++]=ta,ta=e,na=t}function ty(e,t,n){Qt[qt++]=On,Qt[qt++]=Mn,Qt[qt++]=Xr,Xr=e;var r=On;e=Mn;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var s=32-dn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-dn(t)+i|n<<i|r,Mn=s+e}else On=1<<s|n<<i|r,Mn=e}function Af(e){e.return!==null&&(Or(e,1),ty(e,1,0))}function Lf(e){for(;e===ta;)ta=ki[--Ii],ki[Ii]=null,na=ki[--Ii],ki[Ii]=null;for(;e===Xr;)Xr=Qt[--qt],Qt[qt]=null,Mn=Qt[--qt],Qt[qt]=null,On=Qt[--qt],Qt[qt]=null}var $t=null,Ut=null,Pe=!1,an=null;function ny(e,t){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Ut=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xr!==null?{id:On,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Ut=null,!0):!1;default:return!1}}function ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ud(e){if(Pe){var t=Ut;if(t){var n=t;if(!Vp(e,t)){if(ad(e))throw Error(L(418));t=mr(n.nextSibling);var r=$t;t&&Vp(e,t)?ny(r,n):(e.flags=e.flags&-4097|2,Pe=!1,$t=e)}}else{if(ad(e))throw Error(L(418));e.flags=e.flags&-4097|2,Pe=!1,$t=e}}}function Bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function _l(e){if(e!==$t)return!1;if(!Pe)return Bp(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!id(e.type,e.memoizedProps)),t&&(t=Ut)){if(ad(e))throw ry(),Error(L(418));for(;t;)ny(e,t),t=mr(t.nextSibling)}if(Bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=$t?mr(e.stateNode.nextSibling):null;return!0}function ry(){for(var e=Ut;e;)e=mr(e.nextSibling)}function Yi(){Ut=$t=null,Pe=!1}function Of(e){an===null?an=[e]:an.push(e)}var CS=Gn.ReactCurrentBatchConfig;function sn(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ra=Pr(null),ia=null,Ni=null,Mf=null;function bf(){Mf=Ni=ia=null}function Ff(e){var t=ra.current;Re(ra),e._currentValue=t}function cd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){ia=e,Mf=Ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function Zt(e){var t=e._currentValue;if(Mf!==e)if(e={context:e,memoizedValue:t,next:null},Ni===null){if(ia===null)throw Error(L(308));Ni=e,ia.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var $r=null;function jf(e){$r===null?$r=[e]:$r.push(e)}function iy(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jf(t)):(n.next=i.next,i.next=n),t.interleaved=n,Wn(e,r)}function Wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Wn(e,n)}return i=r.interleaved,i===null?(t.next=t,jf(r)):(t.next=i.next,i.next=t),r.interleaved=t,Wn(e,n)}function Ml(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xf(e,n)}}function Wp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,y=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(f=t,y=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){d=g.call(y,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(y,d,f):g,f==null)break e;d=be({},d,f);break e;case 2:ir=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=y,a=d):c=c.next=y,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zr|=o,e.lanes=o,e.memoizedState=d}}function Hp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var oy=new iv.Component().refs;function dd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return(e=e._reactInternals)?ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),i=yr(e),s=Fn(r,i);s.payload=t,n!=null&&(s.callback=n),t=gr(e,s,i),t!==null&&(fn(t,e,i,r),Ml(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),i=yr(e),s=Fn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=gr(e,s,i),t!==null&&(fn(t,e,i,r),Ml(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=yr(e),i=Fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=gr(e,i,r),t!==null&&(fn(t,e,r,n),Ml(t,e,r))}};function Qp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!yo(n,r)||!yo(i,s):!0}function ly(e,t,n){var r=!1,i=xr,s=t.contextType;return typeof s=="object"&&s!==null?s=Zt(s):(i=Lt(t)?Yr:yt.current,r=t.contextTypes,s=(r=r!=null)?Ki(e,i):xr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function fd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=oy,Uf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Zt(s):(s=Lt(t)?Yr:yt.current,i.context=Ki(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(dd(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===oy&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function wl(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gp(e){var t=e._init;return t(e._payload)}function ay(e){function t(m,h){if(e){var v=m.deletions;v===null?(m.deletions=[h],m.flags|=16):v.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=_r(m,h),m.index=0,m.sibling=null,m}function s(m,h,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<h?(m.flags|=2,h):v):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,v,p){return h===null||h.tag!==6?(h=tc(v,m.mode,p),h.return=m,h):(h=i(h,v),h.return=m,h)}function a(m,h,v,p){var C=v.type;return C===wi?c(m,h,v.props.children,p,v.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&Gp(C)===h.type)?(p=i(h,v.props),p.ref=Is(m,h,v),p.return=m,p):(p=zl(v.type,v.key,v.props,null,m.mode,p),p.ref=Is(m,h,v),p.return=m,p)}function u(m,h,v,p){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=nc(v,m.mode,p),h.return=m,h):(h=i(h,v.children||[]),h.return=m,h)}function c(m,h,v,p,C){return h===null||h.tag!==7?(h=qr(v,m.mode,p,C),h.return=m,h):(h=i(h,v),h.return=m,h)}function d(m,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=tc(""+h,m.mode,v),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ul:return v=zl(h.type,h.key,h.props,null,m.mode,v),v.ref=Is(m,null,h),v.return=m,v;case _i:return h=nc(h,m.mode,v),h.return=m,h;case rr:var p=h._init;return d(m,p(h._payload),v)}if(Ws(h)||Ss(h))return h=qr(h,m.mode,v,null),h.return=m,h;wl(m,h)}return null}function f(m,h,v,p){var C=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(m,h,""+v,p);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ul:return v.key===C?a(m,h,v,p):null;case _i:return v.key===C?u(m,h,v,p):null;case rr:return C=v._init,f(m,h,C(v._payload),p)}if(Ws(v)||Ss(v))return C!==null?null:c(m,h,v,p,null);wl(m,v)}return null}function y(m,h,v,p,C){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(v)||null,l(h,m,""+p,C);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ul:return m=m.get(p.key===null?v:p.key)||null,a(h,m,p,C);case _i:return m=m.get(p.key===null?v:p.key)||null,u(h,m,p,C);case rr:var k=p._init;return y(m,h,v,k(p._payload),C)}if(Ws(p)||Ss(p))return m=m.get(v)||null,c(h,m,p,C,null);wl(h,p)}return null}function g(m,h,v,p){for(var C=null,k=null,x=h,A=h=0,B=null;x!==null&&A<v.length;A++){x.index>A?(B=x,x=null):B=x.sibling;var V=f(m,x,v[A],p);if(V===null){x===null&&(x=B);break}e&&x&&V.alternate===null&&t(m,x),h=s(V,h,A),k===null?C=V:k.sibling=V,k=V,x=B}if(A===v.length)return n(m,x),Pe&&Or(m,A),C;if(x===null){for(;A<v.length;A++)x=d(m,v[A],p),x!==null&&(h=s(x,h,A),k===null?C=x:k.sibling=x,k=x);return Pe&&Or(m,A),C}for(x=r(m,x);A<v.length;A++)B=y(x,m,A,v[A],p),B!==null&&(e&&B.alternate!==null&&x.delete(B.key===null?A:B.key),h=s(B,h,A),k===null?C=B:k.sibling=B,k=B);return e&&x.forEach(function(oe){return t(m,oe)}),Pe&&Or(m,A),C}function w(m,h,v,p){var C=Ss(v);if(typeof C!="function")throw Error(L(150));if(v=C.call(v),v==null)throw Error(L(151));for(var k=C=null,x=h,A=h=0,B=null,V=v.next();x!==null&&!V.done;A++,V=v.next()){x.index>A?(B=x,x=null):B=x.sibling;var oe=f(m,x,V.value,p);if(oe===null){x===null&&(x=B);break}e&&x&&oe.alternate===null&&t(m,x),h=s(oe,h,A),k===null?C=oe:k.sibling=oe,k=oe,x=B}if(V.done)return n(m,x),Pe&&Or(m,A),C;if(x===null){for(;!V.done;A++,V=v.next())V=d(m,V.value,p),V!==null&&(h=s(V,h,A),k===null?C=V:k.sibling=V,k=V);return Pe&&Or(m,A),C}for(x=r(m,x);!V.done;A++,V=v.next())V=y(x,m,A,V.value,p),V!==null&&(e&&V.alternate!==null&&x.delete(V.key===null?A:V.key),h=s(V,h,A),k===null?C=V:k.sibling=V,k=V);return e&&x.forEach(function(q){return t(m,q)}),Pe&&Or(m,A),C}function R(m,h,v,p){if(typeof v=="object"&&v!==null&&v.type===wi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ul:e:{for(var C=v.key,k=h;k!==null;){if(k.key===C){if(C=v.type,C===wi){if(k.tag===7){n(m,k.sibling),h=i(k,v.props.children),h.return=m,m=h;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rr&&Gp(C)===k.type){n(m,k.sibling),h=i(k,v.props),h.ref=Is(m,k,v),h.return=m,m=h;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===wi?(h=qr(v.props.children,m.mode,p,v.key),h.return=m,m=h):(p=zl(v.type,v.key,v.props,null,m.mode,p),p.ref=Is(m,h,v),p.return=m,m=p)}return o(m);case _i:e:{for(k=v.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(m,h.sibling),h=i(h,v.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=nc(v,m.mode,p),h.return=m,m=h}return o(m);case rr:return k=v._init,R(m,h,k(v._payload),p)}if(Ws(v))return g(m,h,v,p);if(Ss(v))return w(m,h,v,p);wl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,v),h.return=m,m=h):(n(m,h),h=tc(v,m.mode,p),h.return=m,m=h),o(m)):n(m,h)}return R}var Xi=ay(!0),uy=ay(!1),Wo={},xn=Pr(Wo),So=Pr(Wo),Co=Pr(Wo);function zr(e){if(e===Wo)throw Error(L(174));return e}function $f(e,t){switch(Te(Co,t),Te(So,e),Te(xn,Wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wc(t,e)}Re(xn),Te(xn,t)}function Ji(){Re(xn),Re(So),Re(Co)}function cy(e){zr(Co.current);var t=zr(xn.current),n=Wc(t,e.type);t!==n&&(Te(So,e),Te(xn,n))}function zf(e){So.current===e&&(Re(xn),Re(So))}var Oe=Pr(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ku=[];function Vf(){for(var e=0;e<Ku.length;e++)Ku[e]._workInProgressVersionPrimary=null;Ku.length=0}var bl=Gn.ReactCurrentDispatcher,Yu=Gn.ReactCurrentBatchConfig,Jr=0,Me=null,Ye=null,tt=null,la=!1,eo=!1,xo=0,xS=0;function pt(){throw Error(L(321))}function Bf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pn(e[n],t[n]))return!1;return!0}function Wf(e,t,n,r,i,s){if(Jr=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bl.current=e===null||e.memoizedState===null?NS:RS,e=n(r,i),eo){s=0;do{if(eo=!1,xo=0,25<=s)throw Error(L(301));s+=1,tt=Ye=null,t.updateQueue=null,bl.current=PS,e=n(r,i)}while(eo)}if(bl.current=aa,t=Ye!==null&&Ye.next!==null,Jr=0,tt=Ye=Me=null,la=!1,t)throw Error(L(300));return e}function Hf(){var e=xo!==0;return xo=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Me.memoizedState=tt=e:tt=tt.next=e,tt}function en(){if(Ye===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=tt===null?Me.memoizedState:tt.next;if(t!==null)tt=t,Ye=e;else{if(e===null)throw Error(L(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},tt===null?Me.memoizedState=tt=e:tt=tt.next=e}return tt}function To(e,t){return typeof t=="function"?t(e):t}function Xu(e){var t=en(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Jr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Me.lanes|=c,Zr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,pn(r,t.memoizedState)||(Rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,Zr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ju(e){var t=en(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);pn(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function dy(){}function fy(e,t){var n=Me,r=en(),i=t(),s=!pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,Qf(my.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ko(9,py.bind(null,n,r,i,t),void 0,null),st===null)throw Error(L(349));Jr&30||hy(n,t,i)}return i}function hy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function py(e,t,n,r){t.value=n,t.getSnapshot=r,gy(t)&&vy(e)}function my(e,t,n){return n(function(){gy(t)&&vy(e)})}function gy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pn(e,n)}catch{return!0}}function vy(e){var t=Wn(e,1);t!==null&&fn(t,e,1,-1)}function Kp(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=IS.bind(null,Me,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yy(){return en().memoizedState}function Fl(e,t,n,r){var i=wn();Me.flags|=e,i.memoizedState=ko(1|t,n,void 0,r===void 0?null:r)}function Qa(e,t,n,r){var i=en();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Bf(r,o.deps)){i.memoizedState=ko(t,n,s,r);return}}Me.flags|=e,i.memoizedState=ko(1|t,n,s,r)}function Yp(e,t){return Fl(8390656,8,e,t)}function Qf(e,t){return Qa(2048,8,e,t)}function _y(e,t){return Qa(4,2,e,t)}function wy(e,t){return Qa(4,4,e,t)}function Ey(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sy(e,t,n){return n=n!=null?n.concat([e]):null,Qa(4,4,Ey.bind(null,t,e),n)}function qf(){}function Cy(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xy(e,t){var n=en();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ty(e,t,n){return Jr&21?(pn(n,t)||(n=Nv(),Me.lanes|=n,Zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=n)}function TS(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=Yu.transition;Yu.transition={};try{e(!1),t()}finally{ve=n,Yu.transition=r}}function ky(){return en().memoizedState}function kS(e,t,n){var r=yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Iy(e))Ny(t,n);else if(n=iy(e,t,n,r),n!==null){var i=St();fn(n,e,r,i),Ry(n,t,r)}}function IS(e,t,n){var r=yr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Iy(e))Ny(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,pn(l,o)){var a=t.interleaved;a===null?(i.next=i,jf(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=iy(e,t,i,r),n!==null&&(i=St(),fn(n,e,r,i),Ry(n,t,r))}}function Iy(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Ny(e,t){eo=la=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ry(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xf(e,n)}}var aa={readContext:Zt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},NS={readContext:Zt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Zt,useEffect:Yp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fl(4194308,4,Ey.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kS.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Kp,useDebugValue:qf,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Kp(!1),t=e[0];return e=TS.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=wn();if(Pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),st===null)throw Error(L(349));Jr&30||hy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Yp(my.bind(null,r,s,e),[e]),r.flags|=2048,ko(9,py.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=wn(),t=st.identifierPrefix;if(Pe){var n=Mn,r=On;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},RS={readContext:Zt,useCallback:Cy,useContext:Zt,useEffect:Qf,useImperativeHandle:Sy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:xy,useReducer:Xu,useRef:yy,useState:function(){return Xu(To)},useDebugValue:qf,useDeferredValue:function(e){var t=en();return Ty(t,Ye.memoizedState,e)},useTransition:function(){var e=Xu(To)[0],t=en().memoizedState;return[e,t]},useMutableSource:dy,useSyncExternalStore:fy,useId:ky,unstable_isNewReconciler:!1},PS={readContext:Zt,useCallback:Cy,useContext:Zt,useEffect:Qf,useImperativeHandle:Sy,useInsertionEffect:_y,useLayoutEffect:wy,useMemo:xy,useReducer:Ju,useRef:yy,useState:function(){return Ju(To)},useDebugValue:qf,useDeferredValue:function(e){var t=en();return Ye===null?t.memoizedState=e:Ty(t,Ye.memoizedState,e)},useTransition:function(){var e=Ju(To)[0],t=en().memoizedState;return[e,t]},useMutableSource:dy,useSyncExternalStore:fy,useId:ky,unstable_isNewReconciler:!1};function Zi(e,t){try{var n="",r=t;do n+=iE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function Py(e,t,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ca||(ca=!0,Cd=r),hd(e,t)},n}function Dy(e,t,n){n=Fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hd(e,t),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Xp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=HS.bind(null,e,t,n),t.then(e,e))}function Jp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fn(-1,1),t.tag=2,gr(n,t,1))),n.lanes|=1),e)}var AS=Gn.ReactCurrentOwner,Rt=!1;function wt(e,t,n,r){t.child=e===null?uy(t,null,n,r):Xi(t,e.child,n,r)}function em(e,t,n,r,i){n=n.render;var s=t.ref;return ji(t,i),r=Wf(e,t,n,r,s,i),n=Hf(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hn(e,t,i)):(Pe&&n&&Af(t),t.flags|=1,wt(e,t,r,i),t.child)}function tm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!th(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ay(e,t,s,r,i)):(e=zl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yo,n(o,r)&&e.ref===t.ref)return Hn(e,t,i)}return t.flags|=1,e=_r(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ay(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(yo(s,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,Hn(e,t,i)}return pd(e,t,n,r,i)}function Ly(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Pi,Ft),Ft|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(Pi,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Pi,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Te(Pi,Ft),Ft|=r;return wt(e,t,i,n),t.child}function Oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function pd(e,t,n,r,i){var s=Lt(n)?Yr:yt.current;return s=Ki(t,s),ji(t,i),n=Wf(e,t,n,r,s,i),r=Hf(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hn(e,t,i)):(Pe&&r&&Af(t),t.flags|=1,wt(e,t,n,i),t.child)}function nm(e,t,n,r,i){if(Lt(n)){var s=!0;ea(t)}else s=!1;if(ji(t,i),t.stateNode===null)jl(e,t),ly(t,n,r),fd(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zt(u):(u=Lt(n)?Yr:yt.current,u=Ki(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&qp(t,o,r,u),ir=!1;var f=t.memoizedState;o.state=f,sa(t,r,o,i),a=t.memoizedState,l!==r||f!==a||At.current||ir?(typeof c=="function"&&(dd(t,n,c,r),a=t.memoizedState),(l=ir||Qp(t,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,sy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sn(t.type,l),o.props=u,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Zt(a):(a=Lt(n)?Yr:yt.current,a=Ki(t,a));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&qp(t,o,r,a),ir=!1,f=t.memoizedState,o.state=f,sa(t,r,o,i);var g=t.memoizedState;l!==d||f!==g||At.current||ir?(typeof y=="function"&&(dd(t,n,y,r),g=t.memoizedState),(u=ir||Qp(t,n,u,r,f,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return md(e,t,n,r,s,i)}function md(e,t,n,r,i,s){Oy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&zp(t,n,!1),Hn(e,t,s);r=t.stateNode,AS.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Xi(t,e.child,null,s),t.child=Xi(t,null,l,s)):wt(e,t,l,s),t.memoizedState=r.state,i&&zp(t,n,!0),t.child}function My(e){var t=e.stateNode;t.pendingContext?$p(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$p(e,t.context,!1),$f(e,t.containerInfo)}function rm(e,t,n,r,i){return Yi(),Of(i),t.flags|=256,wt(e,t,n,r),t.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function by(e,t,n){var r=t.pendingProps,i=Oe.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Te(Oe,i&1),e===null)return ud(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ka(o,r,0,null),e=qr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=vd(n),t.memoizedState=gd,e):Gf(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return LS(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=_r(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_r(l,s):(s=qr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?vd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=gd,r}return s=e.child,e=s.sibling,r=_r(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gf(e,t){return t=Ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function El(e,t,n,r){return r!==null&&Of(r),Xi(t,e.child,null,n),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LS(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Zu(Error(L(422))),El(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ka({mode:"visible",children:r.children},i,0,null),s=qr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xi(t,e.child,null,o),t.child.memoizedState=vd(o),t.memoizedState=gd,s);if(!(t.mode&1))return El(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(L(419)),r=Zu(s,r,void 0),El(e,t,o,r)}if(l=(o&e.childLanes)!==0,Rt||l){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wn(e,i),fn(r,e,i,-1))}return eh(),r=Zu(Error(L(421))),El(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=QS.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ut=mr(i.nextSibling),$t=t,Pe=!0,an=null,e!==null&&(Qt[qt++]=On,Qt[qt++]=Mn,Qt[qt++]=Xr,On=e.id,Mn=e.overflow,Xr=t),t=Gf(t,r.children),t.flags|=4096,t)}function im(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cd(e.return,t,n)}function ec(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wt(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&im(e,n,t);else if(e.tag===19)im(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&oa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ec(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&oa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ec(t,!0,n,null,s);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=_r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OS(e,t,n){switch(t.tag){case 3:My(t),Yi();break;case 5:cy(t);break;case 1:Lt(t.type)&&ea(t);break;case 4:$f(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Te(ra,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?by(e,t,n):(Te(Oe,Oe.current&1),e=Hn(e,t,n),e!==null?e.sibling:null);Te(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ly(e,t,n)}return Hn(e,t,n)}var jy,yd,Uy,$y;jy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yd=function(){};Uy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,zr(xn.current);var s=null;switch(n){case"input":i=$c(e,i),r=$c(e,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=Bc(e,i),r=Bc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jl)}Hc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(co.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(co.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ke("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};$y=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ns(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function MS(e,t,n){var r=t.pendingProps;switch(Lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return Lt(t.type)&&Zl(),mt(t),null;case 3:return r=t.stateNode,Ji(),Re(At),Re(yt),Vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(kd(an),an=null))),yd(e,t),mt(t),null;case 5:zf(t);var i=zr(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)Uy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return mt(t),null}if(e=zr(xn.current),_l(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[En]=t,r[Eo]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Qs.length;i++)ke(Qs[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":hp(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":mp(r,s),ke("invalid",r)}Hc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,l,e),i=["children",""+l]):co.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":cl(r),pp(r,s,!0);break;case"textarea":cl(r),gp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[En]=t,e[Eo]=r,jy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qc(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<Qs.length;i++)ke(Qs[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":hp(e,r),i=$c(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),ke("invalid",e);break;case"textarea":mp(e,r),i=Bc(e,r),ke("invalid",e);break;default:i=r}Hc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?gv(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&pv(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&fo(e,a):typeof a=="number"&&fo(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(co.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ke("scroll",e):a!=null&&yf(e,s,a,o))}switch(n){case"input":cl(e),pp(e,r,!1);break;case"textarea":cl(e),gp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Oi(e,!!r.multiple,s,!1):r.defaultValue!=null&&Oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)$y(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=zr(Co.current),zr(xn.current),_l(t)){if(r=t.stateNode,n=t.memoizedProps,r[En]=t,(s=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:yl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=t,t.stateNode=r}return mt(t),null;case 13:if(Re(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Ut!==null&&t.mode&1&&!(t.flags&128))ry(),Yi(),t.flags|=98560,s=!1;else if(s=_l(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[En]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else an!==null&&(kd(an),an=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Xe===0&&(Xe=3):eh())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return Ji(),yd(e,t),e===null&&_o(t.stateNode.containerInfo),mt(t),null;case 10:return Ff(t.type._context),mt(t),null;case 17:return Lt(t.type)&&Zl(),mt(t),null;case 19:if(Re(Oe),s=t.memoizedState,s===null)return mt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Ns(s,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=oa(e),o!==null){for(t.flags|=128,Ns(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Oe,Oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>es&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304)}else{if(!r)if(e=oa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return mt(t),null}else 2*He()-s.renderingStartTime>es&&n!==1073741824&&(t.flags|=128,r=!0,Ns(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,n=Oe.current,Te(Oe,r?n&1|2:n&1),t):(mt(t),null);case 22:case 23:return Zf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function bS(e,t){switch(Lf(t),t.tag){case 1:return Lt(t.type)&&Zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ji(),Re(At),Re(yt),Vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zf(t),null;case 13:if(Re(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Oe),null;case 4:return Ji(),null;case 10:return Ff(t.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var Sl=!1,gt=!1,FS=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function _d(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var sm=!1;function jS(e,t){if(nd=Kl,e=Wv(),Df(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},Kl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,R=g.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:sn(t.type,w),R);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(p){Fe(t,t.return,p)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return g=sm,sm=!1,g}function to(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&_d(t,n,s)}i=i.next}while(i!==r)}}function qa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zy(e){var t=e.alternate;t!==null&&(e.alternate=null,zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[Eo],delete t[od],delete t[wS],delete t[ES])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vy(e){return e.tag===5||e.tag===3||e.tag===4}function om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}function Sd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sd(e,t,n),e=e.sibling;e!==null;)Sd(e,t,n),e=e.sibling}var lt=null,on=!1;function er(e,t,n){for(n=n.child;n!==null;)By(e,t,n),n=n.sibling}function By(e,t,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Ua,n)}catch{}switch(n.tag){case 5:gt||Ri(n,t);case 6:var r=lt,i=on;lt=null,er(e,t,n),lt=r,on=i,lt!==null&&(on?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(on?(e=lt,n=n.stateNode,e.nodeType===8?qu(e.parentNode,n):e.nodeType===1&&qu(e,n),go(e)):qu(lt,n.stateNode));break;case 4:r=lt,i=on,lt=n.stateNode.containerInfo,on=!0,er(e,t,n),lt=r,on=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_d(n,t,o),i=i.next}while(i!==r)}er(e,t,n);break;case 1:if(!gt&&(Ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Fe(n,t,l)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,er(e,t,n),gt=r):er(e,t,n);break;default:er(e,t,n)}}function lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FS),t.forEach(function(r){var i=qS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:lt=l.stateNode,on=!1;break e;case 3:lt=l.stateNode.containerInfo,on=!0;break e;case 4:lt=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(lt===null)throw Error(L(160));By(s,o,i),lt=null,on=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Fe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wy(t,e),t=t.sibling}function Wy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),_n(e),r&4){try{to(3,e,e.return),qa(3,e)}catch(w){Fe(e,e.return,w)}try{to(5,e,e.return)}catch(w){Fe(e,e.return,w)}}break;case 1:rn(t,e),_n(e),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(rn(t,e),_n(e),r&512&&n!==null&&Ri(n,n.return),e.flags&32){var i=e.stateNode;try{fo(i,"")}catch(w){Fe(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&dv(i,s),Qc(l,o);var u=Qc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?gv(i,d):c==="dangerouslySetInnerHTML"?pv(i,d):c==="children"?fo(i,d):yf(i,c,d,u)}switch(l){case"input":zc(i,s);break;case"textarea":fv(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Oi(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Oi(i,!!s.multiple,s.defaultValue,!0):Oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eo]=s}catch(w){Fe(e,e.return,w)}}break;case 6:if(rn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Fe(e,e.return,w)}}break;case 3:if(rn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(w){Fe(e,e.return,w)}break;case 4:rn(t,e),_n(e);break;case 13:rn(t,e),_n(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xf=He())),r&4&&lm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(u=gt)||c,rn(t,e),gt=u):rn(t,e),_n(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(z=e,c=e.child;c!==null;){for(d=z=c;z!==null;){switch(f=z,y=f.child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Ri(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Fe(r,n,w)}}break;case 5:Ri(f,f.return);break;case 22:if(f.memoizedState!==null){um(d);continue}}y!==null?(y.return=f,z=y):um(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=mv("display",o))}catch(w){Fe(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Fe(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rn(t,e),_n(e),r&4&&lm(e);break;case 21:break;default:rn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vy(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fo(i,""),r.flags&=-33);var s=om(e);Sd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=om(e);Ed(e,l,o);break;default:throw Error(L(161))}}catch(a){Fe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function US(e,t,n){z=e,Hy(e)}function Hy(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sl;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||gt;l=Sl;var u=gt;if(Sl=o,(gt=a)&&!u)for(z=i;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?cm(i):a!==null?(a.return=o,z=a):cm(i);for(;s!==null;)z=s,Hy(s),s=s.sibling;z=i,Sl=l,gt=u}am(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):am(e)}}function am(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||qa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Hp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&go(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}gt||t.flags&512&&wd(t)}catch(f){Fe(t,t.return,f)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function um(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function cm(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qa(4,t)}catch(a){Fe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Fe(t,i,a)}}var s=t.return;try{wd(t)}catch(a){Fe(t,s,a)}break;case 5:var o=t.return;try{wd(t)}catch(a){Fe(t,o,a)}}}catch(a){Fe(t,t.return,a)}if(t===e){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var $S=Math.ceil,ua=Gn.ReactCurrentDispatcher,Kf=Gn.ReactCurrentOwner,Jt=Gn.ReactCurrentBatchConfig,pe=0,st=null,Ge=null,ut=0,Ft=0,Pi=Pr(0),Xe=0,Io=null,Zr=0,Ga=0,Yf=0,no=null,Nt=null,Xf=0,es=1/0,Dn=null,ca=!1,Cd=null,vr=null,Cl=!1,ur=null,da=0,ro=0,xd=null,Ul=-1,$l=0;function St(){return pe&6?He():Ul!==-1?Ul:Ul=He()}function yr(e){return e.mode&1?pe&2&&ut!==0?ut&-ut:CS.transition!==null?($l===0&&($l=Nv()),$l):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Mv(e.type)),e):1}function fn(e,t,n,r){if(50<ro)throw ro=0,xd=null,Error(L(185));zo(e,n,r),(!(pe&2)||e!==st)&&(e===st&&(!(pe&2)&&(Ga|=n),Xe===4&&or(e,ut)),Ot(e,r),n===1&&pe===0&&!(t.mode&1)&&(es=He()+500,Wa&&Dr()))}function Ot(e,t){var n=e.callbackNode;CE(e,t);var r=Gl(e,e===st?ut:0);if(r===0)n!==null&&_p(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_p(n),t===1)e.tag===0?SS(dm.bind(null,e)):ey(dm.bind(null,e)),yS(function(){!(pe&6)&&Dr()}),n=null;else{switch(Rv(r)){case 1:n=Cf;break;case 4:n=kv;break;case 16:n=ql;break;case 536870912:n=Iv;break;default:n=ql}n=Zy(n,Qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qy(e,t){if(Ul=-1,$l=0,pe&6)throw Error(L(327));var n=e.callbackNode;if(Ui()&&e.callbackNode!==n)return null;var r=Gl(e,e===st?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fa(e,r);else{t=r;var i=pe;pe|=2;var s=Gy();(st!==e||ut!==t)&&(Dn=null,es=He()+500,Qr(e,t));do try{BS();break}catch(l){qy(e,l)}while(!0);bf(),ua.current=s,pe=i,Ge!==null?t=0:(st=null,ut=0,t=Xe)}if(t!==0){if(t===2&&(i=Xc(e),i!==0&&(r=i,t=Td(e,i))),t===1)throw n=Io,Qr(e,0),or(e,r),Ot(e,He()),n;if(t===6)or(e,r);else{if(i=e.current.alternate,!(r&30)&&!zS(i)&&(t=fa(e,r),t===2&&(s=Xc(e),s!==0&&(r=s,t=Td(e,s))),t===1))throw n=Io,Qr(e,0),or(e,r),Ot(e,He()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Mr(e,Nt,Dn);break;case 3:if(or(e,r),(r&130023424)===r&&(t=Xf+500-He(),10<t)){if(Gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=sd(Mr.bind(null,e,Nt,Dn),t);break}Mr(e,Nt,Dn);break;case 4:if(or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$S(r/1960))-r,10<r){e.timeoutHandle=sd(Mr.bind(null,e,Nt,Dn),r);break}Mr(e,Nt,Dn);break;case 5:Mr(e,Nt,Dn);break;default:throw Error(L(329))}}}return Ot(e,He()),e.callbackNode===n?Qy.bind(null,e):null}function Td(e,t){var n=no;return e.current.memoizedState.isDehydrated&&(Qr(e,t).flags|=256),e=fa(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&kd(t)),e}function kd(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function zS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~Yf,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function dm(e){if(pe&6)throw Error(L(327));Ui();var t=Gl(e,0);if(!(t&1))return Ot(e,He()),null;var n=fa(e,t);if(e.tag!==0&&n===2){var r=Xc(e);r!==0&&(t=r,n=Td(e,r))}if(n===1)throw n=Io,Qr(e,0),or(e,t),Ot(e,He()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mr(e,Nt,Dn),Ot(e,He()),null}function Jf(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(es=He()+500,Wa&&Dr())}}function ei(e){ur!==null&&ur.tag===0&&!(pe&6)&&Ui();var t=pe;pe|=1;var n=Jt.transition,r=ve;try{if(Jt.transition=null,ve=1,e)return e()}finally{ve=r,Jt.transition=n,pe=t,!(pe&6)&&Dr()}}function Zf(){Ft=Pi.current,Re(Pi)}function Qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vS(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:Ji(),Re(At),Re(yt),Vf();break;case 5:zf(r);break;case 4:Ji();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:Ff(r.type._context);break;case 22:case 23:Zf()}n=n.return}if(st=e,Ge=e=_r(e.current,null),ut=Ft=t,Xe=0,Io=null,Yf=Ga=Zr=0,Nt=no=null,$r!==null){for(t=0;t<$r.length;t++)if(n=$r[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$r=null}return e}function qy(e,t){do{var n=Ge;try{if(bf(),bl.current=aa,la){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}la=!1}if(Jr=0,tt=Ye=Me=null,eo=!1,xo=0,Kf.current=null,n===null||n.return===null){Xe=1,Io=t,Ge=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=ut,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Jp(o);if(y!==null){y.flags&=-257,Zp(y,o,l,s,t),y.mode&1&&Xp(s,u,t),t=y,a=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(a),t.updateQueue=w}else g.add(a);break e}else{if(!(t&1)){Xp(s,u,t),eh();break e}a=Error(L(426))}}else if(Pe&&l.mode&1){var R=Jp(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Zp(R,o,l,s,t),Of(Zi(a,l));break e}}s=a=Zi(a,l),Xe!==4&&(Xe=2),no===null?no=[s]:no.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Py(s,a,t);Wp(s,m);break e;case 1:l=a;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vr===null||!vr.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var p=Dy(s,l,t);Wp(s,p);break e}}s=s.return}while(s!==null)}Yy(n)}catch(C){t=C,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Gy(){var e=ua.current;return ua.current=aa,e===null?aa:e}function eh(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),st===null||!(Zr&268435455)&&!(Ga&268435455)||or(st,ut)}function fa(e,t){var n=pe;pe|=2;var r=Gy();(st!==e||ut!==t)&&(Dn=null,Qr(e,t));do try{VS();break}catch(i){qy(e,i)}while(!0);if(bf(),pe=n,ua.current=r,Ge!==null)throw Error(L(261));return st=null,ut=0,Xe}function VS(){for(;Ge!==null;)Ky(Ge)}function BS(){for(;Ge!==null&&!pE();)Ky(Ge)}function Ky(e){var t=Jy(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Yy(e):Ge=t,Kf.current=null}function Yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bS(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ge=null;return}}else if(n=MS(n,t,Ft),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Xe===0&&(Xe=5)}function Mr(e,t,n){var r=ve,i=Jt.transition;try{Jt.transition=null,ve=1,WS(e,t,n,r)}finally{Jt.transition=i,ve=r}return null}function WS(e,t,n,r){do Ui();while(ur!==null);if(pe&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(xE(e,s),e===st&&(Ge=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,Zy(ql,function(){return Ui(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=ve;ve=1;var l=pe;pe|=4,Kf.current=null,jS(e,n),Wy(n,e),cS(rd),Kl=!!nd,rd=nd=null,e.current=n,US(n),mE(),pe=l,ve=o,Jt.transition=s}else e.current=n;if(Cl&&(Cl=!1,ur=e,da=i),s=e.pendingLanes,s===0&&(vr=null),yE(n.stateNode),Ot(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ca)throw ca=!1,e=Cd,Cd=null,e;return da&1&&e.tag!==0&&Ui(),s=e.pendingLanes,s&1?e===xd?ro++:(ro=0,xd=e):ro=0,Dr(),null}function Ui(){if(ur!==null){var e=Rv(da),t=Jt.transition,n=ve;try{if(Jt.transition=null,ve=16>e?16:e,ur===null)var r=!1;else{if(e=ur,ur=null,da=0,pe&6)throw Error(L(331));var i=pe;for(pe|=4,z=e.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:to(8,c,s)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var f=c.sibling,y=c.return;if(zy(c),c===u){z=null;break}if(f!==null){f.return=y,z=f;break}z=y}}}var g=s.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:to(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,z=m;break e}z=s.return}}var h=e.current;for(z=h;z!==null;){o=z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,z=v;else e:for(o=h;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qa(9,l)}}catch(C){Fe(l,l.return,C)}if(l===o){z=null;break e}var p=l.sibling;if(p!==null){p.return=l.return,z=p;break e}z=l.return}}if(pe=i,Dr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Ua,e)}catch{}r=!0}return r}finally{ve=n,Jt.transition=t}}return!1}function fm(e,t,n){t=Zi(n,t),t=Py(e,t,1),e=gr(e,t,1),t=St(),e!==null&&(zo(e,1,t),Ot(e,t))}function Fe(e,t,n){if(e.tag===3)fm(e,e,n);else for(;t!==null;){if(t.tag===3){fm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){e=Zi(n,e),e=Dy(t,e,1),t=gr(t,e,1),e=St(),t!==null&&(zo(t,1,e),Ot(t,e));break}}t=t.return}}function HS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(ut&n)===n&&(Xe===4||Xe===3&&(ut&130023424)===ut&&500>He()-Xf?Qr(e,0):Yf|=n),Ot(e,t)}function Xy(e,t){t===0&&(e.mode&1?(t=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):t=1);var n=St();e=Wn(e,t),e!==null&&(zo(e,t,n),Ot(e,n))}function QS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xy(e,n)}function qS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Xy(e,n)}var Jy;Jy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rt=!1,OS(e,t,n);Rt=!!(e.flags&131072)}else Rt=!1,Pe&&t.flags&1048576&&ty(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jl(e,t),e=t.pendingProps;var i=Ki(t,yt.current);ji(t,n),i=Wf(null,t,r,e,i,n);var s=Hf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lt(r)?(s=!0,ea(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uf(t),i.updater=Ha,t.stateNode=i,i._reactInternals=t,fd(t,r,e,n),t=md(null,t,r,!0,s,n)):(t.tag=0,Pe&&s&&Af(t),wt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=KS(r),e=sn(r,e),i){case 0:t=pd(null,t,r,e,n);break e;case 1:t=nm(null,t,r,e,n);break e;case 11:t=em(null,t,r,e,n);break e;case 14:t=tm(null,t,r,sn(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),pd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),nm(e,t,r,i,n);case 3:e:{if(My(t),e===null)throw Error(L(387));r=t.pendingProps,s=t.memoizedState,i=s.element,sy(e,t),sa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zi(Error(L(423)),t),t=rm(e,t,r,n,i);break e}else if(r!==i){i=Zi(Error(L(424)),t),t=rm(e,t,r,n,i);break e}else for(Ut=mr(t.stateNode.containerInfo.firstChild),$t=t,Pe=!0,an=null,n=uy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),r===i){t=Hn(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 5:return cy(t),e===null&&ud(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,id(r,i)?o=null:s!==null&&id(r,s)&&(t.flags|=32),Oy(e,t),wt(e,t,o,n),t.child;case 6:return e===null&&ud(t),null;case 13:return by(e,t,n);case 4:return $f(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xi(t,null,r,n):wt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),em(e,t,r,i,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Te(ra,r._currentValue),r._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===i.children&&!At.current){t=Hn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Fn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),cd(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cd(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ji(t,n),i=Zt(i),r=r(i),t.flags|=1,wt(e,t,r,n),t.child;case 14:return r=t.type,i=sn(r,t.pendingProps),i=sn(r.type,i),tm(e,t,r,i,n);case 15:return Ay(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),jl(e,t),t.tag=1,Lt(r)?(e=!0,ea(t)):e=!1,ji(t,n),ly(t,r,i),fd(t,r,i,n),md(null,t,r,!0,e,n);case 19:return Fy(e,t,n);case 22:return Ly(e,t,n)}throw Error(L(156,t.tag))};function Zy(e,t){return Tv(e,t)}function GS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,t,n,r){return new GS(e,t,n,r)}function th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KS(e){if(typeof e=="function")return th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wf)return 11;if(e===Ef)return 14}return 2}function _r(e,t){var n=e.alternate;return n===null?(n=Kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")th(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wi:return qr(n.children,i,s,t);case _f:o=8,i|=8;break;case bc:return e=Kt(12,n,t,i|2),e.elementType=bc,e.lanes=s,e;case Fc:return e=Kt(13,n,t,i),e.elementType=Fc,e.lanes=s,e;case jc:return e=Kt(19,n,t,i),e.elementType=jc,e.lanes=s,e;case av:return Ka(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ov:o=10;break e;case lv:o=9;break e;case wf:o=11;break e;case Ef:o=14;break e;case rr:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Kt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return e=Kt(7,e,r,t),e.lanes=n,e}function Ka(e,t,n,r){return e=Kt(22,e,r,t),e.elementType=av,e.lanes=n,e.stateNode={isHidden:!1},e}function tc(e,t,n){return e=Kt(6,e,null,t),e.lanes=n,e}function nc(e,t,n){return t=Kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nh(e,t,n,r,i,s,o,l,a){return e=new YS(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Kt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(s),e}function XS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e_(e){if(!e)return xr;e=e._reactInternals;e:{if(ai(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Lt(n))return Zv(e,n,t)}return t}function t_(e,t,n,r,i,s,o,l,a){return e=nh(n,r,!0,e,i,s,o,l,a),e.context=e_(null),n=e.current,r=St(),i=yr(n),s=Fn(r,i),s.callback=t??null,gr(n,s,i),e.current.lanes=i,zo(e,i,r),Ot(e,r),e}function Ya(e,t,n,r){var i=t.current,s=St(),o=yr(i);return n=e_(n),t.context===null?t.context=n:t.pendingContext=n,t=Fn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gr(i,t,o),e!==null&&(fn(e,i,o,s),Ml(e,i,o)),o}function ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rh(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function JS(){return null}var n_=typeof reportError=="function"?reportError:function(e){console.error(e)};function ih(e){this._internalRoot=e}Xa.prototype.render=ih.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Ya(e,t,null,null)};Xa.prototype.unmount=ih.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ei(function(){Ya(null,e,null,null)}),t[Bn]=null}};function Xa(e){this._internalRoot=e}Xa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Av();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sr.length&&t!==0&&t<sr[n].priority;n++);sr.splice(n,0,e),n===0&&Ov(e)}};function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pm(){}function ZS(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ha(o);s.call(u)}}var o=t_(t,r,e,0,null,!1,!1,"",pm);return e._reactRootContainer=o,e[Bn]=o.current,_o(e.nodeType===8?e.parentNode:e),ei(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ha(a);l.call(u)}}var a=nh(e,0,!1,null,null,!1,!1,"",pm);return e._reactRootContainer=a,e[Bn]=a.current,_o(e.nodeType===8?e.parentNode:e),ei(function(){Ya(t,a,n,r)}),a}function Za(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ha(o);l.call(a)}}Ya(t,o,e,i)}else o=ZS(n,t,e,i,r);return ha(o)}Pv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hs(t.pendingLanes);n!==0&&(xf(t,n|1),Ot(t,He()),!(pe&6)&&(es=He()+500,Dr()))}break;case 13:ei(function(){var r=Wn(e,1);if(r!==null){var i=St();fn(r,e,1,i)}}),rh(e,1)}};Tf=function(e){if(e.tag===13){var t=Wn(e,134217728);if(t!==null){var n=St();fn(t,e,134217728,n)}rh(e,134217728)}};Dv=function(e){if(e.tag===13){var t=yr(e),n=Wn(e,t);if(n!==null){var r=St();fn(n,e,t,r)}rh(e,t)}};Av=function(){return ve};Lv=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Gc=function(e,t,n){switch(t){case"input":if(zc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ba(r);if(!i)throw Error(L(90));cv(r),zc(r,i)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&Oi(e,!!n.multiple,t,!1)}};_v=Jf;wv=ei;var eC={usingClientEntryPoint:!1,Events:[Bo,xi,Ba,vv,yv,Jf]},Rs={findFiberByHostInstance:Ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tC={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cv(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||JS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Ua=xl.inject(tC),Cn=xl}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(t))throw Error(L(200));return XS(e,t,null,n)};Vt.createRoot=function(e,t){if(!sh(e))throw Error(L(299));var n=!1,r="",i=n_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nh(e,1,!1,null,null,n,!1,r,i),e[Bn]=t.current,_o(e.nodeType===8?e.parentNode:e),new ih(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Cv(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return ei(e)};Vt.hydrate=function(e,t,n){if(!Ja(t))throw Error(L(200));return Za(null,e,t,!0,n)};Vt.hydrateRoot=function(e,t,n){if(!sh(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=n_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=t_(t,null,e,1,n??null,i,!1,s,o),e[Bn]=t.current,_o(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xa(t)};Vt.render=function(e,t,n){if(!Ja(t))throw Error(L(200));return Za(null,e,t,!1,n)};Vt.unmountComponentAtNode=function(e){if(!Ja(e))throw Error(L(40));return e._reactRootContainer?(ei(function(){Za(null,null,e,!1,function(){e._reactRootContainer=null,e[Bn]=null})}),!0):!1};Vt.unstable_batchedUpdates=Jf;Vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ja(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Za(e,t,n,!1,r)};Vt.version="18.2.0-next-9e3b772b8-20220608";function r_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r_)}catch(e){console.error(e)}}r_(),tv.exports=Vt;var eu=tv.exports;const nC=Wg(eu),rC=Bg({__proto__:null,default:nC},[eu]);var mm=eu;Oc.createRoot=mm.createRoot,Oc.hydrateRoot=mm.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}var Be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Be||(Be={}));const gm="popstate";function iC(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=Tn(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),No("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:ti(s))}function r(i,s){Tr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return oC(t,n,r,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sC(){return Math.random().toString(36).substr(2,8)}function vm(e,t){return{usr:e.state,key:e.key,idx:t}}function No(e,t,n,r){return n===void 0&&(n=null),je({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tn(t):t,{state:n,key:t&&t.key||r||sC()})}function ti(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Be.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(je({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Be.Pop;let R=c(),m=R==null?null:R-u;u=R,a&&a({action:l,location:w.location,delta:m})}function f(R,m){l=Be.Push;let h=No(w.location,R,m);n&&n(h,R),u=c()+1;let v=vm(h,u),p=w.createHref(h);try{o.pushState(v,"",p)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(p)}s&&a&&a({action:l,location:w.location,delta:1})}function y(R,m){l=Be.Replace;let h=No(w.location,R,m);n&&n(h,R),u=c();let v=vm(h,u),p=w.createHref(h);o.replaceState(v,"",p),s&&a&&a({action:l,location:w.location,delta:0})}function g(R){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof R=="string"?R:ti(R);return ae(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let w={get action(){return l},get location(){return e(i,o)},listen(R){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(gm,d),a=R,()=>{i.removeEventListener(gm,d),a=null}},createHref(R){return t(i,R)},createURL:g,encodeLocation(R){let m=g(R);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(R){return o.go(R)}};return w}var We;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(We||(We={}));const lC=new Set(["lazy","caseSensitive","path","id","index","children"]);function aC(e){return e.index===!0}function Id(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),aC(i)){let a=je({},i,t(i),{id:l});return r[l]=a,a}else{let a=je({},i,t(i),{id:l,children:void 0});return r[l]=a,i.children&&(a.children=Id(i.children,t,o,r)),a}})}function Di(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Tn(t):t,i=cs(r.pathname||"/",n);if(i==null)return null;let s=i_(e);cC(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=_C(s[l],SC(i));return o}function uC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function i_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ae(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=jn([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),i_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:vC(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of s_(s.path))i(s,o,a)}),t}function s_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=s_(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function cC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dC=/^:\w+$/,fC=3,hC=2,pC=1,mC=10,gC=-2,ym=e=>e==="*";function vC(e,t){let n=e.split("/"),r=n.length;return n.some(ym)&&(r+=gC),t&&(r+=hC),n.filter(i=>!ym(i)).reduce((i,s)=>i+(dC.test(s)?fC:s===""?pC:mC),r)}function yC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function _C(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=wC({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;s.push({params:r,pathname:jn([i,c.pathname]),pathnameBase:kC(jn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=jn([i,c.pathnameBase]))}return s}function wC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:y}=c;if(f==="*"){let w=l[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[d];return y&&!g?u[f]=void 0:u[f]=CC(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function EC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function SC(e){try{return decodeURI(e)}catch(t){return Tr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function CC(e,t){try{return decodeURIComponent(e)}catch(n){return Tr(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Tn(e):e;return{pathname:n?n.startsWith("/")?n:TC(n,t):t,search:IC(r),hash:NC(i)}}function TC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tu(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oh(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Tn(e):(i=je({},e),ae(!i.pathname||!i.pathname.includes("?"),rc("?","pathname","search",i)),ae(!i.pathname||!i.pathname.includes("#"),rc("#","pathname","hash",i)),ae(!i.search||!i.search.includes("#"),rc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else if(r){let d=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d.pop();i.pathname=f.join("/")}l="/"+d.join("/")}else{let d=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let a=xC(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),kC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class lh{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function o_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const l_=["post","put","patch","delete"],RC=new Set(l_),PC=["get",...l_],DC=new Set(PC),AC=new Set([301,302,303,307,308]),LC=new Set([307,308]),ic={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ps={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),u_="remix-router-transitions";function bC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ae(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let S=e.detectErrorBoundary;i=T=>({hasErrorBoundary:S(T)})}else i=MC;let s={},o=Id(e.routes,i,void 0,s),l,a=e.basename||"/",u=je({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,f=null,y=null,g=null,w=e.hydrationData!=null,R=Di(o,e.history.location,a),m=null;if(R==null){let S=Ht(404,{pathname:e.history.location.pathname}),{matches:T,route:P}=km(o);R=T,m={[P.id]:S}}let h=!R.some(S=>S.route.lazy)&&(!R.some(S=>S.route.loader)||e.hydrationData!=null),v,p={historyAction:e.history.action,location:e.history.location,matches:R,initialized:h,navigation:ic,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},C=Be.Pop,k=!1,x,A=!1,B=new Map,V=null,oe=!1,q=!1,X=[],ne=[],te=new Map,ze=0,De=-1,b=new Map,W=new Set,K=new Map,me=new Map,fe=new Set,ht=new Map,Qe=new Map,gn=!1;function kt(){if(c=e.history.listen(S=>{let{action:T,location:P,delta:j}=S;if(gn){gn=!1;return}Tr(Qe.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=ol({currentLocation:p.location,nextLocation:P,historyAction:T});if(H&&j!=null){gn=!0,e.history.go(j*-1),Zn(H,{state:"blocked",location:P,proceed(){Zn(H,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),e.history.go(j)},reset(){let re=new Map(p.blockers);re.set(H,Ps),Ke({blockers:re})}});return}return Ae(T,P)}),n){qC(t,B);let S=()=>GC(t,B);t.addEventListener("pagehide",S),V=()=>t.removeEventListener("pagehide",S)}return p.initialized||Ae(Be.Pop,p.location),v}function vn(){c&&c(),V&&V(),d.clear(),x&&x.abort(),p.fetchers.forEach((S,T)=>O(T)),p.blockers.forEach((S,T)=>fi(T))}function Ar(S){return d.add(S),()=>d.delete(S)}function Ke(S,T){T===void 0&&(T={}),p=je({},p,S);let P=[],j=[];u.v7_fetcherPersist&&p.fetchers.forEach((H,re)=>{H.state==="idle"&&(fe.has(re)?j.push(re):P.push(re))}),[...d].forEach(H=>H(p,{deletedFetchers:j,unstable_viewTransitionOpts:T.viewTransitionOpts,unstable_flushSync:T.flushSync===!0})),u.v7_fetcherPersist&&(P.forEach(H=>p.fetchers.delete(H)),j.forEach(H=>O(H)))}function tn(S,T,P){var j,H;let{flushSync:re}=P===void 0?{}:P,ee=p.actionData!=null&&p.navigation.formMethod!=null&&ln(p.navigation.formMethod)&&p.navigation.state==="loading"&&((j=S.state)==null?void 0:j._isRedirect)!==!0,J;T.actionData?Object.keys(T.actionData).length>0?J=T.actionData:J=null:ee?J=p.actionData:J=null;let G=T.loaderData?Tm(p.loaderData,T.loaderData,T.matches||[],T.errors):p.loaderData,he=p.blockers;he.size>0&&(he=new Map(he),he.forEach((we,Le)=>he.set(Le,Ps)));let ot=k===!0||p.navigation.formMethod!=null&&ln(p.navigation.formMethod)&&((H=S.state)==null?void 0:H._isRedirect)!==!0;l&&(o=l,l=void 0),oe||C===Be.Pop||(C===Be.Push?e.history.push(S,S.state):C===Be.Replace&&e.history.replace(S,S.state));let le;if(C===Be.Pop){let we=B.get(p.location.pathname);we&&we.has(S.pathname)?le={currentLocation:p.location,nextLocation:S}:B.has(S.pathname)&&(le={currentLocation:S,nextLocation:p.location})}else if(A){let we=B.get(p.location.pathname);we?we.add(S.pathname):(we=new Set([S.pathname]),B.set(p.location.pathname,we)),le={currentLocation:p.location,nextLocation:S}}Ke(je({},T,{actionData:J,loaderData:G,historyAction:C,location:S,initialized:!0,navigation:ic,revalidation:"idle",restoreScrollPosition:sp(S,T.matches||p.matches),preventScrollReset:ot,blockers:he}),{viewTransitionOpts:le,flushSync:re===!0}),C=Be.Pop,k=!1,A=!1,oe=!1,q=!1,X=[],ne=[]}async function _e(S,T){if(typeof S=="number"){e.history.go(S);return}let P=Nd(p.location,p.matches,a,u.v7_prependBasename,S,T==null?void 0:T.fromRouteId,T==null?void 0:T.relative),{path:j,submission:H,error:re}=_m(u.v7_normalizeFormMethod,!1,P,T),ee=p.location,J=No(p.location,j,T&&T.state);J=je({},J,e.history.encodeLocation(J));let G=T&&T.replace!=null?T.replace:void 0,he=Be.Push;G===!0?he=Be.Replace:G===!1||H!=null&&ln(H.formMethod)&&H.formAction===p.location.pathname+p.location.search&&(he=Be.Replace);let ot=T&&"preventScrollReset"in T?T.preventScrollReset===!0:void 0,le=(T&&T.unstable_flushSync)===!0,we=ol({currentLocation:ee,nextLocation:J,historyAction:he});if(we){Zn(we,{state:"blocked",location:J,proceed(){Zn(we,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),_e(S,T)},reset(){let Le=new Map(p.blockers);Le.set(we,Ps),Ke({blockers:Le})}});return}return await Ae(he,J,{submission:H,pendingError:re,preventScrollReset:ot,replace:T&&T.replace,enableViewTransition:T&&T.unstable_viewTransition,flushSync:le})}function Mt(){if(I(),Ke({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){Ae(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}Ae(C||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function Ae(S,T,P){x&&x.abort(),x=null,C=S,oe=(P&&P.startUninterruptedRevalidation)===!0,Rw(p.location,p.matches),k=(P&&P.preventScrollReset)===!0,A=(P&&P.enableViewTransition)===!0;let j=l||o,H=P&&P.overrideNavigation,re=Di(j,T,a),ee=(P&&P.flushSync)===!0;if(!re){let Le=Ht(404,{pathname:T.pathname}),{matches:_t,route:yn}=km(j);hi(),tn(T,{matches:_t,loaderData:{},errors:{[yn.id]:Le}},{flushSync:ee});return}if(p.initialized&&!q&&zC(p.location,T)&&!(P&&P.submission&&ln(P.submission.formMethod))){tn(T,{matches:re},{flushSync:ee});return}x=new AbortController;let J=As(e.history,T,x.signal,P&&P.submission),G,he;if(P&&P.pendingError)he={[io(re).route.id]:P.pendingError};else if(P&&P.submission&&ln(P.submission.formMethod)){let Le=await Jn(J,T,P.submission,re,{replace:P.replace,flushSync:ee});if(Le.shortCircuited)return;G=Le.pendingActionData,he=Le.pendingActionError,H=sc(T,P.submission),ee=!1,J=new Request(J.url,{signal:J.signal})}let{shortCircuited:ot,loaderData:le,errors:we}=await il(J,T,re,H,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,ee,G,he);ot||(x=null,tn(T,je({matches:re},G?{actionData:G}:{},{loaderData:le,errors:we})))}async function Jn(S,T,P,j,H){H===void 0&&(H={}),I();let re=HC(T,P);Ke({navigation:re},{flushSync:H.flushSync===!0});let ee,J=Pd(j,T);if(!J.route.action&&!J.route.lazy)ee={type:We.error,error:Ht(405,{method:S.method,pathname:T.pathname,routeId:J.route.id})};else if(ee=await Ds("action",S,J,j,s,i,a),S.signal.aborted)return{shortCircuited:!0};if($i(ee)){let G;return H&&H.replace!=null?G=H.replace:G=ee.location===p.location.pathname+p.location.search,await di(p,ee,{submission:P,replace:G}),{shortCircuited:!0}}if(so(ee)){let G=io(j,J.route.id);return(H&&H.replace)!==!0&&(C=Be.Push),{pendingActionData:{},pendingActionError:{[G.route.id]:ee.error}}}if(Vr(ee))throw Ht(400,{type:"defer-action"});return{pendingActionData:{[J.route.id]:ee.data}}}async function il(S,T,P,j,H,re,ee,J,G,he){let ot=j||sc(T,H),le=H||re||Rm(ot),we=l||o,[Le,_t]=wm(e.history,p,P,le,T,q,X,ne,fe,K,W,we,a,G,he);if(hi(Ee=>!(P&&P.some(Wt=>Wt.route.id===Ee))||Le&&Le.some(Wt=>Wt.route.id===Ee)),De=++ze,Le.length===0&&_t.length===0){let Ee=bt();return tn(T,je({matches:P,loaderData:{},errors:he||null},G?{actionData:G}:{},Ee?{fetchers:new Map(p.fetchers)}:{}),{flushSync:J}),{shortCircuited:!0}}if(!oe){_t.forEach(Wt=>{let qe=p.fetchers.get(Wt.key),Lr=Ls(void 0,qe?qe.data:void 0);p.fetchers.set(Wt.key,Lr)});let Ee=G||p.actionData;Ke(je({navigation:ot},Ee?Object.keys(Ee).length===0?{actionData:null}:{actionData:Ee}:{},_t.length>0?{fetchers:new Map(p.fetchers)}:{}),{flushSync:J})}_t.forEach(Ee=>{te.has(Ee.key)&&de(Ee.key),Ee.controller&&te.set(Ee.key,Ee.controller)});let yn=()=>_t.forEach(Ee=>de(Ee.key));x&&x.signal.addEventListener("abort",yn);let{results:Es,loaderResults:Iu,fetcherResults:pi}=await _(p.matches,P,Le,_t,S);if(S.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",yn),_t.forEach(Ee=>te.delete(Ee.key));let nn=Im(Es);if(nn){if(nn.idx>=Le.length){let Ee=_t[nn.idx-Le.length].key;W.add(Ee)}return await di(p,nn.result,{replace:ee}),{shortCircuited:!0}}let{loaderData:ll,errors:Nu}=xm(p,P,Le,Iu,he,_t,pi,ht);ht.forEach((Ee,Wt)=>{Ee.subscribe(qe=>{(qe||Ee.done)&&ht.delete(Wt)})});let Ru=bt(),Pu=Rn(De),mi=Ru||Pu||_t.length>0;return je({loaderData:ll,errors:Nu},mi?{fetchers:new Map(p.fetchers)}:{})}function sl(S,T,P,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");te.has(S)&&de(S);let H=(j&&j.unstable_flushSync)===!0,re=l||o,ee=Nd(p.location,p.matches,a,u.v7_prependBasename,P,T,j==null?void 0:j.relative),J=Di(re,ee,a);if(!J){U(S,T,Ht(404,{pathname:ee}),{flushSync:H});return}let{path:G,submission:he,error:ot}=_m(u.v7_normalizeFormMethod,!0,ee,j);if(ot){U(S,T,ot,{flushSync:H});return}let le=Pd(J,G);if(k=(j&&j.preventScrollReset)===!0,he&&ln(he.formMethod)){rp(S,T,G,le,J,H,he);return}K.set(S,{routeId:T,path:G}),ip(S,T,G,le,J,H,he)}async function rp(S,T,P,j,H,re,ee){if(I(),K.delete(S),!j.route.action&&!j.route.lazy){let qe=Ht(405,{method:ee.formMethod,pathname:P,routeId:T});U(S,T,qe,{flushSync:re});return}let J=p.fetchers.get(S);N(S,QC(ee,J),{flushSync:re});let G=new AbortController,he=As(e.history,P,G.signal,ee);te.set(S,G);let ot=ze,le=await Ds("action",he,j,H,s,i,a);if(he.signal.aborted){te.get(S)===G&&te.delete(S);return}if(fe.has(S)){N(S,nr(void 0));return}if($i(le))if(te.delete(S),De>ot){N(S,nr(void 0));return}else return W.add(S),N(S,Ls(ee)),di(p,le,{fetcherSubmission:ee});if(so(le)){U(S,T,le.error);return}if(Vr(le))throw Ht(400,{type:"defer-action"});let we=p.navigation.location||p.location,Le=As(e.history,we,G.signal),_t=l||o,yn=p.navigation.state!=="idle"?Di(_t,p.navigation.location,a):p.matches;ae(yn,"Didn't find any matches after fetcher action");let Es=++ze;b.set(S,Es);let Iu=Ls(ee,le.data);p.fetchers.set(S,Iu);let[pi,nn]=wm(e.history,p,yn,ee,we,q,X,ne,fe,K,W,_t,a,{[j.route.id]:le.data},void 0);nn.filter(qe=>qe.key!==S).forEach(qe=>{let Lr=qe.key,op=p.fetchers.get(Lr),Dw=Ls(void 0,op?op.data:void 0);p.fetchers.set(Lr,Dw),te.has(Lr)&&de(Lr),qe.controller&&te.set(Lr,qe.controller)}),Ke({fetchers:new Map(p.fetchers)});let ll=()=>nn.forEach(qe=>de(qe.key));G.signal.addEventListener("abort",ll);let{results:Nu,loaderResults:Ru,fetcherResults:Pu}=await _(p.matches,yn,pi,nn,Le);if(G.signal.aborted)return;G.signal.removeEventListener("abort",ll),b.delete(S),te.delete(S),nn.forEach(qe=>te.delete(qe.key));let mi=Im(Nu);if(mi){if(mi.idx>=pi.length){let qe=nn[mi.idx-pi.length].key;W.add(qe)}return di(p,mi.result)}let{loaderData:Ee,errors:Wt}=xm(p,p.matches,pi,Ru,void 0,nn,Pu,ht);if(p.fetchers.has(S)){let qe=nr(le.data);p.fetchers.set(S,qe)}Rn(Es),p.navigation.state==="loading"&&Es>De?(ae(C,"Expected pending action"),x&&x.abort(),tn(p.navigation.location,{matches:yn,loaderData:Ee,errors:Wt,fetchers:new Map(p.fetchers)})):(Ke({errors:Wt,loaderData:Tm(p.loaderData,Ee,yn,Wt),fetchers:new Map(p.fetchers)}),q=!1)}async function ip(S,T,P,j,H,re,ee){let J=p.fetchers.get(S);N(S,Ls(ee,J?J.data:void 0),{flushSync:re});let G=new AbortController,he=As(e.history,P,G.signal);te.set(S,G);let ot=ze,le=await Ds("loader",he,j,H,s,i,a);if(Vr(le)&&(le=await f_(le,he.signal,!0)||le),te.get(S)===G&&te.delete(S),!he.signal.aborted){if(fe.has(S)){N(S,nr(void 0));return}if($i(le))if(De>ot){N(S,nr(void 0));return}else{W.add(S),await di(p,le);return}if(so(le)){U(S,T,le.error);return}ae(!Vr(le),"Unhandled fetcher deferred data"),N(S,nr(le.data))}}async function di(S,T,P){let{submission:j,fetcherSubmission:H,replace:re}=P===void 0?{}:P;T.revalidate&&(q=!0);let ee=No(S.location,T.location,{_isRedirect:!0});if(ae(ee,"Expected a location on the redirect navigation"),n){let we=!1;if(T.reloadDocument)we=!0;else if(a_.test(T.location)){const Le=e.history.createURL(T.location);we=Le.origin!==t.location.origin||cs(Le.pathname,a)==null}if(we){re?t.location.replace(T.location):t.location.assign(T.location);return}}x=null;let J=re===!0?Be.Replace:Be.Push,{formMethod:G,formAction:he,formEncType:ot}=S.navigation;!j&&!H&&G&&he&&ot&&(j=Rm(S.navigation));let le=j||H;if(LC.has(T.status)&&le&&ln(le.formMethod))await Ae(J,ee,{submission:je({},le,{formAction:T.location}),preventScrollReset:k});else{let we=sc(ee,j);await Ae(J,ee,{overrideNavigation:we,fetcherSubmission:H,preventScrollReset:k})}}async function _(S,T,P,j,H){let re=await Promise.all([...P.map(G=>Ds("loader",H,G,T,s,i,a)),...j.map(G=>G.matches&&G.match&&G.controller?Ds("loader",As(e.history,G.path,G.controller.signal),G.match,G.matches,s,i,a):{type:We.error,error:Ht(404,{pathname:G.path})})]),ee=re.slice(0,P.length),J=re.slice(P.length);return await Promise.all([Nm(S,P,ee,ee.map(()=>H.signal),!1,p.loaderData),Nm(S,j.map(G=>G.match),J,j.map(G=>G.controller?G.controller.signal:null),!0)]),{results:re,loaderResults:ee,fetcherResults:J}}function I(){q=!0,X.push(...hi()),K.forEach((S,T)=>{te.has(T)&&(ne.push(T),de(T))})}function N(S,T,P){P===void 0&&(P={}),p.fetchers.set(S,T),Ke({fetchers:new Map(p.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function U(S,T,P,j){j===void 0&&(j={});let H=io(p.matches,T);O(S),Ke({errors:{[H.route.id]:P},fetchers:new Map(p.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function F(S){return u.v7_fetcherPersist&&(me.set(S,(me.get(S)||0)+1),fe.has(S)&&fe.delete(S)),p.fetchers.get(S)||OC}function O(S){let T=p.fetchers.get(S);te.has(S)&&!(T&&T.state==="loading"&&b.has(S))&&de(S),K.delete(S),b.delete(S),W.delete(S),fe.delete(S),p.fetchers.delete(S)}function Y(S){if(u.v7_fetcherPersist){let T=(me.get(S)||0)-1;T<=0?(me.delete(S),fe.add(S)):me.set(S,T)}else O(S);Ke({fetchers:new Map(p.fetchers)})}function de(S){let T=te.get(S);ae(T,"Expected fetch controller: "+S),T.abort(),te.delete(S)}function Ve(S){for(let T of S){let P=F(T),j=nr(P.data);p.fetchers.set(T,j)}}function bt(){let S=[],T=!1;for(let P of W){let j=p.fetchers.get(P);ae(j,"Expected fetcher: "+P),j.state==="loading"&&(W.delete(P),S.push(P),T=!0)}return Ve(S),T}function Rn(S){let T=[];for(let[P,j]of b)if(j<S){let H=p.fetchers.get(P);ae(H,"Expected fetcher: "+P),H.state==="loading"&&(de(P),b.delete(P),T.push(P))}return Ve(T),T.length>0}function Tu(S,T){let P=p.blockers.get(S)||Ps;return Qe.get(S)!==T&&Qe.set(S,T),P}function fi(S){p.blockers.delete(S),Qe.delete(S)}function Zn(S,T){let P=p.blockers.get(S)||Ps;ae(P.state==="unblocked"&&T.state==="blocked"||P.state==="blocked"&&T.state==="blocked"||P.state==="blocked"&&T.state==="proceeding"||P.state==="blocked"&&T.state==="unblocked"||P.state==="proceeding"&&T.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+T.state);let j=new Map(p.blockers);j.set(S,T),Ke({blockers:j})}function ol(S){let{currentLocation:T,nextLocation:P,historyAction:j}=S;if(Qe.size===0)return;Qe.size>1&&Tr(!1,"A router only supports one blocker at a time");let H=Array.from(Qe.entries()),[re,ee]=H[H.length-1],J=p.blockers.get(re);if(!(J&&J.state==="proceeding")&&ee({currentLocation:T,nextLocation:P,historyAction:j}))return re}function hi(S){let T=[];return ht.forEach((P,j)=>{(!S||S(j))&&(P.cancel(),T.push(j),ht.delete(j))}),T}function ku(S,T,P){if(f=S,g=T,y=P||null,!w&&p.navigation===ic){w=!0;let j=sp(p.location,p.matches);j!=null&&Ke({restoreScrollPosition:j})}return()=>{f=null,g=null,y=null}}function ws(S,T){return y&&y(S,T.map(j=>uC(j,p.loaderData)))||S.key}function Rw(S,T){if(f&&g){let P=ws(S,T);f[P]=g()}}function sp(S,T){if(f){let P=ws(S,T),j=f[P];if(typeof j=="number")return j}return null}function Pw(S){s={},l=Id(S,i,void 0,s)}return v={get basename(){return a},get state(){return p},get routes(){return o},get window(){return t},initialize:kt,subscribe:Ar,enableScrollRestoration:ku,navigate:_e,fetch:sl,revalidate:Mt,createHref:S=>e.history.createHref(S),encodeLocation:S=>e.history.encodeLocation(S),getFetcher:F,deleteFetcher:Y,dispose:vn,getBlocker:Tu,deleteBlocker:fi,_internalFetchControllers:te,_internalActiveDeferreds:ht,_internalSetRoutes:Pw},v}function FC(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Nd(e,t,n,r,i,s,o){let l,a;if(s){l=[];for(let c of t)if(l.push(c),c.route.id===s){a=c;break}}else l=t,a=t[t.length-1];let u=oh(i||".",tu(l).map(c=>c.pathnameBase),cs(e.pathname,n)||e.pathname,o==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&a&&a.route.index&&!ah(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:jn([n,u.pathname])),ti(u)}function _m(e,t,n,r){if(!r||!FC(r))return{path:n};if(r.formMethod&&!WC(r.formMethod))return{path:n,error:Ht(405,{method:r.formMethod})};let i=()=>({path:n,error:Ht(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),l=d_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ln(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,g)=>{let[w,R]=g;return""+y+w+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ln(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ae(typeof FormData=="function","FormData is not available in this environment");let a,u;if(r.formData)a=Rd(r.formData),u=r.formData;else if(r.body instanceof FormData)a=Rd(r.body),u=r.body;else if(r.body instanceof URLSearchParams)a=r.body,u=Cm(a);else if(r.body==null)a=new URLSearchParams,u=new FormData;else try{a=new URLSearchParams(r.body),u=Cm(a)}catch{return i()}let c={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ln(c.formMethod))return{path:n,submission:c};let d=Tn(n);return t&&d.search&&ah(d.search)&&a.append("index",""),d.search="?"+a,{path:ti(d),submission:c}}function jC(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function wm(e,t,n,r,i,s,o,l,a,u,c,d,f,y,g){let w=g?Object.values(g)[0]:y?Object.values(y)[0]:void 0,R=e.createURL(t.location),m=e.createURL(i),h=g?Object.keys(g)[0]:void 0,p=jC(n,h).filter((k,x)=>{if(k.route.lazy)return!0;if(k.route.loader==null)return!1;if(UC(t.loaderData,t.matches[x],k)||o.some(V=>V===k.route.id))return!0;let A=t.matches[x],B=k;return Em(k,je({currentUrl:R,currentParams:A.params,nextUrl:m,nextParams:B.params},r,{actionResult:w,defaultShouldRevalidate:s||R.pathname+R.search===m.pathname+m.search||R.search!==m.search||c_(A,B)}))}),C=[];return u.forEach((k,x)=>{if(!n.some(q=>q.route.id===k.routeId)||a.has(x))return;let A=Di(d,k.path,f);if(!A){C.push({key:x,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let B=t.fetchers.get(x),V=Pd(A,k.path),oe=!1;c.has(x)?oe=!1:l.includes(x)?oe=!0:B&&B.state!=="idle"&&B.data===void 0?oe=s:oe=Em(V,je({currentUrl:R,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:w,defaultShouldRevalidate:s})),oe&&C.push({key:x,routeId:k.routeId,path:k.path,matches:A,match:V,controller:new AbortController})}),[p,C]}function UC(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function c_(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Em(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Sm(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ae(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";Tr(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!lC.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,je({},t(i),{lazy:void 0}))}async function Ds(e,t,n,r,i,s,o,l){l===void 0&&(l={});let a,u,c,d=g=>{let w,R=new Promise((m,h)=>w=h);return c=()=>w(),t.signal.addEventListener("abort",c),Promise.race([g({request:t,params:n.params,context:l.requestContext}),R])};try{let g=n.route[e];if(n.route.lazy)if(g){let w,R=await Promise.all([d(g).catch(m=>{w=m}),Sm(n.route,s,i)]);if(w)throw w;u=R[0]}else if(await Sm(n.route,s,i),g=n.route[e],g)u=await d(g);else if(e==="action"){let w=new URL(t.url),R=w.pathname+w.search;throw Ht(405,{method:t.method,pathname:R,routeId:n.route.id})}else return{type:We.data,data:void 0};else if(g)u=await d(g);else{let w=new URL(t.url),R=w.pathname+w.search;throw Ht(404,{pathname:R})}ae(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(g){a=We.error,u=g}finally{c&&t.signal.removeEventListener("abort",c)}if(BC(u)){let g=u.status;if(AC.has(g)){let m=u.headers.get("Location");if(ae(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!a_.test(m))m=Nd(new URL(t.url),r.slice(0,r.indexOf(n)+1),o,!0,m);else if(!l.isStaticRequest){let h=new URL(t.url),v=m.startsWith("//")?new URL(h.protocol+m):new URL(m),p=cs(v.pathname,o)!=null;v.origin===h.origin&&p&&(m=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw u.headers.set("Location",m),u;return{type:We.redirect,status:g,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:a===We.error?We.error:We.data,response:u};let w,R=u.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?w=await u.json():w=await u.text(),a===We.error?{type:a,error:new lh(g,u.statusText,w),headers:u.headers}:{type:We.data,data:w,statusCode:u.status,headers:u.headers}}if(a===We.error)return{type:a,error:u};if(VC(u)){var f,y;return{type:We.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((y=u.init)==null?void 0:y.headers)&&new Headers(u.init.headers)}}return{type:We.data,data:u}}function As(e,t,n,r){let i=e.createURL(d_(t)).toString(),s={signal:n};if(r&&ln(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Rd(r.formData):s.body=r.formData}return new Request(i,s)}function Rd(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Cm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function $C(e,t,n,r,i){let s={},o=null,l,a=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(ae(!$i(c),"Cannot handle redirect results in processLoaderData"),so(c)){let y=io(e,f),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=g),s[f]=void 0,a||(a=!0,l=o_(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Vr(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(l=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:u}}function xm(e,t,n,r,i,s,o,l){let{loaderData:a,errors:u}=$C(t,n,r,i,l);for(let c=0;c<s.length;c++){let{key:d,match:f,controller:y}=s[c];ae(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(!(y&&y.signal.aborted))if(so(g)){let w=io(e.matches,f==null?void 0:f.route.id);u&&u[w.route.id]||(u=je({},u,{[w.route.id]:g.error})),e.fetchers.delete(d)}else if($i(g))ae(!1,"Unhandled fetcher revalidation redirect");else if(Vr(g))ae(!1,"Unhandled fetcher deferred data");else{let w=nr(g.data);e.fetchers.set(d,w)}}return{loaderData:a,errors:u}}function Tm(e,t,n,r){let i=je({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function io(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function km(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ht(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",l='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new lh(e||500,o,new Error(l),!0)}function Im(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if($i(n))return{result:n,idx:t}}}function d_(e){let t=typeof e=="string"?Tn(e):e;return ti(je({},t,{hash:""}))}function zC(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Vr(e){return e.type===We.deferred}function so(e){return e.type===We.error}function $i(e){return(e&&e.type)===We.redirect}function VC(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function BC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function WC(e){return DC.has(e.toLowerCase())}function ln(e){return RC.has(e.toLowerCase())}async function Nm(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],a=t[o];if(!a)continue;let u=e.find(d=>d.route.id===a.route.id),c=u!=null&&!c_(u,a)&&(s&&s[a.route.id])!==void 0;if(Vr(l)&&(i||c)){let d=r[o];ae(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await f_(l,d,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function f_(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:We.data,data:e.deferredData.unwrappedData}}catch(i){return{type:We.error,error:i}}return{type:We.data,data:e.deferredData.data}}}function ah(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Pd(e,t){let n=typeof t=="string"?Tn(t).search:t.search;if(e[e.length-1].route.index&&ah(n||""))return e[e.length-1];let r=tu(e);return r[r.length-1]}function Rm(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function sc(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HC(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ls(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function QC(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function nr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qC(e,t){try{let n=e.sessionStorage.getItem(u_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function GC(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(u_,JSON.stringify(n))}catch(r){Tr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const nu=E.createContext(null),h_=E.createContext(null),ds=E.createContext(null),ru=E.createContext(null),Kn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),p_=E.createContext(null);function KC(e,t){let{relative:n}=t===void 0?{}:t;Ho()||ae(!1);let{basename:r,navigator:i}=E.useContext(ds),{hash:s,pathname:o,search:l}=g_(e,{relative:n}),a=o;return r!=="/"&&(a=o==="/"?r:jn([r,o])),i.createHref({pathname:a,search:l,hash:s})}function Ho(){return E.useContext(ru)!=null}function Qo(){return Ho()||ae(!1),E.useContext(ru).location}function m_(e){E.useContext(ds).static||E.useLayoutEffect(e)}function qo(){let{isDataRoute:e}=E.useContext(Kn);return e?u1():YC()}function YC(){Ho()||ae(!1);let e=E.useContext(nu),{basename:t,navigator:n}=E.useContext(ds),{matches:r}=E.useContext(Kn),{pathname:i}=Qo(),s=JSON.stringify(tu(r).map(a=>a.pathnameBase)),o=E.useRef(!1);return m_(()=>{o.current=!0}),E.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=oh(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:jn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}const XC=E.createContext(null);function JC(e){let t=E.useContext(Kn).outlet;return t&&E.createElement(XC.Provider,{value:e},t)}function uh(){let{matches:e}=E.useContext(Kn),t=e[e.length-1];return t?t.params:{}}function g_(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(Kn),{pathname:i}=Qo(),s=JSON.stringify(tu(r).map(o=>o.pathnameBase));return E.useMemo(()=>oh(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function ZC(e,t,n){Ho()||ae(!1);let{navigator:r}=E.useContext(ds),{matches:i}=E.useContext(Kn),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Qo(),u;if(t){var c;let w=typeof t=="string"?Tn(t):t;l==="/"||(c=w.pathname)!=null&&c.startsWith(l)||ae(!1),u=w}else u=a;let d=u.pathname||"/",f=l==="/"?d:d.slice(l.length)||"/",y=Di(e,{pathname:f}),g=i1(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:jn([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:jn([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return t&&g?E.createElement(ru.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},g):g}function e1(){let e=a1(),t=o_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,null)}const t1=E.createElement(e1,null);class n1 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Kn.Provider,{value:this.props.routeContext},E.createElement(p_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r1(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(nu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Kn.Provider,{value:t},r)}function i1(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||ae(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,d=null;n&&(d=a.route.errorElement||t1);let f=t.concat(s.slice(0,u+1)),y=()=>{let g;return c?g=d:a.route.Component?g=E.createElement(a.route.Component,null):a.route.element?g=a.route.element:g=l,E.createElement(r1,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:g})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?E.createElement(n1,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):y()},null)}var v_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v_||{}),ma=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ma||{});function s1(e){let t=E.useContext(nu);return t||ae(!1),t}function o1(e){let t=E.useContext(h_);return t||ae(!1),t}function l1(e){let t=E.useContext(Kn);return t||ae(!1),t}function y_(e){let t=l1(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function a1(){var e;let t=E.useContext(p_),n=o1(ma.UseRouteError),r=y_(ma.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function u1(){let{router:e}=s1(v_.UseNavigateStable),t=y_(ma.UseNavigateStable),n=E.useRef(!1);return m_(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pa({fromRouteId:t},s)))},[e,t])}function c1(e){return JC(e.context)}function d1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Be.Pop,navigator:s,static:o=!1}=e;Ho()&&ae(!1);let l=t.replace(/^\/*/,"/"),a=E.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Tn(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:y="default"}=r,g=E.useMemo(()=>{let w=cs(u,l);return w==null?null:{location:{pathname:w,search:c,hash:d,state:f,key:y},navigationType:i}},[l,u,c,d,f,y,i]);return g==null?null:E.createElement(ds.Provider,{value:a},E.createElement(ru.Provider,{children:n,value:g}))}new Promise(()=>{});function f1(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:E.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}function h1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function p1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function m1(e,t){return e.button===0&&(!t||t==="_self")&&!p1(e)}function Dd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function g1(e,t){let n=Dd(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const v1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function y1(e,t){return bC({basename:t==null?void 0:t.basename,future:Ro({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:iC({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||_1(),routes:e,mapRouteProperties:f1,window:t==null?void 0:t.window}).initialize()}function _1(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ro({},t,{errors:w1(t.errors)})),t}function w1(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new lh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const E1=E.createContext({isTransitioning:!1}),S1=E.createContext(new Map),C1="startTransition",Pm=qi[C1],x1="flushSync",Dm=rC[x1];function T1(e){Pm?Pm(e):e()}function Os(e){Dm?Dm(e):e()}let k1=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function I1(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=E.useState(n.state),[o,l]=E.useState(),[a,u]=E.useState({isTransitioning:!1}),[c,d]=E.useState(),[f,y]=E.useState(),[g,w]=E.useState(),R=E.useRef(new Map),{v7_startTransition:m}=r||{},h=E.useCallback(x=>{m?T1(x):x()},[m]),v=E.useCallback((x,A)=>{let{deletedFetchers:B,unstable_flushSync:V,unstable_viewTransitionOpts:oe}=A;B.forEach(X=>R.current.delete(X)),x.fetchers.forEach((X,ne)=>{X.data!==void 0&&R.current.set(ne,X.data)});let q=n.window==null||typeof n.window.document.startViewTransition!="function";if(!oe||q){V?Os(()=>s(x)):h(()=>s(x));return}if(V){Os(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})});let X=n.window.document.startViewTransition(()=>{Os(()=>s(x))});X.finished.finally(()=>{Os(()=>{d(void 0),y(void 0),l(void 0),u({isTransitioning:!1})})}),Os(()=>y(X));return}f?(c&&c.resolve(),f.skipTransition(),w({state:x,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation})):(l(x),u({isTransitioning:!0,flushSync:!1,currentLocation:oe.currentLocation,nextLocation:oe.nextLocation}))},[n.window,f,c,R,h]);E.useLayoutEffect(()=>n.subscribe(v),[n,v]),E.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new k1)},[a]),E.useEffect(()=>{if(c&&o&&n.window){let x=o,A=c.promise,B=n.window.document.startViewTransition(async()=>{h(()=>s(x)),await A});B.finished.finally(()=>{d(void 0),y(void 0),l(void 0),u({isTransitioning:!1})}),y(B)}},[h,o,c,n.window]),E.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),E.useEffect(()=>{!a.isTransitioning&&g&&(l(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),w(void 0))},[a.isTransitioning,g]);let p=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:x=>n.navigate(x),push:(x,A,B)=>n.navigate(x,{state:A,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(x,A,B)=>n.navigate(x,{replace:!0,state:A,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[n]),C=n.basename||"/",k=E.useMemo(()=>({router:n,navigator:p,static:!1,basename:C}),[n,p,C]);return E.createElement(E.Fragment,null,E.createElement(nu.Provider,{value:k},E.createElement(h_.Provider,{value:i},E.createElement(S1.Provider,{value:R.current},E.createElement(E1.Provider,{value:a},E.createElement(d1,{basename:C,location:i.location,navigationType:i.historyAction,navigator:p},i.initialized?E.createElement(N1,{routes:n.routes,state:i}):t))))),null)}function N1(e){let{routes:t,state:n}=e;return ZC(t,void 0,n)}const R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,f=h1(t,v1),{basename:y}=E.useContext(ds),g,w=!1;if(typeof u=="string"&&P1.test(u)&&(g=u,R1))try{let v=new URL(window.location.href),p=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=cs(p.pathname,y);p.origin===v.origin&&C!=null?u=C+p.search+p.hash:w=!0}catch{}let R=KC(u,{relative:i}),m=D1(u,{replace:o,state:l,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:d});function h(v){r&&r(v),v.defaultPrevented||m(v)}return E.createElement("a",Ro({},f,{href:g||R,onClick:w||s?r:h,ref:n,target:a}))});var Am;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Lm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lm||(Lm={}));function D1(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,a=qo(),u=Qo(),c=g_(e,{relative:o});return E.useCallback(d=>{if(m1(d,n)){d.preventDefault();let f=r!==void 0?r:ti(u)===ti(c);a(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,a,c,r,i,n,e,s,o,l])}function A1(e){let t=E.useRef(Dd(e)),n=E.useRef(!1),r=Qo(),i=E.useMemo(()=>g1(r.search,n.current?null:t.current),[r.search]),s=qo(),o=E.useCallback((l,a)=>{const u=Dd(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,a)},[s,i]);return[i,o]}var Om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(e,t){if(!e)throw fs(t)},fs=function(e){return new Error("Firebase Database ("+__.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},L1=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,y=u&63;a||(y=64,o||(f=64)),r.push(n[c],n[d],n[f],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(w_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):L1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new O1;const f=s<<2|l>>4;if(r.push(f),u!==64){const y=l<<4&240|u>>2;if(r.push(y),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E_=function(e){const t=w_(e);return ch.encodeByteArray(t,!0)},ga=function(e){return E_(e).replace(/\./g,"")},Ad=function(e){try{return ch.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(e){return S_(void 0,e)}function S_(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!b1(n)||(e[n]=S_(e[n],t[n]));return e}function b1(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=()=>F1().__FIREBASE_DEFAULTS__,U1=()=>{if(typeof process>"u"||typeof Om>"u")return;const e=Om.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ad(e[1]);return t&&JSON.parse(t)},C_=()=>{try{return j1()||U1()||$1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},z1=e=>{var t,n;return(n=(t=C_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},V1=e=>{const t=z1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},x_=()=>{var e;return(e=C_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ga(JSON.stringify(n)),ga(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W1())}function H1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k_(){return __.NODE_ADMIN===!0}function Q1(){try{return typeof indexedDB=="object"}catch{return!1}}function q1(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class Ko extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=G1,Object.setPrototypeOf(this,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?K1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ko(i,l,r)}}function K1(e,t){return e.replace(Y1,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Y1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(e){return JSON.parse(e)}function it(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Po(Ad(s[0])||""),n=Po(Ad(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},X1=function(e){const t=N_(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J1=function(e){const t=N_(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ts(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Mm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function va(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ld(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(bm(s)&&bm(o)){if(!Ld(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function su(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ou=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return e&&e._delegate?e._delegate:e}class Do{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Go;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ix(t))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=br){return this.instances.has(t)}getOptions(t=br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=br){return this.component?this.component.multipleInstances?t:br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rx(e){return e===br?void 0:e}function ix(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ce||(Ce={}));const ox={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},lx=Ce.INFO,ax={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},ux=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=ax[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class R_{constructor(t){this.name=t,this._logLevel=lx,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ox[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const cx=(e,t)=>t.some(n=>e instanceof n);let Fm,jm;function dx(){return Fm||(Fm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fx(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,Od=new WeakMap,D_=new WeakMap,oc=new WeakMap,dh=new WeakMap;function hx(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(wr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&P_.set(n,e)}).catch(()=>{}),dh.set(t,e),t}function px(e){if(Od.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Od.set(e,t)}let Md={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Od.get(e);if(t==="objectStoreNames")return e.objectStoreNames||D_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mx(e){Md=e(Md)}function gx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(lc(this),t,...n);return D_.set(r,t.sort?t.sort():[t]),wr(r)}:fx().includes(e)?function(...t){return e.apply(lc(this),t),wr(P_.get(this))}:function(...t){return wr(e.apply(lc(this),t))}}function vx(e){return typeof e=="function"?gx(e):(e instanceof IDBTransaction&&px(e),cx(e,dx())?new Proxy(e,Md):e)}function wr(e){if(e instanceof IDBRequest)return hx(e);if(oc.has(e))return oc.get(e);const t=vx(e);return t!==e&&(oc.set(e,t),dh.set(t,e)),t}const lc=e=>dh.get(e);function yx(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=wr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(wr(o.result),a.oldVersion,a.newVersion,wr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const _x=["get","getKey","getAll","getAllKeys","count"],wx=["put","add","delete","clear"],ac=new Map;function Um(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ac.get(t))return ac.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_x.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return ac.set(t,s),s}mx(e=>({...e,get:(t,n,r)=>Um(t,n)||e.get(t,n,r),has:(t,n)=>!!Um(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bd="@firebase/app",$m="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new R_("@firebase/app"),Cx="@firebase/app-compat",xx="@firebase/analytics-compat",Tx="@firebase/analytics",kx="@firebase/app-check-compat",Ix="@firebase/app-check",Nx="@firebase/auth",Rx="@firebase/auth-compat",Px="@firebase/database",Dx="@firebase/database-compat",Ax="@firebase/functions",Lx="@firebase/functions-compat",Ox="@firebase/installations",Mx="@firebase/installations-compat",bx="@firebase/messaging",Fx="@firebase/messaging-compat",jx="@firebase/performance",Ux="@firebase/performance-compat",$x="@firebase/remote-config",zx="@firebase/remote-config-compat",Vx="@firebase/storage",Bx="@firebase/storage-compat",Wx="@firebase/firestore",Hx="@firebase/firestore-compat",Qx="firebase",qx="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="[DEFAULT]",Gx={[bd]:"fire-core",[Cx]:"fire-core-compat",[Tx]:"fire-analytics",[xx]:"fire-analytics-compat",[Ix]:"fire-app-check",[kx]:"fire-app-check-compat",[Nx]:"fire-auth",[Rx]:"fire-auth-compat",[Px]:"fire-rtdb",[Dx]:"fire-rtdb-compat",[Ax]:"fire-fn",[Lx]:"fire-fn-compat",[Ox]:"fire-iid",[Mx]:"fire-iid-compat",[bx]:"fire-fcm",[Fx]:"fire-fcm-compat",[jx]:"fire-perf",[Ux]:"fire-perf-compat",[$x]:"fire-rc",[zx]:"fire-rc-compat",[Vx]:"fire-gcs",[Bx]:"fire-gcs-compat",[Wx]:"fire-fst",[Hx]:"fire-fst-compat","fire-js":"fire-js",[Qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Map,Kx=new Map,jd=new Map;function zm(e,t){try{e.container.addComponent(t)}catch(n){ni.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _a(e){const t=e.name;if(jd.has(t))return ni.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,e);for(const n of ya.values())zm(n,e);for(const n of Kx.values())zm(n,e);return!0}function Yx(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new I_("app","Firebase",Xx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=qx;function A_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Fd,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=x_()),!n)throw Er.create("no-options");const s=ya.get(i);if(s){if(Ld(n,s.options)&&Ld(r,s.config))return s;throw Er.create("duplicate-app",{appName:i})}const o=new sx(i);for(const a of jd.values())o.addComponent(a);const l=new Jx(n,r,o);return ya.set(i,l),l}function eT(e=Fd){const t=ya.get(e);if(!t&&e===Fd&&x_())return A_();if(!t)throw Er.create("no-app",{appName:e});return t}function zi(e,t,n){var r;let i=(r=Gx[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ni.warn(l.join(" "));return}_a(new Do(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebase-heartbeat-database",nT=1,Ao="firebase-heartbeat-store";let uc=null;function L_(){return uc||(uc=yx(tT,nT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ao)}catch(n){console.warn(n)}}}}).catch(e=>{throw Er.create("idb-open",{originalErrorMessage:e.message})})),uc}async function rT(e){try{const n=(await L_()).transaction(Ao),r=await n.objectStore(Ao).get(O_(e));return await n.done,r}catch(t){if(t instanceof Ko)ni.warn(t.message);else{const n=Er.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ni.warn(n.message)}}}async function Vm(e,t){try{const r=(await L_()).transaction(Ao,"readwrite");await r.objectStore(Ao).put(t,O_(e)),await r.done}catch(n){if(n instanceof Ko)ni.warn(n.message);else{const r=Er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(r.message)}}}function O_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1024,sT=30*24*60*60*1e3;class oT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bm();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=sT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bm(),{heartbeatsToSend:r,unsentEntries:i}=lT(this._heartbeatsCache.heartbeats),s=ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Bm(){return new Date().toISOString().substring(0,10)}function lT(e,t=iT){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q1()?q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wm(e){return ga(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e){_a(new Do("platform-logger",t=>new Ex(t),"PRIVATE")),_a(new Do("heartbeat",t=>new oT(t),"PRIVATE")),zi(bd,$m,e),zi(bd,$m,"esm2017"),zi("fire-js","")}uT("");var Hm={};const Qm="@firebase/database",qm="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_="";function cT(e){M_=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),it(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Po(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return kn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dT(t)}}catch{}return new fT},Br=b_("localStorage"),Ud=b_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new R_("@firebase/database"),hT=function(){let e=1;return function(){return e++}}(),F_=function(e){const t=tx(e),n=new ex;n.update(t);const r=n.digest();return ch.encodeByteArray(r)},Yo=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Yo.apply(null,r):typeof r=="object"?t+=it(r):t+=r,t+=" "}return t};let Gr=null,Gm=!0;const pT=function(e,t){M(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Vi.logLevel=Ce.VERBOSE,Gr=Vi.log.bind(Vi),t&&Ud.set("logging_enabled",!0)):typeof e=="function"?Gr=e:(Gr=null,Ud.remove("logging_enabled"))},at=function(...e){if(Gm===!0&&(Gm=!1,Gr===null&&Ud.get("logging_enabled")===!0&&pT(!0)),Gr){const t=Yo.apply(null,e);Gr(t)}},Xo=function(e){return function(...t){at(e,...t)}},$d=function(...e){const t="FIREBASE INTERNAL ERROR: "+Yo(...e);Vi.error(t)},Qn=function(...e){const t=`FIREBASE FATAL ERROR: ${Yo(...e)}`;throw Vi.error(t),new Error(t)},Ct=function(...e){const t="FIREBASE WARNING: "+Yo(...e);Vi.warn(t)},mT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fh=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},gT=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ns="[MIN_NAME]",ri="[MAX_NAME]",ui=function(e,t){if(e===t)return 0;if(e===ns||t===ri)return-1;if(t===ns||e===ri)return 1;{const n=Km(e),r=Km(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},vT=function(e,t){return e===t?0:e<t?-1:1},Ms=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+it(t))},hh=function(e){if(typeof e!="object"||e===null)return it(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=it(t[r]),n+=":",n+=hh(e[t[r]]);return n+="}",n},j_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function dt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const U_=function(e){M(!fh(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},yT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_T=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wT(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const ET=new RegExp("^-?(0*)\\d{1,10}$"),ST=-2147483648,CT=2147483647,Km=function(e){if(ET.test(e)){const t=Number(e);if(t>=ST&&t<=CT)return t}return null},ps=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ct("Exception was thrown by user callback.",n),t},Math.floor(0))}},xT=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},oo=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(t)}}class Bi{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Bi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="5",$_="v",z_="s",V_="r",B_="f",W_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H_="ls",Q_="p",zd="ac",q_="websocket",G_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function IT(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Y_(e,t,n){M(typeof t=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(t===q_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===G_)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);IT(e)&&(n.ns=e.namespace);const i=[];return dt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.counters_={}}incrementCounter(t,n=1){kn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return M1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={},dc={};function mh(e){const t=e.toString();return cc[t]||(cc[t]=new NT),cc[t]}function RT(e,t){const n=e.toString();return dc[n]||(dc[n]=t()),dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ps(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="start",DT="close",AT="pLPCommand",LT="pRTLPCB",X_="id",J_="pw",Z_="ser",OT="cb",MT="seg",bT="ts",FT="d",jT="dframe",e0=1870,t0=30,UT=e0-t0,$T=25e3,zT=3e4;class Ai{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xo(t),this.stats_=mh(n),this.urlFn=a=>(this.appCheckToken&&(a[zd]=this.appCheckToken),Y_(n,G_,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zT)),gT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gh((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Ym)this.id=l,this.password=a;else if(o===DT)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Ym]="t",r[Z_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OT]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$_]=ph,this.transportSessionId&&(r[z_]=this.transportSessionId),this.lastSessionId&&(r[H_]=this.lastSessionId),this.applicationId&&(r[Q_]=this.applicationId),this.appCheckToken&&(r[zd]=this.appCheckToken),typeof location<"u"&&location.hostname&&W_.test(location.hostname)&&(r[V_]=B_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ai.forceAllow_=!0}static forceDisallow(){Ai.forceDisallow_=!0}static isAvailable(){return Ai.forceAllow_?!0:!Ai.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yT()&&!_T()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=it(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=E_(n),i=j_(r,UT);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jT]="t",r[X_]=t,r[J_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=it(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gh{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hT(),window[AT+this.uniqueCallbackIdentifier]=t,window[LT+this.uniqueCallbackIdentifier]=n,this.myIFrame=gh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){at("frame writing exception"),l.stack&&at(l.stack),at(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[X_]=this.myID,t[J_]=this.myPW,t[Z_]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t0+r.length<=e0;){const o=this.pendingSegs.shift();r=r+"&"+MT+i+"="+o.seg+"&"+bT+i+"="+o.ts+"&"+FT+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($T)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=16384,BT=45e3;let wa=null;typeof MozWebSocket<"u"?wa=MozWebSocket:typeof WebSocket<"u"&&(wa=WebSocket);class un{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xo(this.connId),this.stats_=mh(n),this.connURL=un.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[$_]=ph,typeof location<"u"&&location.hostname&&W_.test(location.hostname)&&(o[V_]=B_),n&&(o[z_]=n),r&&(o[H_]=r),i&&(o[zd]=i),s&&(o[Q_]=s),Y_(t,q_,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let r;k_(),this.mySock=new wa(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){un.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&wa!==null&&!un.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Po(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=it(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=j_(n,VT);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BT))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}un.responsesRequiredToBeHealthy=2;un.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ai,un]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=un&&un.isAvailable();let r=n&&!un.previouslyFailed();if(t.webSocketOnly&&(n||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{const i=this.transports_=[];for(const s of Lo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Lo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=6e4,HT=5e3,QT=10*1024,qT=100*1024,fc="t",Xm="d",GT="s",Jm="r",KT="e",Zm="o",eg="a",tg="n",ng="p",YT="h";class XT{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xo("c:"+this.id+":"),this.transportManager_=new Lo(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fc in t){const n=t[fc];n===eg?this.upgradeIfSecondaryHealthy_():n===Jm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Zm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Ms("t",t),r=Ms("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ng,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:eg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Ms("t",t),r=Ms("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Ms(fc,t);if(Xm in t){const r=t[Xm];if(n===YT){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===tg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GT?this.onConnectionShutdown_(r):n===Jm?this.onReset_(r):n===KT?$d("Server Error: "+r):n===Zm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$d("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ph!==r&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ng,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends r0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!T_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ea}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=32,ig=768;class ye{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ge(){return new ye("")}function ie(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kr(e){return e.pieces_.length-e.pieceNum_}function xe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ye(e.pieces_,t)}function vh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function JT(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Oo(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function i0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ye(t,0)}function Ue(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ye)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function ue(e){return e.pieceNum_>=e.pieces_.length}function Pt(e,t){const n=ie(e),r=ie(t);if(n===null)return t;if(n===r)return Pt(xe(e),xe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ZT(e,t){const n=Oo(e,0),r=Oo(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ui(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function yh(e,t){if(kr(e)!==kr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(kr(e)>kr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ek{constructor(t,n){this.errorPrefix_=n,this.parts_=Oo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ou(this.parts_[r]);s0(this)}}function tk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ou(t),s0(e)}function nk(e){const t=e.parts_.pop();e.byteLength_-=ou(t),e.parts_.length>0&&(e.byteLength_-=1)}function s0(e){if(e.byteLength_>ig)throw new Error(e.errorPrefix_+"has a key path longer than "+ig+" bytes ("+e.byteLength_+").");if(e.parts_.length>rg)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rg+") or object contains a cycle "+Fr(e))}function Fr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends r0{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new _h}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=1e3,rk=60*5*1e3,sg=30*1e3,ik=1.3,sk=3e4,ok="server_kill",og=3;class Un extends n0{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Un.nextPersistentConnectionId_++,this.log_=Xo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bs,this.maxReconnectDelay_=rk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!k_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_h.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ea.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(it(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Go,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Un.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&kn(t,"w")){const r=ts(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||J1(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=X1(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+it(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):$d("Unrecognized action received from server: "+it(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sk&&(this.reconnectDelay_=bs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ik)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Un.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new XT(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{Ct(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(ok)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ct(d),a())}}}interrupt(t){at("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){at("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mm(this.interruptReasons_)&&(this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>hh(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new ye(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){at("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=og&&(this.reconnectDelay_=sg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){at("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=og&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+M_.replace(/\./g,"-")]=1,T_()?t["framework.cordova"]=1:H1()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ea.getInstance().currentlyOnline();return Mm(this.interruptReasons_)&&t}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new se(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new se(ns,t),i=new se(ns,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;class o0 extends lu{static get __EMPTY_NODE(){return Tl}static set __EMPTY_NODE(t){Tl=t}compare(t,n){return ui(t.name,n.name)}isDefinedOn(t){throw fs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return se.MIN}maxPost(){return new se(ri,Tl)}makePost(t,n){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new se(t,Tl)}toString(){return".key"}}const Wi=new o0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??nt.RED,this.left=i??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(t,n,r,i,s){return new nt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class lk{copy(t,n,r,i,s){return this}insert(t,n,r){return new nt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(t,n=Dt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Dt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(t){return new Dt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new kl(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new kl(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new kl(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new kl(this.root_,null,this.comparator_,!0,t)}}Dt.EMPTY_NODE=new lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){return ui(e.name,t.name)}function wh(e,t){return ui(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd;function uk(e){Vd=e}const l0=function(e){return typeof e=="number"?"number:"+U_(e):"string:"+e},a0=function(e){if(e.isLeafNode()){const t=e.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&kn(t,".sv"),"Priority must be a string or number.")}else M(e===Vd||e.isEmpty(),"priority of unexpected type.");M(e===Vd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg;class et{constructor(t,n=et.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),a0(this.priorityNode_)}static set __childrenNodeConstructor(t){lg=t}static get __childrenNodeConstructor(){return lg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new et(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ue(t)?this:ie(t)===".priority"?this.priorityNode_:et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=ie(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||kr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,et.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+l0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=U_(this.value_):t+=this.value_,this.lazyHash_=F_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===et.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof et.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=et.VALUE_TYPE_ORDER.indexOf(n),s=et.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0,c0;function ck(e){u0=e}function dk(e){c0=e}class fk extends lu{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ui(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(ri,new et("[PRIORITY-POST]",c0))}makePost(t,n){const r=u0(t);return new se(n,new et("[PRIORITY-POST]",r))}toString(){return".priority"}}const $e=new fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=Math.log(2);class pk{constructor(t){const n=s=>parseInt(Math.log(s)/hk,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Sa=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=e[a],f=n?n(d):d,new nt(f,d.node,nt.BLACK,null,null);{const y=parseInt(c/2,10)+a,g=i(a,y),w=i(y+1,u);return d=e[y],f=n?n(d):d,new nt(f,d.node,nt.BLACK,g,w)}},s=function(a){let u=null,c=null,d=e.length;const f=function(g,w){const R=d-g,m=d;d-=g;const h=i(R+1,m),v=e[R],p=n?n(v):v;y(new nt(p,v.node,w,null,h))},y=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<a.count;++g){const w=a.nextBitIsOne(),R=Math.pow(2,a.count-(g+1));w?f(R,nt.BLACK):(f(R,nt.BLACK),f(R,nt.RED))}return c},o=new pk(e.length),l=s(o);return new Dt(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const vi={};class bn{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return M(vi&&$e,"ChildrenNode.ts has not been loaded"),hc=hc||new bn({".priority":vi},{".priority":$e}),hc}get(t){const n=ts(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Dt?n:null}hasIndex(t){return kn(this.indexSet_,t.toString())}addIndex(t,n){M(t!==Wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Sa(r,t.getCompare()):l=vi;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new bn(c,u)}addToIndexes(t,n){const r=va(this.indexes_,(i,s)=>{const o=ts(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===vi)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(se.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Sa(l,o.getCompare())}else return vi;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new se(t.name,l))),a.insert(t,t.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(t,n){const r=va(this.indexes_,i=>{if(i===vi)return i;{const s=n.get(t.name);return s?i.remove(new se(t.name,s)):i}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs;class Z{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&a0(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fs||(Fs=new Z(new Dt(wh),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fs}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Fs:n}}getChild(t){const n=ie(t);return n===null?this:this.getImmediateChild(n).getChild(xe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(M(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new se(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Fs:this.priorityNode_;return new Z(i,o,s)}}updateChild(t,n){const r=ie(t);if(r===null)return n;{M(ie(t)!==".priority"||kr(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(xe(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild($e,(o,l)=>{n[o]=l.val(t),r++,s&&Z.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+l0(this.getPriority().val())+":"),this.forEachChild($e,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":F_(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new se(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new se(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new se(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Jo?-1:0}withIndex(t){if(t===Wi||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Wi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($e),i=n.getIterator($e);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Wi?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mk extends Z{constructor(){super(new Dt(wh),Z.EMPTY_NODE,bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const Jo=new mk;Object.defineProperties(se,{MIN:{value:new se(ns,Z.EMPTY_NODE)},MAX:{value:new se(ri,Jo)}});o0.__EMPTY_NODE=Z.EMPTY_NODE;et.__childrenNodeConstructor=Z;uk(Jo);dk(Jo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=!0;function rt(e,t=null){if(e===null)return Z.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new et(n,rt(t))}if(!(e instanceof Array)&&gk){const n=[];let r=!1;if(dt(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=rt(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new se(o,a)))}}),n.length===0)return Z.EMPTY_NODE;const s=Sa(n,ak,o=>o.name,wh);if(r){const o=Sa(n,$e.getCompare());return new Z(s,rt(t),new bn({".priority":o},{".priority":$e}))}else return new Z(s,rt(t),bn.Default)}else{let n=Z.EMPTY_NODE;return dt(e,(r,i)=>{if(kn(e,r)&&r.substring(0,1)!=="."){const s=rt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rt(t))}}ck(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk extends lu{constructor(t){super(),this.indexPath_=t,M(!ue(t)&&ie(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ui(t.name,n.name):s}makePost(t,n){const r=rt(t),i=Z.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,Jo);return new se(ri,t)}toString(){return Oo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends lu{compare(t,n){const r=t.node.compareTo(n.node);return r===0?ui(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(t,n){const r=rt(t);return new se(n,r)}toString(){return".value"}}const _k=new yk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e){return{type:"value",snapshotNode:e}}function rs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function wk(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Mo(n,l)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(rs(n,r)):o.trackChildChange(bo(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild($e,(i,s)=>{n.hasChild(i)||r.trackChildChange(Mo(i,s))}),n.isLeafNode()||n.forEachChild($e,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(bo(i,s,o))}else r.trackChildChange(rs(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.indexedFilter_=new Eh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fo.getStartPost_(t),this.endPost_=Fo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new se(n,r))||(r=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Z.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Z.EMPTY_NODE);const s=this;return n.forEachChild($e,(o,l)=>{s.matches(new se(o,l))||(i=i.updateImmediateChild(o,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new se(n,r))||(r=Z.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Z.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,y)=>d(y,f)}else o=this.index_.getCompare();const l=t;M(l.numChildren()===this.limit_,"");const a=new se(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const y=f==null?1:o(f,a);if(c&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(bo(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Mo(n,d));const w=l.updateImmediateChild(n,Z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(rs(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Mo(u.name,u.node)),s.trackChildChange(rs(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,Z.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ns}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const t=new Sh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Sk(e){return e.loadsAllData()?new Eh(e.getIndex()):e.hasLimit()?new Ek(e):new Fo(e)}function ag(e){const t={};if(e.isDefault())return t;let n;if(e.index_===$e?n="$priority":e.index_===_k?n="$value":e.index_===Wi?n="$key":(M(e.index_ instanceof vk,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=it(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=it(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+it(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=it(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+it(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ug(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==$e&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends n0{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Xo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Ca.getListenId_(t,r),l={};this.listens_[o]=l;const a=ag(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ts(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=Ca.getListenId_(t,n);delete this.listens_[r]}get(t){const n=ag(t._queryParams),r=t._path.toString(),i=new Go;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Z1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Po(l.responseText)}catch{Ct("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ct("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return{value:null,children:new Map}}function f0(e,t,n){if(ue(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=ie(t);e.children.has(r)||e.children.set(r,xa());const i=e.children.get(r);t=xe(t),f0(i,t,n)}}function Bd(e,t,n){e.value!==null?n(t,e.value):xk(e,(r,i)=>{const s=new ye(t.toString()+"/"+r);Bd(i,s,n)})}function xk(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&dt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=10*1e3,kk=30*1e3,Ik=5*60*1e3;class Nk{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Tk(t);const r=cg+(kk-cg)*Math.random();oo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;dt(t,(i,s)=>{s>0&&kn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ik))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Ch(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Th(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source=Ch()}operationForChild(t){if(ue(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(t));return new Ta(ge(),n,this.revert)}}else return M(ie(this.path)===t,"operationForChild called for unrelated child."),new Ta(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,n){this.source=t,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(t){return ue(this.path)?new jo(this.source,ge()):new jo(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=cn.OVERWRITE}operationForChild(t){return ue(this.path)?new ii(this.source,ge(),this.snap.getImmediateChild(t)):new ii(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=cn.MERGE}operationForChild(t){if(ue(this.path)){const n=this.children.subtree(new ye(t));return n.isEmpty()?null:n.value?new ii(this.source,ge(),n.value):new is(this.source,ge(),n)}else return M(ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new is(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ue(t))return this.isFullyInitialized()&&!this.filtered_;const n=ie(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Pk(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(wk(o.childName,o.snapshotNode))}),js(e,i,"child_removed",t,r,n),js(e,i,"child_added",t,r,n),js(e,i,"child_moved",s,r,n),js(e,i,"child_changed",t,r,n),js(e,i,"value",t,r,n),i}function js(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>Ak(e,l,a)),o.forEach(l=>{const a=Dk(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function Dk(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Ak(e,t,n){if(t.childName==null||n.childName==null)throw fs("Should only compare child_ events.");const r=new se(t.childName,t.snapshotNode),i=new se(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(e,t){return{eventCache:e,serverCache:t}}function lo(e,t,n,r){return au(new si(t,n,r),e.serverCache)}function h0(e,t,n,r){return au(e.eventCache,new si(t,n,r))}function Wd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function oi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;const Lk=()=>(pc||(pc=new Dt(vT)),pc);class Se{constructor(t,n=Lk()){this.value=t,this.children=n}static fromObject(t){let n=new Se(null);return dt(t,(r,i)=>{n=n.set(new ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ue(t))return null;{const r=ie(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(xe(t),n);return s!=null?{path:Ue(new ye(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ue(t))return this;{const n=ie(t),r=this.children.get(n);return r!==null?r.subtree(xe(t)):new Se(null)}}set(t,n){if(ue(t))return new Se(n,this.children);{const r=ie(t),s=(this.children.get(r)||new Se(null)).set(xe(t),n),o=this.children.insert(r,s);return new Se(this.value,o)}}remove(t){if(ue(t))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=ie(t),r=this.children.get(n);if(r){const i=r.remove(xe(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Se(null):new Se(this.value,s)}else return this}}get(t){if(ue(t))return this.value;{const n=ie(t),r=this.children.get(n);return r?r.get(xe(t)):null}}setTree(t,n){if(ue(t))return n;{const r=ie(t),s=(this.children.get(r)||new Se(null)).setTree(xe(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Se(this.value,o)}}fold(t){return this.fold_(ge(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ue(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ge(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ue(t))return null;{const s=ie(t),o=this.children.get(s);return o?o.findOnPath_(xe(t),Ue(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ge(),n)}foreachOnPath_(t,n,r){if(ue(t))return this;{this.value&&r(n,this.value);const i=ie(t),s=this.children.get(i);return s?s.foreachOnPath_(xe(t),Ue(n,i),r):new Se(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ue(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.writeTree_=t}static empty(){return new hn(new Se(null))}}function ao(e,t,n){if(ue(t))return new hn(new Se(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Pt(i,t);return s=s.updateChild(o,n),new hn(e.writeTree_.set(i,s))}else{const i=new Se(n),s=e.writeTree_.setTree(t,i);return new hn(s)}}}function Hd(e,t,n){let r=e;return dt(n,(i,s)=>{r=ao(r,Ue(t,i),s)}),r}function dg(e,t){if(ue(t))return hn.empty();{const n=e.writeTree_.setTree(t,new Se(null));return new hn(n)}}function Qd(e,t){return ci(e,t)!=null}function ci(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Pt(n.path,t)):null}function fg(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,(r,i)=>{t.push(new se(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new se(r,i.value))}),t}function Sr(e,t){if(ue(t))return e;{const n=ci(e,t);return n!=null?new hn(new Se(n)):new hn(e.writeTree_.subtree(t))}}function qd(e){return e.writeTree_.isEmpty()}function ss(e,t){return p0(ge(),e.writeTree_,t)}function p0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=p0(Ue(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ue(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(e,t){return y0(t,e)}function Ok(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ao(e.visibleWrites,t,n)),e.lastWriteId=r}function Mk(e,t,n,r){M(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Hd(e.visibleWrites,t,n),e.lastWriteId=r}function bk(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Fk(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&jk(l,r.path)?i=!1:Yt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Uk(e),!0;if(r.snap)e.visibleWrites=dg(e.visibleWrites,r.path);else{const l=r.children;dt(l,a=>{e.visibleWrites=dg(e.visibleWrites,Ue(r.path,a))})}return!0}else return!1}function jk(e,t){if(e.snap)return Yt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yt(Ue(e.path,n),t))return!0;return!1}function Uk(e){e.visibleWrites=m0(e.allWrites,$k,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function $k(e){return e.visible}function m0(e,t,n){let r=hn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Yt(n,o)?(l=Pt(n,o),r=ao(r,l,s.snap)):Yt(o,n)&&(l=Pt(o,n),r=ao(r,ge(),s.snap.getChild(l)));else if(s.children){if(Yt(n,o))l=Pt(n,o),r=Hd(r,l,s.children);else if(Yt(o,n))if(l=Pt(o,n),ue(l))r=Hd(r,ge(),s.children);else{const a=ts(s.children,ie(l));if(a){const u=a.getChild(xe(l));r=ao(r,ge(),u)}}}else throw fs("WriteRecord should have .snap or .children")}}return r}function g0(e,t,n,r,i){if(!r&&!i){const s=ci(e.visibleWrites,t);if(s!=null)return s;{const o=Sr(e.visibleWrites,t);if(qd(o))return n;if(n==null&&!Qd(o,ge()))return null;{const l=n||Z.EMPTY_NODE;return ss(o,l)}}}else{const s=Sr(e.visibleWrites,t);if(!i&&qd(s))return n;if(!i&&n==null&&!Qd(s,ge()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Yt(u.path,t)||Yt(t,u.path))},l=m0(e.allWrites,o,t),a=n||Z.EMPTY_NODE;return ss(l,a)}}}function zk(e,t,n){let r=Z.EMPTY_NODE;const i=ci(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild($e,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Sr(e.visibleWrites,t);return n.forEachChild($e,(o,l)=>{const a=ss(Sr(s,new ye(o)),l);r=r.updateImmediateChild(o,a)}),fg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Sr(e.visibleWrites,t);return fg(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Vk(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ue(t,n);if(Qd(e.visibleWrites,s))return null;{const o=Sr(e.visibleWrites,s);return qd(o)?i.getChild(n):ss(o,i.getChild(n))}}function Bk(e,t,n,r){const i=Ue(t,n),s=ci(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Sr(e.visibleWrites,i);return ss(o,r.getNode().getImmediateChild(n))}else return null}function Wk(e,t){return ci(e.visibleWrites,t)}function Hk(e,t,n,r,i,s,o){let l;const a=Sr(e.visibleWrites,t),u=ci(a,ge());if(u!=null)l=u;else if(n!=null)l=ss(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let y=f.getNext();for(;y&&c.length<i;)d(y,r)!==0&&c.push(y),y=f.getNext();return c}else return[]}function Qk(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function ka(e,t,n,r){return g0(e.writeTree,e.treePath,t,n,r)}function Ih(e,t){return zk(e.writeTree,e.treePath,t)}function hg(e,t,n,r){return Vk(e.writeTree,e.treePath,t,n,r)}function Ia(e,t){return Wk(e.writeTree,Ue(e.treePath,t))}function qk(e,t,n,r,i,s){return Hk(e.writeTree,e.treePath,t,n,r,i,s)}function Nh(e,t,n){return Bk(e.writeTree,e.treePath,t,n)}function v0(e,t){return y0(Ue(e.treePath,t),e.writeTree)}function y0(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,bo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Mo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,rs(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,bo(r,t.snapshotNode,i.oldSnap));else throw fs("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const _0=new Kk;class Rh{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nh(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oi(this.viewCache_),s=qk(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(e){return{filter:e}}function Xk(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Jk(e,t,n,r,i){const s=new Gk;let o,l;if(n.type===cn.OVERWRITE){const u=n;u.source.fromUser?o=Gd(e,t,u.path,u.snap,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!ue(u.path),o=Na(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===cn.MERGE){const u=n;u.source.fromUser?o=eI(e,t,u.path,u.children,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=Kd(e,t,u.path,u.children,r,i,l,s))}else if(n.type===cn.ACK_USER_WRITE){const u=n;u.revert?o=rI(e,t,u.path,r,i,s):o=tI(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===cn.LISTEN_COMPLETE)o=nI(e,t,n.path,r,s);else throw fs("Unknown operation type: "+n.type);const a=s.getChanges();return Zk(t,o,a),{viewCache:o,changes:a}}function Zk(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Wd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(d0(Wd(t)))}}function w0(e,t,n,r,i,s){const o=t.eventCache;if(Ia(r,n)!=null)return t;{let l,a;if(ue(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=oi(t),c=u instanceof Z?u:Z.EMPTY_NODE,d=Ih(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=ka(r,oi(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=ie(n);if(u===".priority"){M(kr(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const d=hg(r,n,c,a);d!=null?l=e.filter.updatePriority(c,d):l=o.getNode()}else{const c=xe(n);let d;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const f=hg(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Nh(r,u,t.serverCache);d!=null?l=e.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return lo(t,l,o.isFullyInitialized()||ue(n),e.filter.filtersNodes())}}function Na(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(ue(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const y=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),y,null)}else{const y=ie(n);if(!a.isCompleteForPath(n)&&kr(n)>1)return t;const g=xe(n),R=a.getNode().getImmediateChild(y).updateChild(g,r);y===".priority"?u=c.updatePriority(a.getNode(),R):u=c.updateChild(a.getNode(),y,R,g,_0,null)}const d=h0(t,u,a.isFullyInitialized()||ue(n),c.filtersNodes()),f=new Rh(i,d,s);return w0(e,d,n,i,f,l)}function Gd(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new Rh(i,t,s);if(ue(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=lo(t,u,!0,e.filter.filtersNodes());else{const d=ie(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=lo(t,u,l.isFullyInitialized(),l.isFiltered());else{const f=xe(n),y=l.getNode().getImmediateChild(d);let g;if(ue(f))g=r;else{const w=c.getCompleteChild(d);w!=null?vh(f)===".priority"&&w.getChild(i0(f)).isEmpty()?g=w:g=w.updateChild(f,r):g=Z.EMPTY_NODE}if(y.equals(g))a=t;else{const w=e.filter.updateChild(l.getNode(),d,g,f,c,o);a=lo(t,w,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function pg(e,t){return e.eventCache.isCompleteForChild(t)}function eI(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=Ue(n,a);pg(t,ie(c))&&(l=Gd(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=Ue(n,a);pg(t,ie(c))||(l=Gd(e,l,c,u,i,s,o))}),l}function mg(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Kd(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;ue(n)?u=r:u=new Se(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const y=t.serverCache.getNode().getImmediateChild(d),g=mg(e,y,f);a=Na(e,a,new ye(d),g,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const y=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!y){const g=t.serverCache.getNode().getImmediateChild(d),w=mg(e,g,f);a=Na(e,a,new ye(d),w,i,s,o,l)}}),a}function tI(e,t,n,r,i,s,o){if(Ia(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(ue(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Na(e,t,n,a.getNode().getChild(n),i,s,l,o);if(ue(n)){let u=new Se(null);return a.getNode().forEachChild(Wi,(c,d)=>{u=u.set(new ye(c),d)}),Kd(e,t,n,u,i,s,l,o)}else return t}else{let u=new Se(null);return r.foreach((c,d)=>{const f=Ue(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),Kd(e,t,n,u,i,s,l,o)}}function nI(e,t,n,r,i){const s=t.serverCache,o=h0(t,s.getNode(),s.isFullyInitialized()||ue(n),s.isFiltered());return w0(e,o,n,r,_0,i)}function rI(e,t,n,r,i,s){let o;if(Ia(r,n)!=null)return t;{const l=new Rh(r,t,i),a=t.eventCache.getNode();let u;if(ue(n)||ie(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=ka(r,oi(t));else{const d=t.serverCache.getNode();M(d instanceof Z,"serverChildren would be complete if leaf node"),c=Ih(r,d)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=ie(n);let d=Nh(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=e.filter.updateChild(a,c,d,xe(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,Z.EMPTY_NODE,xe(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ka(r,oi(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Ia(r,ge())!=null,lo(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Eh(r.getIndex()),s=Sk(r);this.processor_=Yk(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(Z.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Z.EMPTY_NODE,l.getNode(),null),c=new si(a,o.isFullyInitialized(),i.filtersNodes()),d=new si(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=au(d,c),this.eventGenerator_=new Rk(this.query_)}get query(){return this.query_}}function sI(e){return e.viewCache_.serverCache.getNode()}function oI(e,t){const n=oi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ue(t)&&!n.getImmediateChild(ie(t)).isEmpty())?n.getChild(t):null}function gg(e){return e.eventRegistrations_.length===0}function lI(e,t){e.eventRegistrations_.push(t)}function vg(e,t,n){const r=[];if(n){M(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function yg(e,t,n,r){t.type===cn.MERGE&&t.source.queryId!==null&&(M(oi(e.viewCache_),"We should always have a full cache before handling merges"),M(Wd(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Jk(e.processor_,i,t,n,r);return Xk(e.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,E0(e,s.changes,s.viewCache.eventCache.getNode(),null)}function aI(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($e,(s,o)=>{r.push(rs(s,o))}),n.isFullyInitialized()&&r.push(d0(n.getNode())),E0(e,r,n.getNode(),t)}function E0(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Pk(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class uI{constructor(){this.views=new Map}}function cI(e){M(!Ra,"__referenceConstructor has already been defined"),Ra=e}function dI(){return M(Ra,"Reference.ts has not been loaded"),Ra}function fI(e){return e.views.size===0}function Ph(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),yg(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(yg(o,t,n,r));return s}}function hI(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=ka(n,i?r:null),a=!1;l?a=!0:r instanceof Z?(l=Ih(n,r),a=!1):(l=Z.EMPTY_NODE,a=!1);const u=au(new si(l,a,!1),new si(r,i,!1));return new iI(t,u)}return o}function pI(e,t,n,r,i,s){const o=hI(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),lI(o,n),aI(o,n)}function mI(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Ir(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(vg(u,n,r)),gg(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(vg(a,n,r)),gg(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Ir(e)&&s.push(new(dI())(t._repo,t._path)),{removed:s,events:o}}function S0(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Hi(e,t){let n=null;for(const r of e.views.values())n=n||oI(r,t);return n}function C0(e,t){if(t._queryParams.loadsAllData())return uu(e);{const r=t._queryIdentifier;return e.views.get(r)}}function x0(e,t){return C0(e,t)!=null}function Ir(e){return uu(e)!=null}function uu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;function gI(e){M(!Pa,"__referenceConstructor has already been defined"),Pa=e}function vI(){return M(Pa,"Reference.ts has not been loaded"),Pa}let yI=1;class _g{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Se(null),this.pendingWriteTree_=Qk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T0(e,t,n,r,i){return Ok(e.pendingWriteTree_,t,n,r,i),i?ms(e,new ii(Ch(),t,n)):[]}function _I(e,t,n,r){Mk(e.pendingWriteTree_,t,n,r);const i=Se.fromObject(n);return ms(e,new is(Ch(),t,i))}function cr(e,t,n=!1){const r=bk(e.pendingWriteTree_,t);if(Fk(e.pendingWriteTree_,t)){let s=new Se(null);return r.snap!=null?s=s.set(ge(),!0):dt(r.children,o=>{s=s.set(new ye(o),!0)}),ms(e,new Ta(r.path,s,n))}else return[]}function cu(e,t,n){return ms(e,new ii(xh(),t,n))}function wI(e,t,n){const r=Se.fromObject(n);return ms(e,new is(xh(),t,r))}function EI(e,t){return ms(e,new jo(xh(),t))}function SI(e,t,n){const r=Ah(e,n);if(r){const i=Lh(r),s=i.path,o=i.queryId,l=Pt(s,t),a=new jo(Th(o),l);return Oh(e,s,a)}else return[]}function Yd(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||x0(o,t))){const a=mI(o,t,n,r);fI(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,y)=>Ir(y));if(c&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const y=TI(f);for(let g=0;g<y.length;++g){const w=y[g],R=w.query,m=N0(e,w);e.listenProvider_.startListening(uo(R),Da(e,R),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(uo(t),null):u.forEach(f=>{const y=e.queryToTagMap.get(du(f));e.listenProvider_.stopListening(uo(f),y)}))}kI(e,u)}return l}function CI(e,t,n,r){const i=Ah(e,r);if(i!=null){const s=Lh(i),o=s.path,l=s.queryId,a=Pt(o,t),u=new ii(Th(l),a,n);return Oh(e,o,u)}else return[]}function xI(e,t,n,r){const i=Ah(e,r);if(i){const s=Lh(i),o=s.path,l=s.queryId,a=Pt(o,t),u=Se.fromObject(n),c=new is(Th(l),a,u);return Oh(e,o,c)}else return[]}function wg(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,y)=>{const g=Pt(f,i);s=s||Hi(y,g),o=o||Ir(y)});let l=e.syncPointTree_.get(i);l?(o=o||Ir(l),s=s||Hi(l,ge())):(l=new uI,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=Z.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,g)=>{const w=Hi(g,ge());w&&(s=s.updateImmediateChild(y,w))}));const u=x0(l,t);if(!u&&!t._queryParams.loadsAllData()){const f=du(t);M(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const y=II();e.queryToTagMap.set(f,y),e.tagToQueryMap.set(y,f)}const c=kh(e.pendingWriteTree_,i);let d=pI(l,t,n,c,s,a);if(!u&&!o&&!r){const f=C0(l,t);d=d.concat(NI(e,t,f))}return d}function Dh(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Pt(o,t),u=Hi(l,a);if(u)return u});return g0(i,t,s,n,!0)}function ms(e,t){return k0(t,e.syncPointTree_,null,kh(e.pendingWriteTree_,ge()))}function k0(e,t,n,r){if(ue(e.path))return I0(e,t,n,r);{const i=t.get(ge());n==null&&i!=null&&(n=Hi(i,ge()));let s=[];const o=ie(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=v0(r,o);s=s.concat(k0(l,a,u,c))}return i&&(s=s.concat(Ph(i,e,r,n))),s}}function I0(e,t,n,r){const i=t.get(ge());n==null&&i!=null&&(n=Hi(i,ge()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=v0(r,o),c=e.operationForChild(o);c&&(s=s.concat(I0(c,l,a,u)))}),i&&(s=s.concat(Ph(i,e,r,n))),s}function N0(e,t){const n=t.query,r=Da(e,n);return{hashFn:()=>(sI(t)||Z.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?SI(e,n._path,r):EI(e,n._path);{const s=wT(i,n);return Yd(e,n,null,s)}}}}function Da(e,t){const n=du(t);return e.queryToTagMap.get(n)}function du(e){return e._path.toString()+"$"+e._queryIdentifier}function Ah(e,t){return e.tagToQueryMap.get(t)}function Lh(e){const t=e.indexOf("$");return M(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ye(e.substr(0,t))}}function Oh(e,t,n){const r=e.syncPointTree_.get(t);M(r,"Missing sync point for query tag that we're tracking");const i=kh(e.pendingWriteTree_,t);return Ph(r,n,i,null)}function TI(e){return e.fold((t,n,r)=>{if(n&&Ir(n))return[uu(n)];{let i=[];return n&&(i=S0(n)),dt(r,(s,o)=>{i=i.concat(o)}),i}})}function uo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vI())(e._repo,e._path):e}function kI(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=du(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function II(){return yI++}function NI(e,t,n){const r=t._path,i=Da(e,t),s=N0(e,n),o=e.listenProvider_.startListening(uo(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)M(!Ir(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!ue(u)&&c&&Ir(c))return[uu(c).query];{let f=[];return c&&(f=f.concat(S0(c).map(y=>y.query))),dt(d,(y,g)=>{f=f.concat(g)}),f}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(uo(c),Da(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Mh(n)}node(){return this.node_}}class bh{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ue(this.path_,t);return new bh(this.syncTree_,n)}node(){return Dh(this.syncTree_,this.path_)}}const RI=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},Eg=function(e,t,n){if(!e||typeof e!="object")return e;if(M(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PI(e[".sv"],t,n);if(typeof e[".sv"]=="object")return DI(e[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PI=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+e)}},DI=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},R0=function(e,t,n,r){return Fh(t,new bh(n,e),r)},P0=function(e,t,n){return Fh(e,new Mh(t),n)};function Fh(e,t,n){const r=e.getPriority().val(),i=Eg(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=Eg(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new et(l,rt(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new et(i))),o.forEachChild($e,(l,a)=>{const u=Fh(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Uh(e,t){let n=t instanceof ye?t:new ye(t),r=e,i=ie(n);for(;i!==null;){const s=ts(r.node.children,i)||{children:{},childCount:0};r=new jh(i,r,s),n=xe(n),i=ie(n)}return r}function gs(e){return e.node.value}function D0(e,t){e.node.value=t,Xd(e)}function A0(e){return e.node.childCount>0}function AI(e){return gs(e)===void 0&&!A0(e)}function fu(e,t){dt(e.node.children,(n,r)=>{t(new jh(n,e,r))})}function L0(e,t,n,r){n&&!r&&t(e),fu(e,i=>{L0(i,t,!0,r)}),n&&r&&t(e)}function LI(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Zo(e){return new ye(e.parent===null?e.name:Zo(e.parent)+"/"+e.name)}function Xd(e){e.parent!==null&&OI(e.parent,e.name,e)}function OI(e,t,n){const r=AI(n),i=kn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Xd(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Xd(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=/[\[\].#$\/\u0000-\u001F\u007F]/,bI=/[\[\].#$\u0000-\u001F\u007F]/,mc=10*1024*1024,$h=function(e){return typeof e=="string"&&e.length!==0&&!MI.test(e)},O0=function(e){return typeof e=="string"&&e.length!==0&&!bI.test(e)},FI=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),O0(e)},jI=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!fh(e)||e&&typeof e=="object"&&kn(e,".sv")},M0=function(e,t,n,r){r&&t===void 0||hu(su(e,"value"),t,n)},hu=function(e,t,n){const r=n instanceof ye?new ek(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Fr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Fr(r)+" with contents = "+t.toString());if(fh(t))throw new Error(e+"contains "+t.toString()+" "+Fr(r));if(typeof t=="string"&&t.length>mc/3&&ou(t)>mc)throw new Error(e+"contains a string greater than "+mc+" utf8 bytes "+Fr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(dt(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!$h(o)))throw new Error(e+" contains an invalid key ("+o+") "+Fr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tk(r,o),hu(e,l,r),nk(r)}),i&&s)throw new Error(e+' contains ".value" child '+Fr(r)+" in addition to actual children.")}},UI=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Oo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!$h(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(ZT);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Yt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},$I=function(e,t,n,r){if(r&&t===void 0)return;const i=su(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];dt(t,(o,l)=>{const a=new ye(o);if(hu(i,l,Ue(n,a)),vh(a)===".priority"&&!jI(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),UI(i,s)},b0=function(e,t,n,r){if(!(r&&n===void 0)&&!O0(n))throw new Error(su(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zI=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),b0(e,t,n,r)},zh=function(e,t){if(ie(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},VI=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$h(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!FI(n))throw new Error(su(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pu(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!yh(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function F0(e,t,n){pu(e,n),j0(e,r=>yh(r,t))}function mn(e,t,n){pu(e,n),j0(e,r=>Yt(r,t)||Yt(t,r))}function j0(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(WI(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function WI(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Gr&&at("event: "+n.toString()),ps(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="repo_interrupt",QI=25;class qI{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xa(),this.transactionQueueTree_=new jh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GI(e,t,n){if(e.stats_=mh(e.repoInfo_),e.forceRestClient_||xT())e.server_=new Ca(e.repoInfo_,(r,i,s,o)=>{Sg(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Cg(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Un(e.repoInfo_,t,(r,i,s,o)=>{Sg(e,r,i,s,o)},r=>{Cg(e,r)},r=>{KI(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=RT(e.repoInfo_,()=>new Nk(e.stats_,e.server_)),e.infoData_=new Ck,e.infoSyncTree_=new _g({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=cu(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Vh(e,"connected",!1),e.serverSyncTree_=new _g({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);mn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function U0(e){const n=e.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mu(e){return RI({timestamp:U0(e)})}function Sg(e,t,n,r,i){e.dataUpdateCount++;const s=new ye(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=va(n,u=>rt(u));o=xI(e.serverSyncTree_,s,a,i)}else{const a=rt(n);o=CI(e.serverSyncTree_,s,a,i)}else if(r){const a=va(n,u=>rt(u));o=wI(e.serverSyncTree_,s,a)}else{const a=rt(n);o=cu(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=os(e,s)),mn(e.eventQueue_,l,o)}function Cg(e,t){Vh(e,"connected",t),t===!1&&JI(e)}function KI(e,t){dt(t,(n,r)=>{Vh(e,n,r)})}function Vh(e,t,n){const r=new ye("/.info/"+t),i=rt(n);e.infoData_.updateSnapshot(r,i);const s=cu(e.infoSyncTree_,r,i);mn(e.eventQueue_,r,s)}function Bh(e){return e.nextWriteId_++}function YI(e,t,n,r,i){gu(e,"set",{path:t.toString(),value:n,priority:r});const s=mu(e),o=rt(n,r),l=Dh(e.serverSyncTree_,t),a=P0(o,l,s),u=Bh(e),c=T0(e.serverSyncTree_,t,a,u,!0);pu(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,y)=>{const g=f==="ok";g||Ct("set at "+t+" failed: "+f);const w=cr(e.serverSyncTree_,u,!g);mn(e.eventQueue_,t,w),Jd(e,i,f,y)});const d=Hh(e,t);os(e,d),mn(e.eventQueue_,d,[])}function XI(e,t,n,r){gu(e,"update",{path:t.toString(),value:n});let i=!0;const s=mu(e),o={};if(dt(n,(l,a)=>{i=!1,o[l]=R0(Ue(t,l),rt(a),e.serverSyncTree_,s)}),i)at("update() called with empty data.  Don't do anything."),Jd(e,r,"ok",void 0);else{const l=Bh(e),a=_I(e.serverSyncTree_,t,o,l);pu(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const d=u==="ok";d||Ct("update at "+t+" failed: "+u);const f=cr(e.serverSyncTree_,l,!d),y=f.length>0?os(e,t):t;mn(e.eventQueue_,y,f),Jd(e,r,u,c)}),dt(n,u=>{const c=Hh(e,Ue(t,u));os(e,c)}),mn(e.eventQueue_,t,[])}}function JI(e){gu(e,"onDisconnectEvents");const t=mu(e),n=xa();Bd(e.onDisconnect_,ge(),(i,s)=>{const o=R0(i,s,e.serverSyncTree_,t);f0(n,i,o)});let r=[];Bd(n,ge(),(i,s)=>{r=r.concat(cu(e.serverSyncTree_,i,s));const o=Hh(e,i);os(e,o)}),e.onDisconnect_=xa(),mn(e.eventQueue_,ge(),r)}function ZI(e,t,n){let r;ie(t._path)===".info"?r=wg(e.infoSyncTree_,t,n):r=wg(e.serverSyncTree_,t,n),F0(e.eventQueue_,t._path,r)}function xg(e,t,n){let r;ie(t._path)===".info"?r=Yd(e.infoSyncTree_,t,n):r=Yd(e.serverSyncTree_,t,n),F0(e.eventQueue_,t._path,r)}function eN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(HI)}function gu(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),at(n,...t)}function Jd(e,t,n,r){t&&ps(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function $0(e,t,n){return Dh(e.serverSyncTree_,t,n)||Z.EMPTY_NODE}function Wh(e,t=e.transactionQueueTree_){if(t||vu(e,t),gs(t)){const n=V0(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&tN(e,Zo(t),n)}else A0(t)&&fu(t,n=>{Wh(e,n)})}function tN(e,t,n){const r=n.map(u=>u.currentWriteId),i=$0(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];M(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Pt(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{gu(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(cr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();vu(e,Uh(e.transactionQueueTree_,t)),Wh(e,e.transactionQueueTree_),mn(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)ps(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ct("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}os(e,t)}},o)}function os(e,t){const n=z0(e,t),r=Zo(n),i=V0(e,n);return nN(e,i,r),r}function nN(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Pt(n,a.path);let c=!1,d;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(cr(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=QI)c=!0,d="maxretry",i=i.concat(cr(e.serverSyncTree_,a.currentWriteId,!0));else{const f=$0(e,a.path,o);a.currentInputSnapshot=f;const y=t[l].update(f.val());if(y!==void 0){hu("transaction failed: Data returned ",y,a.path);let g=rt(y);typeof y=="object"&&y!=null&&kn(y,".priority")||(g=g.updatePriority(f.getPriority()));const R=a.currentWriteId,m=mu(e),h=P0(g,f,m);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=h,a.currentWriteId=Bh(e),o.splice(o.indexOf(R),1),i=i.concat(T0(e.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(cr(e.serverSyncTree_,R,!0))}else c=!0,d="nodata",i=i.concat(cr(e.serverSyncTree_,a.currentWriteId,!0))}mn(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(f){setTimeout(f,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(d==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(d),!1,null))))}vu(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)ps(r[l]);Wh(e,e.transactionQueueTree_)}function z0(e,t){let n,r=e.transactionQueueTree_;for(n=ie(t);n!==null&&gs(r)===void 0;)r=Uh(r,n),t=xe(t),n=ie(t);return r}function V0(e,t){const n=[];return B0(e,t,n),n.sort((r,i)=>r.order-i.order),n}function B0(e,t,n){const r=gs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fu(t,i=>{B0(e,i,n)})}function vu(e,t){const n=gs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,D0(t,n.length>0?n:void 0)}fu(t,r=>{vu(e,r)})}function Hh(e,t){const n=Zo(z0(e,t)),r=Uh(e.transactionQueueTree_,t);return LI(r,i=>{gc(e,i)}),gc(e,r),L0(r,i=>{gc(e,i)}),n}function gc(e,t){const n=gs(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(cr(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?D0(t,void 0):n.length=s+1,mn(e.eventQueue_,Zo(t),i);for(let o=0;o<r.length;o++)ps(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function iN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ct(`Invalid query segment '${n}' in query '${e}'`)}return t}const Tg=function(e,t){const n=sN(e),r=n.namespace;n.domain==="firebase.com"&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mT();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new K_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ye(n.pathString)}},sN=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=rN(e.substring(c,d)));const f=iN(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const y=t.slice(0,u);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oN=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=kg.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=kg.charAt(t[i]);return M(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class H0{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ue(this._path)?null:vh(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const t=ug(this._queryParams),n=hh(t);return n==="{}"?"default":n}get _queryObject(){return ug(this._queryParams)}isEqual(t){if(t=hs(t),!(t instanceof Qh))return!1;const n=this._repo===t._repo,r=yh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+JT(this._path)}}class Yn extends Qh{constructor(t,n){super(t,n,new Sh,!1)}get parent(){const t=i0(this._path);return t===null?null:new Yn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Uo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ye(t),r=ft(this.ref,t);return new Uo(this._node.getChild(n),r,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Uo(i,ft(this.ref,r),$e)))}hasChild(t){const n=new ye(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function aN(e,t){return e=hs(e),e._checkNotDeleted("ref"),t!==void 0?ft(e._root,t):e._root}function ft(e,t){return e=hs(e),ie(e._path)===null?zI("child","path",t,!1):b0("child","path",t,!1),new Yn(e._repo,Ue(e._path,t))}function uN(e,t){e=hs(e),zh("push",e._path),M0("push",t,e._path,!0);const n=U0(e._repo),r=oN(n),i=ft(e,r),s=ft(e,r);let o;return t!=null?o=vs(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function cN(e){return zh("remove",e._path),vs(e,null)}function vs(e,t){e=hs(e),zh("set",e._path),M0("set",t,e._path,!1);const n=new Go;return YI(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function dN(e,t){$I("update",t,e._path,!1);const n=new Go;return XI(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class qh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new W0("value",this,new Uo(t.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new H0(this,t,n):null}matches(t){return t instanceof qh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Gh{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new H0(this,t,n):null}createEvent(t,n){M(t.childName!=null,"Child events should have a childName.");const r=ft(new Yn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new W0(t.type,this,new Uo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gh?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function fN(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,d)=>{xg(e._repo,e,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new lN(n,s||void 0),l=t==="value"?new qh(o):new Gh(t,o);return ZI(e._repo,e,l),()=>xg(e._repo,e,l)}function yu(e,t,n,r){return fN(e,"value",t,n,r)}cI(Yn);gI(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FIREBASE_DATABASE_EMULATOR_HOST",Zd={};let pN=!1;function mN(e,t,n,r){e.repoInfo_=new K_(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function gN(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Tg(s,i),l=o.repoInfo,a,u;typeof process<"u"&&Hm&&(u=Hm[hN]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Tg(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new Bi(Bi.OWNER):new kT(e.name,e.options,t);VI("Invalid Firebase Database URL",o),ue(o.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=yN(l,e,c,new TT(e.name,n));return new _N(d,e)}function vN(e,t){const n=Zd[t];(!n||n[e.key]!==e)&&Qn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),eN(e),delete n[e.key]}function yN(e,t,n,r){let i=Zd[t.name];i||(i={},Zd[t.name]=i);let s=i[e.toURLString()];return s&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qI(e,pN,n,r),i[e.toURLString()]=s,s}class _N{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qn("Cannot call "+t+" on a deleted database.")}}function wN(e=eT(),t){const n=Yx(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=V1("database");r&&EN(n,...r)}return n}function EN(e,t,n,r={}){e=hs(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Bi(Bi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:B1(r.mockUserToken,e.app.options.projectId);s=new Bi(o)}mN(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e){cT(Zx),_a(new Do("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return gN(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),zi(Qm,qm,e),zi(Qm,qm,"esm2017")}Un.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Un.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};SN();var CN="firebase",xN="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(CN,xN,"app");const TN={apiKey:"AIzaSyAPnhdmY4roxisTau_dZ8J4usqdX-mvVxI",authDomain:"ajs-playgrou.firebaseapp.com",databaseURL:"https://ajs-playgrou-default-rtdb.firebaseio.com",projectId:"ajs-playgrou",storageBucket:"ajs-playgrou.appspot.com",messagingSenderId:"450339890811",appId:"1:450339890811:web:eb632e9a40f7b3011f64de",measurementId:"G-FKHJ9T1N5M"},kN=A_(TN),IN=aN(wN(kN)),Q0=ft(IN,"/family-feud-v1"),el=ft(Q0,"/questions"),Kh=ft(Q0,"/players");function NN(e){return yu(el,t=>{const n=Object.entries(t.val()).map(([r,i])=>({...i,id:r}));e(n)})}function RN(e,t){return yu(ft(el,e),n=>{t(n.val())})}function PN(e){const t=uN(el,{text:e.question});if(t.key)return q0(t.key,e)}function q0(e,t){return dN(ft(el,e),{answers:t.answers.map(({text:n,points:r})=>({text:n,points:Number(r)}))})}function DN(e){return cN(ft(el,e))}function _u(e){const[t,n]=E.useState(),[r,i]=E.useState(!1);return E.useEffect(()=>{if(!e)return;i(!0);const s=RN(e,l=>{n(l),i(!1)});function o(){s()}return o},[e]),{question:t,loading:r}}function G0(e,t){return e.answers.reduce((n,r,i)=>t.answerStatuses[i]?n+r.points:n,0)}function AN(e){return ft(Kh,`${e}`)}function LN(e){return ft(Kh,`${e}/questions`)}function wu(e,t){return ft(LN(e),`/${t}`)}function ON(e){return ft(Kh,`${e}/currentQuestion`)}function MN(e){const{question:t,playerId:n,questionId:r}=e,i={answerStatuses:t.answers.map(()=>!1),errorCount:0};vs(wu(n,r),i)}function bN(e){const{playerId:t,questionId:n}=e;vs(ON(t),n)}function FN(e){const{playerId:t,questionId:n,answerIndex:r,currentPlayerQuestion:i}=e;vs(wu(t,n),{...i,answerStatuses:i.answerStatuses.map((s,o)=>o===r?!s:s)})}function Ig(e){const{playerId:t,questionId:n,errorCount:r}=e;vs(ft(wu(t,n),"errorCount"),r)}function jN(e){const{playerId:t,questionId:n}=e,[r,i]=E.useState(null);return E.useEffect(()=>!t||!n?void 0:yu(wu(t,n),o=>{i(o.val())}),[t,n]),{playerQuestion:r}}function Yh(e){const{playerId:t}=e,[n,r]=E.useState(null);return E.useEffect(()=>t?yu(AN(t),s=>{r(s.val())}):void 0,[t]),{player:n}}const UN="_flipped_xunc0_17",Us={"flip-card":"_flip-card_xunc0_1","flip-card-inner":"_flip-card-inner_xunc0_8",flipped:UN,"flip-card-front":"_flip-card-front_xunc0_21","flip-card-back":"_flip-card-back_xunc0_22"},Ng=({front:e,back:t,flipped:n})=>D.jsx("li",{className:[Us["flip-card"],n&&Us.flipped].join(" "),children:D.jsxs("div",{className:Us["flip-card-inner"],children:[D.jsx("div",{className:Us["flip-card-front"],children:D.jsx("div",{className:"w-full",children:e})}),D.jsx("div",{className:Us["flip-card-back"],children:D.jsx("div",{className:"w-full",children:t})})]})});function $N(e){return`/board?p=${e}`}const zN=()=>{E.useEffect(()=>{document.title="Family Feud | Board"},[]);const[e]=A1(),t=e.get("p"),{player:n}=Yh({playerId:t}),r=n==null?void 0:n.currentQuestion,{question:i}=_u(r),s=n&&n.questions[r||""],o=Array.from({length:(s==null?void 0:s.errorCount)||0});if(!i||!s)return D.jsx("div",{children:"not found"});const l=G0(i,s),a=Array.from({length:8-i.answers.length});return D.jsx("div",{className:"flex justify-center items-center h-screen",children:D.jsxs("div",{className:"space-y-4",children:[D.jsx("div",{className:"flex justify-center mb-4",children:D.jsx("div",{className:"p-4 w-fit border border-blue-400 rounded text-xl",children:l})}),D.jsxs("ul",{className:["flex flex-col","gap-4","md:grid md:grid-rows-4 md:grid-cols-1 md:grid-flow-col"].join(" "),children:[i.answers.map((u,c)=>{const d=s==null?void 0:s.answerStatuses,f=d&&d[c];return D.jsx(Ng,{flipped:f,back:D.jsxs("div",{className:"flex justify-between",children:[D.jsx("div",{children:u.text}),D.jsx("div",{children:u.points})]}),front:D.jsx("div",{className:"text-center",children:c+1})},c)}),a.map((u,c)=>D.jsx(Ng,{empty:!0},c))]}),D.jsx("div",{className:"flex justify-center",children:D.jsx("ul",{className:"flex flex-row gap-4 min-h-4",children:o.length===0?D.jsx("li",{className:"w-4 h-4 rounded-full"}):o.map((u,c)=>D.jsx("li",{className:"w-4 h-4 bg-red-600 rounded-full"},c))})})]})})},$n=({style:e="",children:t,className:n="",type:r,onClick:i=()=>{},outline:s})=>D.jsx("button",{className:["btn",e,n,s&&"btn-outline"].join(" "),type:r,onClick:i,children:t});function K0(e,t){return`/players/${e}/questions/${t}`}const VN=()=>{const{questionId:e,playerId:t}=uh(),{question:n}=_u(e),{playerQuestion:r}=jN({playerId:t,questionId:e}),i=(r==null?void 0:r.errorCount)||0;if(!t||!e||!n)return D.jsx(D.Fragment,{children:"Not found"});const s=()=>{i!==0&&Ig({playerId:t,questionId:e,errorCount:i-1})},o=()=>{Ig({playerId:t,questionId:e,errorCount:i+1})};return D.jsxs("div",{className:"p-4",children:[D.jsx("div",{className:"font-bold text-xl",children:n.text}),D.jsxs("div",{children:["Earned points:"," ",r?G0(n,r):0]}),D.jsx("ul",{className:"flex flex-col gap-y-8 mb-8",children:n.answers.map((l,a)=>{const u=r==null?void 0:r.answerStatuses,c=u&&u[a];return D.jsxs("li",{className:["border border-red-500 w-[300px] p-2 flex justify-between",c&&"bg-green-500"].join(" "),children:[l.text," - ",l.points," ",r&&D.jsx("button",{onClick:()=>FN({playerId:t,questionId:e,answerIndex:a,currentPlayerQuestion:r}),children:c?"hide":"flip"})]},a)})}),D.jsxs("div",{children:["errorCount = ",i]}),D.jsxs("div",{className:"flex justify-between mb-8",children:[D.jsx($n,{onClick:s,children:"- error"}),D.jsx($n,{onClick:o,children:"+ error"})]}),D.jsx("div",{children:D.jsx(iu,{target:"_blank",rel:"noreferrer",to:$N(t),className:"btn",children:"Open board"})})]})},Rg={},Pg={getItem:e=>localStorage?localStorage==null?void 0:localStorage.getItem(e):Rg[e],setItem:(e,t)=>{localStorage||(Rg[e]=t),localStorage==null||localStorage.setItem(e,t)}};function BN(){const e="playerId";let t=Pg.getItem(e);return t||(t=crypto.randomUUID(),Pg.setItem(e,t)),t}const ef={getPlayerId:BN};function Y0(e){return`/questions/${e}`}const WN=()=>{const{id:e}=uh(),{question:t,loading:n}=_u(e),{player:r}=Yh({playerId:ef.getPlayerId()}),i=qo();function s(){let o=ef.getPlayerId();!e||!t||(MN({question:t,playerId:o,questionId:e}),bN({playerId:o,questionId:e}),i(K0(o,e)))}return n?D.jsx("div",{children:"Loading..."}):!t||!e?D.jsx("div",{children:"Question not found"}):D.jsxs("div",{className:"p-4",children:[D.jsx("h1",{className:"text-3xl font-bold underline",children:t.text}),(r==null?void 0:r.questions[e])&&D.jsx("div",{className:"text-green-600 italic",children:"Played"}),D.jsx("ul",{children:t.answers.map((o,l)=>D.jsxs("li",{children:[o.text," - ",o.points]},l))}),D.jsxs("div",{className:"flex justify-between",children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsx($n,{style:"btn-primary",onClick:s,children:"Play this question"}),D.jsx(iu,{to:"edit",relative:"path",children:D.jsx($n,{style:"btn-secondary",children:"Edit"})})]}),D.jsx("div",{children:D.jsx($n,{style:"btn-error",onClick:()=>{confirm("Are you sure you want to delete this question?")!==!1&&(DN(e),i("/questions"))},children:"Delete"})})]}),D.jsx(c1,{})]})};var HN=Object.defineProperty,QN=(e,t,n)=>t in e?HN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vc=(e,t,n)=>(QN(e,typeof t!="symbol"?t+"":t,n),n);let qN=class{constructor(){vc(this,"current",this.detect()),vc(this,"handoffState","pending"),vc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},zn=new qN,qn=(e,t)=>{zn.isServer?E.useEffect(e,t):E.useLayoutEffect(e,t)};function Eu(e){let t=E.useRef(e);return qn(()=>{t.current=e},[e]),t}let vt=function(e){let t=Eu(e);return Q.useCallback((...n)=>t.current(...n),[t])};function Su(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Cu(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Su(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Cu();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function GN(){let[e]=E.useState(Cu);return E.useEffect(()=>()=>e.dispose(),[e]),e}function KN(){let e=typeof document>"u";return"useSyncExternalStore"in qi?(t=>t.useSyncExternalStore)(qi)(()=>()=>{},()=>!1,()=>!e):!1}function xu(){let e=KN(),[t,n]=E.useState(zn.isHandoffComplete);return t&&zn.isHandoffComplete===!1&&n(!1),E.useEffect(()=>{t!==!0&&n(!0)},[t]),E.useEffect(()=>zn.handoff(),[]),e?!1:t}var Dg;let ys=(Dg=Q.useId)!=null?Dg:function(){let e=xu(),[t,n]=Q.useState(e?()=>zn.nextId():null);return qn(()=>{t===null&&n(zn.nextId())},[t]),t!=null?""+t:void 0};function Nr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Nr),r}function X0(e){return zn.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let tf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var jr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(jr||{}),J0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(J0||{}),YN=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(YN||{});function XN(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(tf)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Z0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Z0||{});function JN(e,t=0){var n;return e===((n=X0(e))==null?void 0:n.body)?!1:Nr(t,{0(){return e.matches(tf)},1(){let r=e;for(;r!==null;){if(r.matches(tf))return!0;r=r.parentElement}return!1}})}var ZN=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ZN||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kr(e){e==null||e.focus({preventScroll:!0})}let eR=["textarea","input"].join(",");function tR(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,eR))!=null?n:!1}function nR(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?nR(e):e:XN(e);i.length>0&&o.length>1&&(o=o.filter(y=>!i.includes(y))),r=r??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=o.length,f;do{if(c>=d||c+d<=0)return 0;let y=a+c;if(t&16)y=(y+d)%d;else{if(y<0)return 3;if(y>=d)return 1}f=o[y],f==null||f.focus(u),c+=l}while(f!==s.activeElement);return t&6&&tR(f)&&f.select(),2}function ew(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function rR(){return/Android/gi.test(window.navigator.userAgent)}function iR(){return ew()||rR()}function Il(e,t,n){let r=Eu(t);E.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function tw(e,t,n){let r=Eu(t);E.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function sR(e,t,n=!0){let r=E.useRef(!1);E.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,l){if(!r.current||o.defaultPrevented)return;let a=l(o);if(a===null||!a.getRootNode().contains(a)||!a.isConnected)return;let u=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let c of u){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(a)||o.composed&&o.composedPath().includes(d))return}return!JN(a,Z0.Loose)&&a.tabIndex!==-1&&o.preventDefault(),t(o,a)}let s=E.useRef(null);Il("pointerdown",o=>{var l,a;r.current&&(s.current=((a=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:a[0])||o.target)},!0),Il("mousedown",o=>{var l,a;r.current&&(s.current=((a=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:a[0])||o.target)},!0),Il("click",o=>{iR()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Il("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),tw("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function tl(...e){return E.useMemo(()=>X0(...e),[...e])}let nw=Symbol();function oR(e,t=!0){return Object.assign(e,{[nw]:t})}function Xn(...e){let t=E.useRef(e);E.useEffect(()=>{t.current=e},[e]);let n=vt(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[nw]))?void 0:n}function Xh(e,t){let n=E.useRef([]),r=vt(e);E.useEffect(()=>{let i=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let l=r(t,i);return n.current=t,l}},[r,...t])}function Ag(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var nf=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(nf||{}),lR=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(lR||{});function In({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??aR;let a=rw(t,e);if(s)return Nl(a,n,r,o,l);let u=i??0;if(u&2){let{static:c=!1,...d}=a;if(c)return Nl(d,n,r,o,l)}if(u&1){let{unmount:c=!0,...d}=a;return Nr(c?0:1,{0(){return null},1(){return Nl({...d,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Nl(a,n,r,o,l)}function Nl(e,t={},n,r,i){let{as:s=n,children:o,refName:l="ref",...a}=yc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},c=typeof o=="function"?o(t):o;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(t));let d={};if(t){let f=!1,y=[];for(let[g,w]of Object.entries(t))typeof w=="boolean"&&(f=!0),w===!0&&y.push(g);f&&(d["data-headlessui-state"]=y.join(" "))}if(s===E.Fragment&&Object.keys(Lg(a)).length>0){if(!E.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let f=c.props,y=typeof(f==null?void 0:f.className)=="function"?(...w)=>Ag(f==null?void 0:f.className(...w),a.className):Ag(f==null?void 0:f.className,a.className),g=y?{className:y}:{};return E.cloneElement(c,Object.assign({},rw(c.props,Lg(yc(a,["ref"]))),d,u,{ref:i(c.ref,u.ref)},g))}return E.createElement(s,Object.assign({},yc(a,["ref"]),s!==E.Fragment&&u,s!==E.Fragment&&d),c)}function aR(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function rw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let l of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function Nn(e){var t;return Object.assign(E.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Lg(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function yc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let uR="div";var Aa=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Aa||{});function cR(e,t){var n;let{features:r=1,...i}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return In({ourProps:s,theirProps:i,slot:{},defaultTag:uR,name:"Hidden"})}let rf=Nn(cR),iw=E.createContext(null);iw.displayName="OpenClosedContext";var qs=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(qs||{});function dR(){return E.useContext(iw)}function fR(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let lr=[];fR(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&lr[0]!==t.target&&(lr.unshift(t.target),lr=lr.filter(n=>n!=null&&n.isConnected),lr.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function hR(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&pR(n)?!1:r}function pR(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var sw=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(sw||{});function ow(e,t,n,r){let i=Eu(n);E.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function lw(){let e=E.useRef(!1);return qn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function aw(e){let t=vt(e),n=E.useRef(!1);E.useEffect(()=>(n.current=!1,()=>{n.current=!0,Su(()=>{n.current&&t()})}),[t])}var Gs=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Gs||{});function mR(){let e=E.useRef(0);return tw("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function uw(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let gR="div";var cw=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(cw||{});function vR(e,t){let n=E.useRef(null),r=Xn(n,t),{initialFocus:i,containers:s,features:o=30,...l}=e;xu()||(o=1);let a=tl(n);wR({ownerDocument:a},!!(o&16));let u=ER({ownerDocument:a,container:n,initialFocus:i},!!(o&2));SR({ownerDocument:a,container:n,containers:s,previousActiveElement:u},!!(o&8));let c=mR(),d=vt(w=>{let R=n.current;R&&(m=>m())(()=>{Nr(c.current,{[Gs.Forwards]:()=>{Vl(R,jr.First,{skipElements:[w.relatedTarget]})},[Gs.Backwards]:()=>{Vl(R,jr.Last,{skipElements:[w.relatedTarget]})}})})}),f=GN(),y=E.useRef(!1),g={ref:r,onKeyDown(w){w.key=="Tab"&&(y.current=!0,f.requestAnimationFrame(()=>{y.current=!1}))},onBlur(w){let R=uw(s);n.current instanceof HTMLElement&&R.add(n.current);let m=w.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(dw(R,m)||(y.current?Vl(n.current,Nr(c.current,{[Gs.Forwards]:()=>jr.Next,[Gs.Backwards]:()=>jr.Previous})|jr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Kr(w.target)))}};return Q.createElement(Q.Fragment,null,!!(o&4)&&Q.createElement(rf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Aa.Focusable}),In({ourProps:g,theirProps:l,defaultTag:gR,name:"FocusTrap"}),!!(o&4)&&Q.createElement(rf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Aa.Focusable}))}let yR=Nn(vR),$s=Object.assign(yR,{features:cw});function _R(e=!0){let t=E.useRef(lr.slice());return Xh(([n],[r])=>{r===!0&&n===!1&&Su(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=lr.slice())},[e,lr,t]),vt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function wR({ownerDocument:e},t){let n=_R(t);Xh(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Kr(n())},[t]),aw(()=>{t&&Kr(n())})}function ER({ownerDocument:e,container:t,initialFocus:n},r){let i=E.useRef(null),s=lw();return Xh(()=>{if(!r)return;let o=t.current;o&&Su(()=>{if(!s.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}n!=null&&n.current?Kr(n.current):Vl(o,jr.First)===J0.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function SR({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let s=lw();ow(e==null?void 0:e.defaultView,"focus",o=>{if(!i||!s.current)return;let l=uw(n);t.current instanceof HTMLElement&&l.add(t.current);let a=r.current;if(!a)return;let u=o.target;u&&u instanceof HTMLElement?dw(l,u)?(r.current=u,Kr(u)):(o.preventDefault(),o.stopPropagation(),Kr(a)):Kr(r.current)},!0)}function dw(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let fw=E.createContext(!1);function CR(){return E.useContext(fw)}function sf(e){return Q.createElement(fw.Provider,{value:e.force},e.children)}function xR(e){let t=CR(),n=E.useContext(hw),r=tl(e),[i,s]=E.useState(()=>{if(!t&&n!==null||zn.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return E.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),E.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),i}let TR=E.Fragment;function kR(e,t){let n=e,r=E.useRef(null),i=Xn(oR(c=>{r.current=c}),t),s=tl(r),o=xR(r),[l]=E.useState(()=>{var c;return zn.isServer?null:(c=s==null?void 0:s.createElement("div"))!=null?c:null}),a=E.useContext(of),u=xu();return qn(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),qn(()=>{if(l&&a)return a.register(l)},[a,l]),aw(()=>{var c;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((c=o.parentElement)==null||c.removeChild(o)))}),u?!o||!l?null:eu.createPortal(In({ourProps:{ref:i},theirProps:n,defaultTag:TR,name:"Portal"}),l):null}let IR=E.Fragment,hw=E.createContext(null);function NR(e,t){let{target:n,...r}=e,i={ref:Xn(t)};return Q.createElement(hw.Provider,{value:n},In({ourProps:i,theirProps:r,defaultTag:IR,name:"Popover.Group"}))}let of=E.createContext(null);function RR(){let e=E.useContext(of),t=E.useRef([]),n=vt(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=vt(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=E.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,E.useMemo(()=>function({children:s}){return Q.createElement(of.Provider,{value:i},s)},[i])]}let PR=Nn(kR),DR=Nn(NR),lf=Object.assign(PR,{Group:DR});function AR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const LR=typeof Object.is=="function"?Object.is:AR,{useState:OR,useEffect:MR,useLayoutEffect:bR,useDebugValue:FR}=qi;function jR(e,t,n){const r=t(),[{inst:i},s]=OR({inst:{value:r,getSnapshot:t}});return bR(()=>{i.value=r,i.getSnapshot=t,_c(i)&&s({inst:i})},[e,r,t]),MR(()=>(_c(i)&&s({inst:i}),e(()=>{_c(i)&&s({inst:i})})),[e]),FR(r),r}function _c(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!LR(n,r)}catch{return!0}}function UR(e,t,n){return t()}const $R=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=!$R,VR=zR?UR:jR,BR="useSyncExternalStore"in qi?(e=>e.useSyncExternalStore)(qi):VR;function WR(e){return BR(e.subscribe,e.getSnapshot,e.getSnapshot)}function HR(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(l=>l()))}}}function QR(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,s=e-i;n.style(r,"paddingRight",`${s}px`)}}}function qR(){return ew()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Cu();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let a=l.target.closest("a");if(!a)return;let{hash:u}=new URL(a.href),c=e.querySelector(u);c&&!r(c)&&(o=c)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let a=l.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let a=(l=window.scrollY)!=null?l:window.pageYOffset;s!==a&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function GR(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function KR(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Wr=HR(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Cu(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:KR(n)},i=[qR(),QR(),GR()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Wr.subscribe(()=>{let e=Wr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Wr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Wr.dispatch("TEARDOWN",n)}});function YR(e,t,n){let r=WR(Wr),i=e?r.get(e):void 0,s=i?i.count>0:!1;return qn(()=>{if(!(!e||!t))return Wr.dispatch("PUSH",e,n),()=>Wr.dispatch("POP",e,n)},[t,e]),s}let wc=new Map,zs=new Map;function Og(e,t=!0){qn(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var o;if(!r)return;let l=(o=zs.get(r))!=null?o:1;if(l===1?zs.delete(r):zs.set(r,l-1),l!==1)return;let a=wc.get(r);a&&(a["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",a["aria-hidden"]),r.inert=a.inert,wc.delete(r))}let s=(n=zs.get(r))!=null?n:0;return zs.set(r,s+1),s!==0||(wc.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}function XR({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let i=E.useRef((r=n==null?void 0:n.current)!=null?r:null),s=tl(i),o=vt(()=>{var l,a,u;let c=[];for(let d of e)d!==null&&(d instanceof HTMLElement?c.push(d):"current"in d&&d.current instanceof HTMLElement&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(i.current)||d.contains((u=(a=i.current)==null?void 0:a.getRootNode())==null?void 0:u.host)||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:o,contains:vt(l=>o().some(a=>a.contains(l))),mainTreeNodeRef:i,MainTreeNode:E.useMemo(()=>function(){return n!=null?null:Q.createElement(rf,{features:Aa.Hidden,ref:i})},[i,n])}}let Jh=E.createContext(()=>{});Jh.displayName="StackContext";var af=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(af||{});function JR(){return E.useContext(Jh)}function ZR({children:e,onUpdate:t,type:n,element:r,enabled:i}){let s=JR(),o=vt((...l)=>{t==null||t(...l),s(...l)});return qn(()=>{let l=i===void 0||i===!0;return l&&o(0,n,r),()=>{l&&o(1,n,r)}},[o,n,r,i]),Q.createElement(Jh.Provider,{value:o},e)}let pw=E.createContext(null);function mw(){let e=E.useContext(pw);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,mw),t}return e}function eP(){let[e,t]=E.useState([]);return[e.length>0?e.join(" "):void 0,E.useMemo(()=>function(n){let r=vt(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),a=l.indexOf(s);return a!==-1&&l.splice(a,1),l}))),i=E.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Q.createElement(pw.Provider,{value:i},n.children)},[t])]}let tP="p";function nP(e,t){let n=ys(),{id:r=`headlessui-description-${n}`,...i}=e,s=mw(),o=Xn(t);qn(()=>s.register(r),[r,s.register]);let l={ref:o,...s.props,id:r};return In({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:tP,name:s.name||"Description"})}let rP=Nn(nP),iP=Object.assign(rP,{});var sP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(sP||{}),oP=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(oP||{});let lP={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},La=E.createContext(null);La.displayName="DialogContext";function nl(e){let t=E.useContext(La);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nl),n}return t}function aP(e,t,n=()=>[document.body]){YR(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function uP(e,t){return Nr(t.type,lP,e,t)}let cP="div",dP=nf.RenderStrategy|nf.Static;function fP(e,t){let n=ys(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:a=!1,...u}=e,[c,d]=E.useState(0),f=E.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(f.current||(f.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=dR();i===void 0&&y!==null&&(i=(y&qs.Open)===qs.Open);let g=E.useRef(null),w=Xn(g,t),R=tl(g),m=e.hasOwnProperty("open")||y!==null,h=e.hasOwnProperty("onClose");if(!m&&!h)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let v=i?0:1,[p,C]=E.useReducer(uP,{titleId:null,descriptionId:null,panelRef:E.createRef()}),k=vt(()=>s(!1)),x=vt(_e=>C({type:0,id:_e})),A=xu()?a?!1:v===0:!1,B=c>1,V=E.useContext(La)!==null,[oe,q]=RR(),X={get current(){var _e;return(_e=p.panelRef.current)!=null?_e:g.current}},{resolveContainers:ne,mainTreeNodeRef:te,MainTreeNode:ze}=XR({portals:oe,defaultContainers:[X]}),De=B?"parent":"leaf",b=y!==null?(y&qs.Closing)===qs.Closing:!1,W=V||b?!1:A,K=E.useCallback(()=>{var _e,Mt;return(Mt=Array.from((_e=R==null?void 0:R.querySelectorAll("body > *"))!=null?_e:[]).find(Ae=>Ae.id==="headlessui-portal-root"?!1:Ae.contains(te.current)&&Ae instanceof HTMLElement))!=null?Mt:null},[te]);Og(K,W);let me=B?!0:A,fe=E.useCallback(()=>{var _e,Mt;return(Mt=Array.from((_e=R==null?void 0:R.querySelectorAll("[data-headlessui-portal]"))!=null?_e:[]).find(Ae=>Ae.contains(te.current)&&Ae instanceof HTMLElement))!=null?Mt:null},[te]);Og(fe,me),sR(ne,k,!(!A||B));let Qe=!(B||v!==0);ow(R==null?void 0:R.defaultView,"keydown",_e=>{Qe&&(_e.defaultPrevented||_e.key===sw.Escape&&(_e.preventDefault(),_e.stopPropagation(),k()))}),aP(R,!(b||v!==0||V),ne),E.useEffect(()=>{if(v!==0||!g.current)return;let _e=new ResizeObserver(Mt=>{for(let Ae of Mt){let Jn=Ae.target.getBoundingClientRect();Jn.x===0&&Jn.y===0&&Jn.width===0&&Jn.height===0&&k()}});return _e.observe(g.current),()=>_e.disconnect()},[v,g,k]);let[kt,vn]=eP(),Ar=E.useMemo(()=>[{dialogState:v,close:k,setTitleId:x},p],[v,p,k,x]),Ke=E.useMemo(()=>({open:v===0}),[v]),tn={ref:w,id:r,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":p.titleId,"aria-describedby":kt};return Q.createElement(ZR,{type:"Dialog",enabled:v===0,element:g,onUpdate:vt((_e,Mt)=>{Mt==="Dialog"&&Nr(_e,{[af.Add]:()=>d(Ae=>Ae+1),[af.Remove]:()=>d(Ae=>Ae-1)})})},Q.createElement(sf,{force:!0},Q.createElement(lf,null,Q.createElement(La.Provider,{value:Ar},Q.createElement(lf.Group,{target:g},Q.createElement(sf,{force:!1},Q.createElement(vn,{slot:Ke,name:"Dialog.Description"},Q.createElement($s,{initialFocus:o,containers:ne,features:A?Nr(De,{parent:$s.features.RestoreFocus,leaf:$s.features.All&~$s.features.FocusLock}):$s.features.None},Q.createElement(q,null,In({ourProps:tn,theirProps:u,slot:Ke,defaultTag:cP,features:dP,visible:v===0,name:"Dialog"}))))))))),Q.createElement(ze,null))}let hP="div";function pP(e,t){let n=ys(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:s,close:o}]=nl("Dialog.Overlay"),l=Xn(t),a=vt(c=>{if(c.target===c.currentTarget){if(hR(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),o()}}),u=E.useMemo(()=>({open:s===0}),[s]);return In({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:a},theirProps:i,slot:u,defaultTag:hP,name:"Dialog.Overlay"})}let mP="div";function gP(e,t){let n=ys(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:s},o]=nl("Dialog.Backdrop"),l=Xn(t);E.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let a=E.useMemo(()=>({open:s===0}),[s]);return Q.createElement(sf,{force:!0},Q.createElement(lf,null,In({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:i,slot:a,defaultTag:mP,name:"Dialog.Backdrop"})))}let vP="div";function yP(e,t){let n=ys(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:s},o]=nl("Dialog.Panel"),l=Xn(t,o.panelRef),a=E.useMemo(()=>({open:s===0}),[s]),u=vt(c=>{c.stopPropagation()});return In({ourProps:{ref:l,id:r,onClick:u},theirProps:i,slot:a,defaultTag:vP,name:"Dialog.Panel"})}let _P="h2";function wP(e,t){let n=ys(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:s,setTitleId:o}]=nl("Dialog.Title"),l=Xn(t);E.useEffect(()=>(o(r),()=>o(null)),[r,o]);let a=E.useMemo(()=>({open:s===0}),[s]);return In({ourProps:{ref:l,id:r},theirProps:i,slot:a,defaultTag:_P,name:"Dialog.Title"})}let EP=Nn(fP),SP=Nn(gP),CP=Nn(yP),xP=Nn(pP),TP=Nn(wP),Rl=Object.assign(EP,{Backdrop:SP,Panel:CP,Overlay:xP,Title:TP,Description:iP});function gw(){const[e,t]=E.useState(!1);function n(){t(!0)}function r(){t(!1)}return{isOpen:e,open:n,close:r}}const vw=({isOpen:e,onClose:t,title:n,description:r,children:i})=>D.jsxs(Rl,{open:e,onClose:t,className:"relative z-50",children:[D.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),D.jsx("div",{className:"fixed inset-0 w-screen overflow-y-auto",children:D.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:D.jsxs(Rl.Panel,{className:"mx-auto max-w-lg rounded bg-white relative p-4",children:[D.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:t,tabIndex:-1,children:""}),D.jsx(Rl.Title,{children:n}),D.jsx(Rl.Description,{children:r}),i]})})})]});var rl=e=>e.type==="checkbox",Li=e=>e instanceof Date,Et=e=>e==null;const yw=e=>typeof e=="object";var Je=e=>!Et(e)&&!Array.isArray(e)&&yw(e)&&!Li(e),kP=e=>Je(e)&&e.target?rl(e.target)?e.target.checked:e.target.value:e,IP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,NP=(e,t)=>e.has(IP(t)),RP=e=>{const t=e.constructor&&e.constructor.prototype;return Je(t)&&t.hasOwnProperty("isPrototypeOf")},Zh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Zh&&(e instanceof Blob||e instanceof FileList))&&(n||Je(e)))if(t=n?[]:{},!n&&!RP(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=It(e[r]));else return e;return t}var _s=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>e===void 0,$=(e,t,n)=>{if(!t||!Je(e))return n;const r=_s(t.split(/[,[\].]+?/)).reduce((i,s)=>Et(i)?i:i[s],e);return Ne(r)||r===e?Ne(e[t])?n:e[t]:r},Ln=e=>typeof e=="boolean";const Mg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PP=Q.createContext(null),DP=()=>Q.useContext(PP);var AP=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Gt.all&&(t._proxyFormState[o]=!r||Gt.all),n&&(n[o]=!0),e[o]}});return i},jt=e=>Je(e)&&!Object.keys(e).length,LP=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return jt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Gt.all))},Xt=e=>Array.isArray(e)?e:[e];function _w(e){const t=Q.useRef(e);t.current=e,Q.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Sn=e=>typeof e=="string",OP=(e,t,n,r,i)=>Sn(e)?(r&&t.watch.add(e),$(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),$(n,s))):(r&&(t.watchAll=!0),n),ep=e=>/^\w*$/.test(e),ww=e=>_s(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ie=(e,t,n)=>{let r=-1;const i=ep(t)?[t]:ww(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=Je(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e},MP=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},tr=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Ec=(e,t,n={})=>n.shouldFocus||Ne(n.shouldFocus)?n.focusName||`${e}.${Ne(n.focusIndex)?t:n.focusIndex}.`:"",uf=e=>({isOnSubmit:!e||e===Gt.onSubmit,isOnBlur:e===Gt.onBlur,isOnChange:e===Gt.onChange,isOnAll:e===Gt.all,isOnTouch:e===Gt.onTouched}),cf=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Qi=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=$(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)break;if(o.ref&&t(o.ref,o.name)&&!r)break;Qi(l,t)}else Je(l)&&Qi(l,t)}}};var Ew=(e,t,n)=>{const r=_s($(e,n));return Ie(r,"root",t[n]),Ie(e,n,r),e},tp=e=>e.type==="file",dr=e=>typeof e=="function",Oa=e=>{if(!Zh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Bl=e=>Sn(e),np=e=>e.type==="radio",Ma=e=>e instanceof RegExp;const bg={value:!1,isValid:!1},Fg={value:!0,isValid:!0};var Sw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ne(e[0].attributes.value)?Ne(e[0].value)||e[0].value===""?Fg:{value:e[0].value,isValid:!0}:Fg:bg}return bg};const jg={isValid:!1,value:null};var Cw=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,jg):jg;function Ug(e,t,n="validate"){if(Bl(e)||Array.isArray(e)&&e.every(Bl)||Ln(e)&&!e)return{type:n,message:Bl(e)?e:"",ref:t}}var yi=e=>Je(e)&&!Ma(e)?e:{value:e,message:""},df=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:d,pattern:f,validate:y,name:g,valueAsNumber:w,mount:R,disabled:m}=e._f,h=$(t,g);if(!R||m)return{};const v=o?o[0]:s,p=q=>{r&&v.reportValidity&&(v.setCustomValidity(Ln(q)?"":q||""),v.reportValidity())},C={},k=np(s),x=rl(s),A=k||x,B=(w||tp(s))&&Ne(s.value)&&Ne(h)||Oa(s)&&s.value===""||h===""||Array.isArray(h)&&!h.length,V=MP.bind(null,g,n,C),oe=(q,X,ne,te=Pn.maxLength,ze=Pn.minLength)=>{const De=q?X:ne;C[g]={type:q?te:ze,message:De,ref:s,...V(q?te:ze,De)}};if(i?!Array.isArray(h)||!h.length:l&&(!A&&(B||Et(h))||Ln(h)&&!h||x&&!Sw(o).isValid||k&&!Cw(o).isValid)){const{value:q,message:X}=Bl(l)?{value:!!l,message:l}:yi(l);if(q&&(C[g]={type:Pn.required,message:X,ref:v,...V(Pn.required,X)},!n))return p(X),C}if(!B&&(!Et(c)||!Et(d))){let q,X;const ne=yi(d),te=yi(c);if(!Et(h)&&!isNaN(h)){const ze=s.valueAsNumber||h&&+h;Et(ne.value)||(q=ze>ne.value),Et(te.value)||(X=ze<te.value)}else{const ze=s.valueAsDate||new Date(h),De=K=>new Date(new Date().toDateString()+" "+K),b=s.type=="time",W=s.type=="week";Sn(ne.value)&&h&&(q=b?De(h)>De(ne.value):W?h>ne.value:ze>new Date(ne.value)),Sn(te.value)&&h&&(X=b?De(h)<De(te.value):W?h<te.value:ze<new Date(te.value))}if((q||X)&&(oe(!!q,ne.message,te.message,Pn.max,Pn.min),!n))return p(C[g].message),C}if((a||u)&&!B&&(Sn(h)||i&&Array.isArray(h))){const q=yi(a),X=yi(u),ne=!Et(q.value)&&h.length>+q.value,te=!Et(X.value)&&h.length<+X.value;if((ne||te)&&(oe(ne,q.message,X.message),!n))return p(C[g].message),C}if(f&&!B&&Sn(h)){const{value:q,message:X}=yi(f);if(Ma(q)&&!h.match(q)&&(C[g]={type:Pn.pattern,message:X,ref:s,...V(Pn.pattern,X)},!n))return p(X),C}if(y){if(dr(y)){const q=await y(h,t),X=Ug(q,v);if(X&&(C[g]={...X,...V(Pn.validate,X.message)},!n))return p(X.message),C}else if(Je(y)){let q={};for(const X in y){if(!jt(q)&&!n)break;const ne=Ug(await y[X](h,t),v,X);ne&&(q={...ne,...V(X,ne.message)},p(ne.message),n&&(C[g]=q))}if(!jt(q)&&(C[g]={ref:v,...q},!n))return C}}return p(!0),C},Sc=(e,t)=>[...e,...Xt(t)],Cc=e=>Array.isArray(e)?e.map(()=>{}):void 0;function xc(e,t,n){return[...e.slice(0,t),...Xt(n),...e.slice(t)]}var Tc=(e,t,n)=>Array.isArray(e)?(Ne(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],kc=(e,t)=>[...Xt(t),...Xt(e)];function bP(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return _s(r).length?r:[]}var Ic=(e,t)=>Ne(t)?[]:bP(e,Xt(t).sort((n,r)=>n-r)),Nc=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function FP(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ne(e)?r++:e[t[r++]];return e}function jP(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ne(e[t]))return!1;return!0}function Ze(e,t){const n=Array.isArray(t)?t:ep(t)?[t]:ww(t),r=n.length===1?e:FP(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Je(r)&&jt(r)||Array.isArray(r)&&jP(r))&&Ze(e,n.slice(0,-1)),e}var $g=(e,t,n)=>(e[t]=n,e);function UP(e){const t=DP(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:s}=e,[o,l]=Q.useState(n._getFieldArray(r)),a=Q.useRef(n._getFieldArray(r).map(tr)),u=Q.useRef(o),c=Q.useRef(r),d=Q.useRef(!1);c.current=r,u.current=o,n._names.array.add(r),e.rules&&n.register(r,e.rules),_w({next:({values:C,name:k})=>{if(k===c.current||!k){const x=$(C,c.current);Array.isArray(x)&&(l(x),a.current=x.map(tr))}},subject:n._subjects.array});const f=Q.useCallback(C=>{d.current=!0,n._updateFieldArray(r,C)},[n,r]),y=(C,k)=>{const x=Xt(It(C)),A=Sc(n._getFieldArray(r),x);n._names.focus=Ec(r,A.length-1,k),a.current=Sc(a.current,x.map(tr)),f(A),l(A),n._updateFieldArray(r,A,Sc,{argA:Cc(C)})},g=(C,k)=>{const x=Xt(It(C)),A=kc(n._getFieldArray(r),x);n._names.focus=Ec(r,0,k),a.current=kc(a.current,x.map(tr)),f(A),l(A),n._updateFieldArray(r,A,kc,{argA:Cc(C)})},w=C=>{const k=Ic(n._getFieldArray(r),C);a.current=Ic(a.current,C),f(k),l(k),n._updateFieldArray(r,k,Ic,{argA:C})},R=(C,k,x)=>{const A=Xt(It(k)),B=xc(n._getFieldArray(r),C,A);n._names.focus=Ec(r,C,x),a.current=xc(a.current,C,A.map(tr)),f(B),l(B),n._updateFieldArray(r,B,xc,{argA:C,argB:Cc(k)})},m=(C,k)=>{const x=n._getFieldArray(r);Nc(x,C,k),Nc(a.current,C,k),f(x),l(x),n._updateFieldArray(r,x,Nc,{argA:C,argB:k},!1)},h=(C,k)=>{const x=n._getFieldArray(r);Tc(x,C,k),Tc(a.current,C,k),f(x),l(x),n._updateFieldArray(r,x,Tc,{argA:C,argB:k},!1)},v=(C,k)=>{const x=It(k),A=$g(n._getFieldArray(r),C,x);a.current=[...A].map((B,V)=>!B||V===C?tr():a.current[V]),f(A),l([...A]),n._updateFieldArray(r,A,$g,{argA:C,argB:x},!0,!1)},p=C=>{const k=Xt(It(C));a.current=k.map(tr),f([...k]),l([...k]),n._updateFieldArray(r,[...k],x=>x,{},!0,!1)};return Q.useEffect(()=>{if(n._state.action=!1,cf(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!uf(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(C=>{const k=$(C.errors,r),x=$(n._formState.errors,r);(x?!k&&x.type||k&&(x.type!==k.type||x.message!==k.message):k&&k.type)&&(k?Ie(n._formState.errors,r,k):Ze(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const C=$(n._fields,r);C&&C._f&&df(C,n._formValues,n._options.criteriaMode===Gt.all,n._options.shouldUseNativeValidation,!0).then(k=>!jt(k)&&n._subjects.state.next({errors:Ew(n._formState.errors,k,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Qi(n._fields,(C,k)=>{if(n._names.focus&&k.startsWith(n._names.focus)&&C.focus)return C.focus(),1}),n._names.focus="",n._updateValid(),d.current=!1},[o,r,n]),Q.useEffect(()=>(!$(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:Q.useCallback(m,[f,r,n]),move:Q.useCallback(h,[f,r,n]),prepend:Q.useCallback(g,[f,r,n]),append:Q.useCallback(y,[f,r,n]),remove:Q.useCallback(w,[f,r,n]),insert:Q.useCallback(R,[f,r,n]),update:Q.useCallback(v,[f,r,n]),replace:Q.useCallback(p,[f,r,n]),fields:Q.useMemo(()=>o.map((C,k)=>({...C,[i]:a.current[k]||tr()})),[o,i])}}var Rc=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},ba=e=>Et(e)||!yw(e);function Hr(e,t){if(ba(e)||ba(t))return e===t;if(Li(e)&&Li(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Li(s)&&Li(o)||Je(s)&&Je(o)||Array.isArray(s)&&Array.isArray(o)?!Hr(s,o):s!==o)return!1}}return!0}var xw=e=>e.type==="select-multiple",$P=e=>np(e)||rl(e),Pc=e=>Oa(e)&&e.isConnected,Tw=e=>{for(const t in e)if(dr(e[t]))return!0;return!1};function Fa(e,t={}){const n=Array.isArray(e);if(Je(e)||n)for(const r in e)Array.isArray(e[r])||Je(e[r])&&!Tw(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fa(e[r],t[r])):Et(e[r])||(t[r]=!0);return t}function kw(e,t,n){const r=Array.isArray(e);if(Je(e)||r)for(const i in e)Array.isArray(e[i])||Je(e[i])&&!Tw(e[i])?Ne(t)||ba(n[i])?n[i]=Array.isArray(e[i])?Fa(e[i],[]):{...Fa(e[i])}:kw(e[i],Et(t)?{}:t[i],n[i]):n[i]=!Hr(e[i],t[i]);return n}var Dc=(e,t)=>kw(e,t,Fa(t)),Iw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ne(e)?e:t?e===""?NaN:e&&+e:n&&Sn(e)?new Date(e):r?r(e):e;function Ac(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return tp(t)?t.files:np(t)?Cw(e.refs).value:xw(t)?[...t.selectedOptions].map(({value:n})=>n):rl(t)?Sw(e.refs).value:Iw(Ne(t.value)?e.ref.value:t.value,e)}var zP=(e,t,n,r)=>{const i={};for(const s of e){const o=$(t,s);o&&Ie(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Vs=e=>Ne(e)?e:Ma(e)?e.source:Je(e)?Ma(e.value)?e.value.source:e.value:e,VP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function zg(e,t,n){const r=$(e,n);if(r||ep(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=$(t,s),l=$(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var BP=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,WP=(e,t)=>!_s($(e,t)).length&&Ze(e,t);const HP={mode:Gt.onSubmit,reValidateMode:Gt.onChange,shouldFocusError:!0};function QP(e={},t){let n={...HP,...e},r={submitCount:0,isDirty:!1,isLoading:dr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=Je(n.defaultValues)||Je(n.values)?It(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:It(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Rc(),array:Rc(),state:Rc()},y=e.resetOptions&&e.resetOptions.keepDirtyValues,g=uf(n.mode),w=uf(n.reValidateMode),R=n.criteriaMode===Gt.all,m=_=>I=>{clearTimeout(c),c=setTimeout(_,I)},h=async _=>{if(d.isValid||_){const I=n.resolver?jt((await V()).errors):await q(i,!0);I!==r.isValid&&f.state.next({isValid:I})}},v=_=>d.isValidating&&f.state.next({isValidating:_}),p=(_,I=[],N,U,F=!0,O=!0)=>{if(U&&N){if(l.action=!0,O&&Array.isArray($(i,_))){const Y=N($(i,_),U.argA,U.argB);F&&Ie(i,_,Y)}if(O&&Array.isArray($(r.errors,_))){const Y=N($(r.errors,_),U.argA,U.argB);F&&Ie(r.errors,_,Y),WP(r.errors,_)}if(d.touchedFields&&O&&Array.isArray($(r.touchedFields,_))){const Y=N($(r.touchedFields,_),U.argA,U.argB);F&&Ie(r.touchedFields,_,Y)}d.dirtyFields&&(r.dirtyFields=Dc(s,o)),f.state.next({name:_,isDirty:ne(_,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ie(o,_,I)},C=(_,I)=>{Ie(r.errors,_,I),f.state.next({errors:r.errors})},k=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},x=(_,I,N,U)=>{const F=$(i,_);if(F){const O=$(o,_,Ne(N)?$(s,_):N);Ne(O)||U&&U.defaultChecked||I?Ie(o,_,I?O:Ac(F._f)):De(_,O),l.mount&&h()}},A=(_,I,N,U,F)=>{let O=!1,Y=!1;const de={name:_},Ve=!!($(i,_)&&$(i,_)._f.disabled);if(!N||U){d.isDirty&&(Y=r.isDirty,r.isDirty=de.isDirty=ne(),O=Y!==de.isDirty);const bt=Ve||Hr($(s,_),I);Y=!!(!Ve&&$(r.dirtyFields,_)),bt||Ve?Ze(r.dirtyFields,_):Ie(r.dirtyFields,_,!0),de.dirtyFields=r.dirtyFields,O=O||d.dirtyFields&&Y!==!bt}if(N){const bt=$(r.touchedFields,_);bt||(Ie(r.touchedFields,_,N),de.touchedFields=r.touchedFields,O=O||d.touchedFields&&bt!==N)}return O&&F&&f.state.next(de),O?de:{}},B=(_,I,N,U)=>{const F=$(r.errors,_),O=d.isValid&&Ln(I)&&r.isValid!==I;if(e.delayError&&N?(u=m(()=>C(_,N)),u(e.delayError)):(clearTimeout(c),u=null,N?Ie(r.errors,_,N):Ze(r.errors,_)),(N?!Hr(F,N):F)||!jt(U)||O){const Y={...U,...O&&Ln(I)?{isValid:I}:{},errors:r.errors,name:_};r={...r,...Y},f.state.next(Y)}v(!1)},V=async _=>n.resolver(o,n.context,zP(_||a.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),oe=async _=>{const{errors:I}=await V(_);if(_)for(const N of _){const U=$(I,N);U?Ie(r.errors,N,U):Ze(r.errors,N)}else r.errors=I;return I},q=async(_,I,N={valid:!0})=>{for(const U in _){const F=_[U];if(F){const{_f:O,...Y}=F;if(O){const de=a.array.has(O.name),Ve=await df(F,o,R,n.shouldUseNativeValidation&&!I,de);if(Ve[O.name]&&(N.valid=!1,I))break;!I&&($(Ve,O.name)?de?Ew(r.errors,Ve,O.name):Ie(r.errors,O.name,Ve[O.name]):Ze(r.errors,O.name))}Y&&await q(Y,I,N)}}return N.valid},X=()=>{for(const _ of a.unMount){const I=$(i,_);I&&(I._f.refs?I._f.refs.every(N=>!Pc(N)):!Pc(I._f.ref))&&Ar(_)}a.unMount=new Set},ne=(_,I)=>(_&&I&&Ie(o,_,I),!Hr(ht(),s)),te=(_,I,N)=>OP(_,a,{...l.mount?o:Ne(I)?s:Sn(_)?{[_]:I}:I},N,I),ze=_=>_s($(l.mount?o:s,_,e.shouldUnregister?$(s,_,[]):[])),De=(_,I,N={})=>{const U=$(i,_);let F=I;if(U){const O=U._f;O&&(!O.disabled&&Ie(o,_,Iw(I,O)),F=Oa(O.ref)&&Et(I)?"":I,xw(O.ref)?[...O.ref.options].forEach(Y=>Y.selected=F.includes(Y.value)):O.refs?rl(O.ref)?O.refs.length>1?O.refs.forEach(Y=>(!Y.defaultChecked||!Y.disabled)&&(Y.checked=Array.isArray(F)?!!F.find(de=>de===Y.value):F===Y.value)):O.refs[0]&&(O.refs[0].checked=!!F):O.refs.forEach(Y=>Y.checked=Y.value===F):tp(O.ref)?O.ref.value="":(O.ref.value=F,O.ref.type||f.values.next({name:_,values:{...o}})))}(N.shouldDirty||N.shouldTouch)&&A(_,F,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&fe(_)},b=(_,I,N)=>{for(const U in I){const F=I[U],O=`${_}.${U}`,Y=$(i,O);(a.array.has(_)||!ba(F)||Y&&!Y._f)&&!Li(F)?b(O,F,N):De(O,F,N)}},W=(_,I,N={})=>{const U=$(i,_),F=a.array.has(_),O=It(I);Ie(o,_,O),F?(f.array.next({name:_,values:{...o}}),(d.isDirty||d.dirtyFields)&&N.shouldDirty&&f.state.next({name:_,dirtyFields:Dc(s,o),isDirty:ne(_,O)})):U&&!U._f&&!Et(O)?b(_,O,N):De(_,O,N),cf(_,a)&&f.state.next({...r}),f.values.next({name:_,values:{...o}}),!l.mount&&t()},K=async _=>{const I=_.target;let N=I.name,U=!0;const F=$(i,N),O=()=>I.type?Ac(F._f):kP(_),Y=de=>{U=Number.isNaN(de)||de===$(o,N,de)};if(F){let de,Ve;const bt=O(),Rn=_.type===Mg.BLUR||_.type===Mg.FOCUS_OUT,Tu=!VP(F._f)&&!n.resolver&&!$(r.errors,N)&&!F._f.deps||BP(Rn,$(r.touchedFields,N),r.isSubmitted,w,g),fi=cf(N,a,Rn);Ie(o,N,bt),Rn?(F._f.onBlur&&F._f.onBlur(_),u&&u(0)):F._f.onChange&&F._f.onChange(_);const Zn=A(N,bt,Rn,!1),ol=!jt(Zn)||fi;if(!Rn&&f.values.next({name:N,type:_.type,values:{...o}}),Tu)return d.isValid&&h(),ol&&f.state.next({name:N,...fi?{}:Zn});if(!Rn&&fi&&f.state.next({...r}),v(!0),n.resolver){const{errors:hi}=await V([N]);if(Y(bt),U){const ku=zg(r.errors,i,N),ws=zg(hi,i,ku.name||N);de=ws.error,N=ws.name,Ve=jt(hi)}}else de=(await df(F,o,R,n.shouldUseNativeValidation))[N],Y(bt),U&&(de?Ve=!1:d.isValid&&(Ve=await q(i,!0)));U&&(F._f.deps&&fe(F._f.deps),B(N,Ve,de,Zn))}},me=(_,I)=>{if($(r.errors,I)&&_.focus)return _.focus(),1},fe=async(_,I={})=>{let N,U;const F=Xt(_);if(v(!0),n.resolver){const O=await oe(Ne(_)?_:F);N=jt(O),U=_?!F.some(Y=>$(O,Y)):N}else _?(U=(await Promise.all(F.map(async O=>{const Y=$(i,O);return await q(Y&&Y._f?{[O]:Y}:Y)}))).every(Boolean),!(!U&&!r.isValid)&&h()):U=N=await q(i);return f.state.next({...!Sn(_)||d.isValid&&N!==r.isValid?{}:{name:_},...n.resolver||!_?{isValid:N}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!U&&Qi(i,me,_?F:a.mount),U},ht=_=>{const I={...s,...l.mount?o:{}};return Ne(_)?I:Sn(_)?$(I,_):_.map(N=>$(I,N))},Qe=(_,I)=>({invalid:!!$((I||r).errors,_),isDirty:!!$((I||r).dirtyFields,_),isTouched:!!$((I||r).touchedFields,_),error:$((I||r).errors,_)}),gn=_=>{_&&Xt(_).forEach(I=>Ze(r.errors,I)),f.state.next({errors:_?r.errors:{}})},kt=(_,I,N)=>{const U=($(i,_,{_f:{}})._f||{}).ref;Ie(r.errors,_,{...I,ref:U}),f.state.next({name:_,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&U&&U.focus&&U.focus()},vn=(_,I)=>dr(_)?f.values.subscribe({next:N=>_(te(void 0,I),N)}):te(_,I,!0),Ar=(_,I={})=>{for(const N of _?Xt(_):a.mount)a.mount.delete(N),a.array.delete(N),I.keepValue||(Ze(i,N),Ze(o,N)),!I.keepError&&Ze(r.errors,N),!I.keepDirty&&Ze(r.dirtyFields,N),!I.keepTouched&&Ze(r.touchedFields,N),!n.shouldUnregister&&!I.keepDefaultValue&&Ze(s,N);f.values.next({values:{...o}}),f.state.next({...r,...I.keepDirty?{isDirty:ne()}:{}}),!I.keepIsValid&&h()},Ke=({disabled:_,name:I,field:N,fields:U,value:F})=>{if(Ln(_)){const O=_?void 0:Ne(F)?Ac(N?N._f:$(U,I)._f):F;Ie(o,I,O),A(I,O,!1,!1,!0)}},tn=(_,I={})=>{let N=$(i,_);const U=Ln(I.disabled);return Ie(i,_,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:_}},name:_,mount:!0,...I}}),a.mount.add(_),N?Ke({field:N,disabled:I.disabled,name:_,value:I.value}):x(_,!0,I.value),{...U?{disabled:I.disabled}:{},...n.progressive?{required:!!I.required,min:Vs(I.min),max:Vs(I.max),minLength:Vs(I.minLength),maxLength:Vs(I.maxLength),pattern:Vs(I.pattern)}:{},name:_,onChange:K,onBlur:K,ref:F=>{if(F){tn(_,I),N=$(i,_);const O=Ne(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,Y=$P(O),de=N._f.refs||[];if(Y?de.find(Ve=>Ve===O):O===N._f.ref)return;Ie(i,_,{_f:{...N._f,...Y?{refs:[...de.filter(Pc),O,...Array.isArray($(s,_))?[{}]:[]],ref:{type:O.type,name:_}}:{ref:O}}}),x(_,!1,void 0,O)}else N=$(i,_,{}),N._f&&(N._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(NP(a.array,_)&&l.action)&&a.unMount.add(_)}}},_e=()=>n.shouldFocusError&&Qi(i,me,a.mount),Mt=_=>{Ln(_)&&(f.state.next({disabled:_}),Qi(i,(I,N)=>{let U=_;const F=$(i,N);F&&Ln(F._f.disabled)&&(U||(U=F._f.disabled)),I.disabled=U},0,!1))},Ae=(_,I)=>async N=>{N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let U=It(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:F,values:O}=await V();r.errors=F,U=O}else await q(i);Ze(r.errors,"root"),jt(r.errors)?(f.state.next({errors:{}}),await _(U,N)):(I&&await I({...r.errors},N),_e(),setTimeout(_e)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Jn=(_,I={})=>{$(i,_)&&(Ne(I.defaultValue)?W(_,$(s,_)):(W(_,I.defaultValue),Ie(s,_,I.defaultValue)),I.keepTouched||Ze(r.touchedFields,_),I.keepDirty||(Ze(r.dirtyFields,_),r.isDirty=I.defaultValue?ne(_,$(s,_)):ne()),I.keepError||(Ze(r.errors,_),d.isValid&&h()),f.state.next({...r}))},il=(_,I={})=>{const N=_?It(_):s,U=It(N),F=_&&!jt(_)?U:s;if(I.keepDefaultValues||(s=N),!I.keepValues){if(I.keepDirtyValues||y)for(const O of a.mount)$(r.dirtyFields,O)?Ie(F,O,$(o,O)):W(O,$(F,O));else{if(Zh&&Ne(_))for(const O of a.mount){const Y=$(i,O);if(Y&&Y._f){const de=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(Oa(de)){const Ve=de.closest("form");if(Ve){Ve.reset();break}}}}i={}}o=e.shouldUnregister?I.keepDefaultValues?It(s):{}:It(F),f.array.next({values:{...F}}),f.values.next({values:{...F}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!d.isValid||!!I.keepIsValid,l.watch=!!e.shouldUnregister,f.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Hr(_,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&_?Dc(s,_):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},sl=(_,I)=>il(dr(_)?_(o):_,I);return{control:{register:tn,unregister:Ar,getFieldState:Qe,handleSubmit:Ae,setError:kt,_executeSchema:V,_getWatch:te,_getDirty:ne,_updateValid:h,_removeUnmounted:X,_updateFieldArray:p,_updateDisabledField:Ke,_getFieldArray:ze,_reset:il,_resetDefaultValues:()=>dr(n.defaultValues)&&n.defaultValues().then(_=>{sl(_,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:_=>{r={...r,..._}},_disableForm:Mt,_subjects:f,_proxyFormState:d,_setErrors:k,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(_){l=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},set _formState(_){r=_},get _options(){return n},set _options(_){n={...n,..._}}},trigger:fe,register:tn,handleSubmit:Ae,watch:vn,setValue:W,getValues:ht,reset:sl,resetField:Jn,clearErrors:gn,unregister:Ar,setError:kt,setFocus:(_,I={})=>{const N=$(i,_),U=N&&N._f;if(U){const F=U.refs?U.refs[0]:U.ref;F.focus&&(F.focus(),I.shouldSelect&&F.select())}},getFieldState:Qe}}function qP(e={}){const t=Q.useRef(),n=Q.useRef(),[r,i]=Q.useState({isDirty:!1,isValidating:!1,isLoading:dr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:!1,defaultValues:dr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...QP(e,()=>i(o=>({...o}))),formState:r});const s=t.current.control;return s._options=e,_w({subject:s._subjects.state,next:o=>{LP(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Q.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Q.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Q.useEffect(()=>{e.values&&!Hr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),Q.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),Q.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=AP(r,s),t.current}const Lc=({inputProps:e,label:t})=>D.jsxs("label",{className:"form-control w-full",children:[D.jsx("div",{className:"label",children:D.jsx("span",{className:"label-text",children:t})}),D.jsx("input",{type:"text",placeholder:"Type here",className:"input input-bordered w-full",...e})]}),Nw=({onSubmit:e,initialValues:t={answers:[{text:"",points:0}]}})=>{const{register:n,control:r,handleSubmit:i}=qP({defaultValues:t,mode:"onBlur"}),{fields:s,append:o,remove:l}=UP({name:"answers",control:r});return D.jsxs("form",{onSubmit:i(e),className:"",children:[D.jsxs("div",{className:"flex flex-col gap-y-2 mb-4",children:[D.jsx("div",{className:"mb-2",children:D.jsx(Lc,{label:"Question",inputProps:n("question",{required:!0})})}),D.jsx("div",{className:"font-bold",children:"Answers"}),s.map((a,u)=>D.jsxs("div",{className:"grid grid-cols-[3fr,1fr,1fr] gap-x-4 items-center",children:[D.jsx(Lc,{label:`Answer ${u+1}`,inputProps:n(`answers.${u}.text`,{required:!0})}),D.jsx(Lc,{label:"Points",inputProps:{...n(`answers.${u}.points`,{required:!0}),type:"number",min:1,onKeyDown:c=>{c.shiftKey||c.key==="Tab"&&u===s.length-1&&(c.preventDefault(),o({text:"",points:0}))}}}),D.jsxs("div",{children:[D.jsx("div",{className:"mb-2",children:""}),D.jsx($n,{type:"button",onClick:()=>l(u),style:"btn-error",outline:!0,children:"Delete"})]})]},a.id))]}),D.jsx($n,{type:"button",onClick:()=>o({text:"",points:0}),children:"Add question"}),D.jsx("div",{className:"text-right",children:D.jsx($n,{type:"submit",style:"btn-primary",children:"Submit"})})]})},GP=({isOpen:e,onClose:t=()=>{}})=>D.jsx(vw,{isOpen:e,onClose:t,children:D.jsx(Nw,{onSubmit:n=>{confirm("Are you sure you want to add this question?")!==!1&&(PN(n),t())}})});function Vg(){return"/questions"}const KP=()=>{const[e,t]=E.useState([]),n=gw(),{player:r}=Yh({playerId:ef.getPlayerId()});return E.useEffect(()=>{const i=NN(o=>{t(o)});function s(){i()}return s},[]),D.jsxs("div",{className:"p-4 max-w-5xl",children:[D.jsx("div",{className:"mb-8 flex justify-end",children:D.jsx($n,{onClick:n.open,children:"Add question"})}),D.jsx(GP,{isOpen:n.isOpen,onClose:n.close}),D.jsx("ul",{children:e.map(i=>D.jsx("li",{children:D.jsxs(iu,{to:Y0(i.id),className:"mb-4 border border-gray-500 rounded p-4 flex justify-between",children:[i.text,r&&r.questions[i.id]&&D.jsx("div",{className:"text-green-600 italic",children:"Played"})]})},i.id))})]})},YP=({title:e,description:t,children:n})=>{const r=gw(),i=qo();return E.useEffect(()=>(r.open(),()=>{r.close()}),[]),D.jsx(vw,{isOpen:r.isOpen,onClose:()=>{r.close(),i(-1)},title:e,description:t,children:n})},XP=()=>{const e=qo(),{id:t}=uh(),{question:n,loading:r}=_u(t);function i(s){!t||!n||(q0(t,s),e(-1))}return r?D.jsx("div",{children:"Loading..."}):n?D.jsx(YP,{title:D.jsx(D.Fragment,{children:"Edit question"}),children:D.jsx(Nw,{onSubmit:i,initialValues:{question:n.text,answers:n.answers}})}):D.jsx("div",{children:"Question not found"})},JP=y1([{path:"/",errorElement:D.jsx("div",{children:"Not found"}),element:D.jsxs("div",{children:[D.jsx("div",{children:"Family Feud"}),D.jsx("ul",{children:D.jsx("li",{children:D.jsx(iu,{to:Vg(),children:"Question List"})})})]})},{path:Vg(),element:D.jsx(KP,{})},{path:Y0(":id"),element:D.jsx(WN,{}),children:[{path:"edit",element:D.jsx(XP,{})}]},{path:K0(":playerId",":questionId"),element:D.jsx(VN,{})},{path:"board",element:D.jsx(zN,{})}]);function ZP(){return D.jsx("div",{children:D.jsx(I1,{router:JP})})}Oc.createRoot(document.getElementById("root")).render(D.jsx(Q.StrictMode,{children:D.jsx(ZP,{})}));
